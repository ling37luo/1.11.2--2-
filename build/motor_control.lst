ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motor_control.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "App/Src/motor_control.c"
  20              		.section	.text.Motor_Process_Angle,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	Motor_Process_Angle:
  27              	.LVL0:
  28              	.LFB134:
   1:App/Src/motor_control.c **** #include "motor_control.h"
   2:App/Src/motor_control.c **** #include "can_bsp.h"
   3:App/Src/motor_control.c **** #include <math.h>
   4:App/Src/motor_control.c **** 
   5:App/Src/motor_control.c **** GM6020_TypeDef gm6020_motors[4];
   6:App/Src/motor_control.c **** //int16_t motor_current_send_buf[4]; // 添加发送缓冲区定义
   7:App/Src/motor_control.c **** 
   8:App/Src/motor_control.c **** #define PI 3.1415926535f
   9:App/Src/motor_control.c **** 
  10:App/Src/motor_control.c **** /**
  11:App/Src/motor_control.c ****  * @brief 角度处理
  12:App/Src/motor_control.c ****  */
  13:App/Src/motor_control.c **** static void Motor_Process_Angle(GM6020_TypeDef *motor) {
  29              		.loc 1 13 56 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  14:App/Src/motor_control.c ****     int diff = motor->ecd_raw - motor->last_ecd;
  34              		.loc 1 14 5 view .LVU1
  35              		.loc 1 14 21 is_stmt 0 view .LVU2
  36 0000 4288     		ldrh	r2, [r0, #2]
  37              		.loc 1 14 38 view .LVU3
  38 0002 8388     		ldrh	r3, [r0, #4]
  39              		.loc 1 14 9 view .LVU4
  40 0004 D31A     		subs	r3, r2, r3
  41              	.LVL1:
  15:App/Src/motor_control.c ****     if (diff > 4096) motor->round_cnt--;
  42              		.loc 1 15 5 is_stmt 1 view .LVU5
  43              		.loc 1 15 8 is_stmt 0 view .LVU6
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 2


  44 0006 B3F5805F 		cmp	r3, #4096
  45 000a 1ADD     		ble	.L2
  46              		.loc 1 15 22 is_stmt 1 discriminator 1 view .LVU7
  47              		.loc 1 15 27 is_stmt 0 discriminator 1 view .LVU8
  48 000c C368     		ldr	r3, [r0, #12]
  49              	.LVL2:
  50              		.loc 1 15 38 discriminator 1 view .LVU9
  51 000e 013B     		subs	r3, r3, #1
  52 0010 C360     		str	r3, [r0, #12]
  53              	.L3:
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  17:App/Src/motor_control.c ****     motor->total_angle = motor->round_cnt * 360.0f + (motor->ecd_raw / 8192.0f * 360.0f);
  54              		.loc 1 17 5 is_stmt 1 view .LVU10
  55              		.loc 1 17 43 is_stmt 0 view .LVU11
  56 0012 D0ED037A 		vldr.32	s15, [r0, #12]	@ int
  57 0016 F8EEE77A 		vcvt.f32.s32	s15, s15
  58 001a DFED0D6A 		vldr.32	s13, .L4
  59 001e 67EEA67A 		vmul.f32	s15, s15, s13
  60              		.loc 1 17 70 view .LVU12
  61 0022 07EE102A 		vmov	s14, r2	@ int
  62 0026 B8EEC77A 		vcvt.f32.s32	s14, s14
  63 002a 9FED0A6A 		vldr.32	s12, .L4+4
  64 002e 27EE067A 		vmul.f32	s14, s14, s12
  65              		.loc 1 17 80 view .LVU13
  66 0032 27EE267A 		vmul.f32	s14, s14, s13
  67              		.loc 1 17 52 view .LVU14
  68 0036 77EE877A 		vadd.f32	s15, s15, s14
  69              		.loc 1 17 24 view .LVU15
  70 003a C0ED047A 		vstr.32	s15, [r0, #16]
  18:App/Src/motor_control.c ****     motor->last_ecd = motor->ecd_raw;
  71              		.loc 1 18 5 is_stmt 1 view .LVU16
  72              		.loc 1 18 21 is_stmt 0 view .LVU17
  73 003e 8280     		strh	r2, [r0, #4]	@ movhi
  74              	.LVL3:
  19:App/Src/motor_control.c **** }
  75              		.loc 1 19 1 view .LVU18
  76 0040 7047     		bx	lr
  77              	.LVL4:
  78              	.L2:
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  79              		.loc 1 16 10 is_stmt 1 view .LVU19
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  80              		.loc 1 16 13 is_stmt 0 view .LVU20
  81 0042 13F5805F 		cmn	r3, #4096
  82 0046 E4DA     		bge	.L3
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  83              		.loc 1 16 28 is_stmt 1 discriminator 1 view .LVU21
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  84              		.loc 1 16 33 is_stmt 0 discriminator 1 view .LVU22
  85 0048 C368     		ldr	r3, [r0, #12]
  86              	.LVL5:
  16:App/Src/motor_control.c ****     else if (diff < -4096) motor->round_cnt++;
  87              		.loc 1 16 44 discriminator 1 view .LVU23
  88 004a 0133     		adds	r3, r3, #1
  89 004c C360     		str	r3, [r0, #12]
  90 004e E0E7     		b	.L3
  91              	.L5:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 3


  92              		.align	2
  93              	.L4:
  94 0050 0000B443 		.word	1135869952
  95 0054 00000039 		.word	956301312
  96              		.cfi_endproc
  97              	.LFE134:
  99              		.section	.text.limit_current,"ax",%progbits
 100              		.align	1
 101              		.syntax unified
 102              		.thumb
 103              		.thumb_func
 105              	limit_current:
 106              	.LVL6:
 107              	.LFB136:
  20:App/Src/motor_control.c **** 
  21:App/Src/motor_control.c **** /**
  22:App/Src/motor_control.c ****  * @brief 计算重力前馈
  23:App/Src/motor_control.c ****  */
  24:App/Src/motor_control.c **** static int16_t Motor_Calc_Gravity_FF(GM6020_TypeDef *motor) {
  25:App/Src/motor_control.c ****     if (motor->id == 4) {
  26:App/Src/motor_control.c ****         const float PITCH_GRAVITY_GAIN = 800.0f;
  27:App/Src/motor_control.c ****         return (int16_t)(PITCH_GRAVITY_GAIN * sinf(motor->total_angle * PI / 180.0f));
  28:App/Src/motor_control.c ****     }
  29:App/Src/motor_control.c ****      if (motor->id == 4) return 0;
  30:App/Src/motor_control.c ****     int32_t ecd_diff = motor->ecd_raw - motor->horizon_ecd;
  31:App/Src/motor_control.c ****     
  32:App/Src/motor_control.c ****     if (ecd_diff > 4096)  ecd_diff -= 8192;
  33:App/Src/motor_control.c ****     if (ecd_diff < -4096) ecd_diff += 8192;
  34:App/Src/motor_control.c **** 
  35:App/Src/motor_control.c ****     float angle_rad = (float)ecd_diff * (2.0f * PI / 8192.0f);
  36:App/Src/motor_control.c ****     return (int16_t)(motor->gravity_gain * cosf(angle_rad));
  37:App/Src/motor_control.c **** }
  38:App/Src/motor_control.c **** 
  39:App/Src/motor_control.c **** // 辅助函数：限制电流范围
  40:App/Src/motor_control.c **** static int16_t limit_current(float val) {
 108              		.loc 1 40 41 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
  41:App/Src/motor_control.c ****     if (val > GM6020_MAX_CURRENT) return (int16_t)GM6020_MAX_CURRENT;
 113              		.loc 1 41 5 view .LVU25
 114              		.loc 1 41 8 is_stmt 0 view .LVU26
 115 0000 DFED0C7A 		vldr.32	s15, .L10
 116 0004 B4EEE70A 		vcmpe.f32	s0, s15
 117 0008 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 118 000c 0CDC     		bgt	.L8
  42:App/Src/motor_control.c ****     if (val < -GM6020_MAX_CURRENT) return (int16_t)-GM6020_MAX_CURRENT;
 119              		.loc 1 42 5 is_stmt 1 view .LVU27
 120              		.loc 1 42 8 is_stmt 0 view .LVU28
 121 000e DFED0A7A 		vldr.32	s15, .L10+4
 122 0012 B4EEE70A 		vcmpe.f32	s0, s15
 123 0016 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 124 001a 08D4     		bmi	.L9
  43:App/Src/motor_control.c ****     return (int16_t)val;
 125              		.loc 1 43 5 is_stmt 1 view .LVU29
 126              		.loc 1 43 12 is_stmt 0 view .LVU30
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 4


 127 001c BDEEC00A 		vcvt.s32.f32	s0, s0
 128              	.LVL7:
 129              		.loc 1 43 12 view .LVU31
 130 0020 10EE103A 		vmov	r3, s0	@ int
 131 0024 18B2     		sxth	r0, r3
 132 0026 7047     		bx	lr
 133              	.LVL8:
 134              	.L8:
  41:App/Src/motor_control.c ****     if (val > GM6020_MAX_CURRENT) return (int16_t)GM6020_MAX_CURRENT;
 135              		.loc 1 41 42 discriminator 1 view .LVU32
 136 0028 4FF48040 		mov	r0, #16384
 137 002c 7047     		bx	lr
 138              	.L9:
  42:App/Src/motor_control.c ****     if (val < -GM6020_MAX_CURRENT) return (int16_t)-GM6020_MAX_CURRENT;
 139              		.loc 1 42 43 discriminator 1 view .LVU33
 140 002e 0348     		ldr	r0, .L10+8
  44:App/Src/motor_control.c **** }
 141              		.loc 1 44 1 view .LVU34
 142 0030 7047     		bx	lr
 143              	.L11:
 144 0032 00BF     		.align	2
 145              	.L10:
 146 0034 00008046 		.word	1182793728
 147 0038 000080C6 		.word	-964689920
 148 003c 00C0FFFF 		.word	-16384
 149              		.cfi_endproc
 150              	.LFE136:
 152              		.section	.text.Motor_Check_Stall,"ax",%progbits
 153              		.align	1
 154              		.syntax unified
 155              		.thumb
 156              		.thumb_func
 158              	Motor_Check_Stall:
 159              	.LVL9:
 160              	.LFB137:
  45:App/Src/motor_control.c **** 
  46:App/Src/motor_control.c **** /**
  47:App/Src/motor_control.c ****  * @brief 堵转检测逻辑 (只保留一个定义)
  48:App/Src/motor_control.c ****  */
  49:App/Src/motor_control.c **** static void Motor_Check_Stall(GM6020_TypeDef *motor) {
 161              		.loc 1 49 54 is_stmt 1 view -0
 162              		.cfi_startproc
 163              		@ args = 0, pretend = 0, frame = 0
 164              		@ frame_needed = 0, uses_anonymous_args = 0
 165              		@ link register save eliminated.
  50:App/Src/motor_control.c ****     if (motor->mode == MOTOR_MODE_STOP || motor->is_stalled) return;
 166              		.loc 1 50 5 view .LVU36
 167              		.loc 1 50 14 is_stmt 0 view .LVU37
 168 0000 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 169              		.loc 1 50 8 view .LVU38
 170 0002 032B     		cmp	r3, #3
 171 0004 32D0     		beq	.L12
 172              		.loc 1 50 48 discriminator 2 view .LVU39
 173 0006 90F8EC30 		ldrb	r3, [r0, #236]	@ zero_extendqisi2
 174              		.loc 1 50 40 discriminator 2 view .LVU40
 175 000a 7BBB     		cbnz	r3, .L12
  51:App/Src/motor_control.c **** 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 5


  52:App/Src/motor_control.c ****     if (fabsf(motor->output_current) > STALL_CURRENT_THRESH && 
 176              		.loc 1 52 5 is_stmt 1 view .LVU41
 177              		.loc 1 52 20 is_stmt 0 view .LVU42
 178 000c B0F9E430 		ldrsh	r3, [r0, #228]
 179 0010 07EE903A 		vmov	s15, r3	@ int
 180              		.loc 1 52 9 view .LVU43
 181 0014 F8EEE77A 		vcvt.f32.s32	s15, s15
 182 0018 F0EEE77A 		vabs.f32	s15, s15
 183              		.loc 1 52 8 view .LVU44
 184 001c 9FED147A 		vldr.32	s14, .L19
 185 0020 F4EEC77A 		vcmpe.f32	s15, s14
 186 0024 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 187 0028 1DDD     		ble	.L14
  53:App/Src/motor_control.c ****         fabsf(motor->speed_rpm) < STALL_SPEED_THRESH) {
 188              		.loc 1 53 20 view .LVU45
 189 002a B0F90630 		ldrsh	r3, [r0, #6]
 190 002e 07EE903A 		vmov	s15, r3	@ int
 191              		.loc 1 53 9 view .LVU46
 192 0032 F8EEE77A 		vcvt.f32.s32	s15, s15
 193 0036 F0EEE77A 		vabs.f32	s15, s15
  52:App/Src/motor_control.c ****         fabsf(motor->speed_rpm) < STALL_SPEED_THRESH) {
 194              		.loc 1 52 61 discriminator 1 view .LVU47
 195 003a 9FED0E7A 		vldr.32	s14, .L19+4
 196 003e F4EEC77A 		vcmpe.f32	s15, s14
 197 0042 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 198 0046 0ED5     		bpl	.L14
  54:App/Src/motor_control.c ****         
  55:App/Src/motor_control.c ****         motor->stall_cnt++;
 199              		.loc 1 55 9 is_stmt 1 view .LVU48
 200              		.loc 1 55 14 is_stmt 0 view .LVU49
 201 0048 D0F8E830 		ldr	r3, [r0, #232]
 202              		.loc 1 55 25 view .LVU50
 203 004c 0133     		adds	r3, r3, #1
 204 004e C0F8E830 		str	r3, [r0, #232]
  56:App/Src/motor_control.c ****         if (motor->stall_cnt > STALL_TIME_MS) {
 205              		.loc 1 56 9 is_stmt 1 view .LVU51
 206              		.loc 1 56 12 is_stmt 0 view .LVU52
 207 0052 40F2DC52 		movw	r2, #1500
 208 0056 9342     		cmp	r3, r2
 209 0058 08D9     		bls	.L12
  57:App/Src/motor_control.c ****             motor->is_stalled = 1;
 210              		.loc 1 57 13 is_stmt 1 view .LVU53
 211              		.loc 1 57 31 is_stmt 0 view .LVU54
 212 005a 0123     		movs	r3, #1
 213 005c 80F8EC30 		strb	r3, [r0, #236]
  58:App/Src/motor_control.c ****             motor->mode = MOTOR_MODE_STOP;
 214              		.loc 1 58 13 is_stmt 1 view .LVU55
 215              		.loc 1 58 25 is_stmt 0 view .LVU56
 216 0060 0323     		movs	r3, #3
 217 0062 4370     		strb	r3, [r0, #1]
 218 0064 7047     		bx	lr
 219              	.L14:
  59:App/Src/motor_control.c ****         }
  60:App/Src/motor_control.c ****     } else {
  61:App/Src/motor_control.c ****         motor->stall_cnt = 0;
 220              		.loc 1 61 9 is_stmt 1 view .LVU57
 221              		.loc 1 61 26 is_stmt 0 view .LVU58
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 6


 222 0066 0023     		movs	r3, #0
 223 0068 C0F8E830 		str	r3, [r0, #232]
 224              	.L12:
  62:App/Src/motor_control.c ****     }
  63:App/Src/motor_control.c **** }
 225              		.loc 1 63 1 view .LVU59
 226 006c 7047     		bx	lr
 227              	.L20:
 228 006e 00BF     		.align	2
 229              	.L19:
 230 0070 00803B46 		.word	1178304512
 231 0074 0000C842 		.word	1120403456
 232              		.cfi_endproc
 233              	.LFE137:
 235              		.section	.text.Handle_Static_Motor,"ax",%progbits
 236              		.align	1
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	Handle_Static_Motor:
 242              	.LVL10:
 243              	.LFB138:
  64:App/Src/motor_control.c **** static void Handle_Static_Motor(GM6020_TypeDef *motor, float *current_target) {
 244              		.loc 1 64 79 is_stmt 1 view -0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 0
 247              		@ frame_needed = 0, uses_anonymous_args = 0
 248              		.loc 1 64 79 is_stmt 0 view .LVU61
 249 0000 10B5     		push	{r4, lr}
 250              	.LCFI0:
 251              		.cfi_def_cfa_offset 8
 252              		.cfi_offset 4, -8
 253              		.cfi_offset 14, -4
 254 0002 0C46     		mov	r4, r1
  65:App/Src/motor_control.c ****     // 速度死区：实际速度在±0.5 RPM内视为静止
  66:App/Src/motor_control.c ****     if (fabsf(motor->speed_rpm) < 0.5f) {
 255              		.loc 1 66 5 is_stmt 1 view .LVU62
 256              		.loc 1 66 20 is_stmt 0 view .LVU63
 257 0004 B0F90630 		ldrsh	r3, [r0, #6]
 258 0008 00EE903A 		vmov	s1, r3	@ int
 259              		.loc 1 66 9 view .LVU64
 260 000c F8EEE00A 		vcvt.f32.s32	s1, s1
 261 0010 B0EEE07A 		vabs.f32	s14, s1
 262              		.loc 1 66 8 view .LVU65
 263 0014 F6EE007A 		vmov.f32	s15, #5.0e-1
 264 0018 B4EEE77A 		vcmpe.f32	s14, s15
 265 001c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 266 0020 18D5     		bpl	.L29
  67:App/Src/motor_control.c ****         // 电流死区：防止微小调整
  68:App/Src/motor_control.c ****         if (fabsf(motor->output_current) < 200.0f) {
 267              		.loc 1 68 9 is_stmt 1 view .LVU66
 268              		.loc 1 68 24 is_stmt 0 view .LVU67
 269 0022 B0F9E430 		ldrsh	r3, [r0, #228]
 270 0026 07EE903A 		vmov	s15, r3	@ int
 271              		.loc 1 68 13 view .LVU68
 272 002a F8EEE77A 		vcvt.f32.s32	s15, s15
 273 002e F0EEE76A 		vabs.f32	s13, s15
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 7


 274              		.loc 1 68 12 view .LVU69
 275 0032 9FED0C7A 		vldr.32	s14, .L32
 276 0036 F4EEC76A 		vcmpe.f32	s13, s14
 277 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 278 003e 02D5     		bpl	.L30
  69:App/Src/motor_control.c ****             *current_target = 0;
 279              		.loc 1 69 13 is_stmt 1 view .LVU70
 280              		.loc 1 69 29 is_stmt 0 view .LVU71
 281 0040 0023     		movs	r3, #0
 282 0042 0B60     		str	r3, [r1]	@ float
 283              	.LVL11:
 284              	.L21:
  70:App/Src/motor_control.c ****         } else {
  71:App/Src/motor_control.c ****             // 保持微小电流抵消摩擦
  72:App/Src/motor_control.c ****             *current_target = motor->output_current * 0.95f;
  73:App/Src/motor_control.c ****         }
  74:App/Src/motor_control.c ****     } else {
  75:App/Src/motor_control.c ****         // 仍然有速度，使用常规控制
  76:App/Src/motor_control.c ****         *current_target = PID_Calc(&motor->speed_pid, 0, motor->speed_rpm);
  77:App/Src/motor_control.c ****     }
  78:App/Src/motor_control.c **** }
 285              		.loc 1 78 1 view .LVU72
 286 0044 10BD     		pop	{r4, pc}
 287              	.LVL12:
 288              	.L30:
  72:App/Src/motor_control.c ****         }
 289              		.loc 1 72 13 is_stmt 1 view .LVU73
  72:App/Src/motor_control.c ****         }
 290              		.loc 1 72 53 is_stmt 0 view .LVU74
 291 0046 9FED087A 		vldr.32	s14, .L32+4
 292 004a 67EE877A 		vmul.f32	s15, s15, s14
  72:App/Src/motor_control.c ****         }
 293              		.loc 1 72 29 view .LVU75
 294 004e C1ED007A 		vstr.32	s15, [r1]
 295 0052 F7E7     		b	.L21
 296              	.L29:
  76:App/Src/motor_control.c ****     }
 297              		.loc 1 76 9 is_stmt 1 view .LVU76
  76:App/Src/motor_control.c ****     }
 298              		.loc 1 76 27 is_stmt 0 view .LVU77
 299 0054 9FED050A 		vldr.32	s0, .L32+8
 300 0058 1830     		adds	r0, r0, #24
 301              	.LVL13:
  76:App/Src/motor_control.c ****     }
 302              		.loc 1 76 27 view .LVU78
 303 005a FFF7FEFF 		bl	PID_Calc
 304              	.LVL14:
  76:App/Src/motor_control.c ****     }
 305              		.loc 1 76 25 discriminator 1 view .LVU79
 306 005e 84ED000A 		vstr.32	s0, [r4]
 307              		.loc 1 78 1 view .LVU80
 308 0062 EFE7     		b	.L21
 309              	.L33:
 310              		.align	2
 311              	.L32:
 312 0064 00004843 		.word	1128792064
 313 0068 3333733F 		.word	1064514355
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 8


 314 006c 00000000 		.word	0
 315              		.cfi_endproc
 316              	.LFE138:
 318              		.section	.text.Motor_Calc_Gravity_FF,"ax",%progbits
 319              		.align	1
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 324              	Motor_Calc_Gravity_FF:
 325              	.LVL15:
 326              	.LFB135:
  24:App/Src/motor_control.c ****     if (motor->id == 4) {
 327              		.loc 1 24 61 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
  24:App/Src/motor_control.c ****     if (motor->id == 4) {
 331              		.loc 1 24 61 is_stmt 0 view .LVU82
 332 0000 08B5     		push	{r3, lr}
 333              	.LCFI1:
 334              		.cfi_def_cfa_offset 8
 335              		.cfi_offset 3, -8
 336              		.cfi_offset 14, -4
 337 0002 2DED028B 		vpush.64	{d8}
 338              	.LCFI2:
 339              		.cfi_def_cfa_offset 16
 340              		.cfi_offset 80, -16
 341              		.cfi_offset 81, -12
  25:App/Src/motor_control.c ****         const float PITCH_GRAVITY_GAIN = 800.0f;
 342              		.loc 1 25 5 is_stmt 1 view .LVU83
  25:App/Src/motor_control.c ****         const float PITCH_GRAVITY_GAIN = 800.0f;
 343              		.loc 1 25 14 is_stmt 0 view .LVU84
 344 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  25:App/Src/motor_control.c ****         const float PITCH_GRAVITY_GAIN = 800.0f;
 345              		.loc 1 25 8 view .LVU85
 346 0008 042B     		cmp	r3, #4
 347 000a 1ED0     		beq	.L40
  29:App/Src/motor_control.c ****     int32_t ecd_diff = motor->ecd_raw - motor->horizon_ecd;
 348              		.loc 1 29 6 is_stmt 1 view .LVU86
  30:App/Src/motor_control.c ****     
 349              		.loc 1 30 5 view .LVU87
  30:App/Src/motor_control.c ****     
 350              		.loc 1 30 29 is_stmt 0 view .LVU88
 351 000c 4388     		ldrh	r3, [r0, #2]
  30:App/Src/motor_control.c ****     
 352              		.loc 1 30 46 view .LVU89
 353 000e B0F8EE20 		ldrh	r2, [r0, #238]
  30:App/Src/motor_control.c ****     
 354              		.loc 1 30 13 view .LVU90
 355 0012 9B1A     		subs	r3, r3, r2
 356              	.LVL16:
  32:App/Src/motor_control.c ****     if (ecd_diff < -4096) ecd_diff += 8192;
 357              		.loc 1 32 5 is_stmt 1 view .LVU91
  32:App/Src/motor_control.c ****     if (ecd_diff < -4096) ecd_diff += 8192;
 358              		.loc 1 32 8 is_stmt 0 view .LVU92
 359 0014 B3F5805F 		cmp	r3, #4096
 360 0018 2DDD     		ble	.L37
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 9


  32:App/Src/motor_control.c ****     if (ecd_diff < -4096) ecd_diff += 8192;
 361              		.loc 1 32 27 is_stmt 1 discriminator 1 view .LVU93
  32:App/Src/motor_control.c ****     if (ecd_diff < -4096) ecd_diff += 8192;
 362              		.loc 1 32 36 is_stmt 0 discriminator 1 view .LVU94
 363 001a A3F50053 		sub	r3, r3, #8192
 364              	.LVL17:
  33:App/Src/motor_control.c **** 
 365              		.loc 1 33 5 is_stmt 1 view .LVU95
 366              	.L38:
  35:App/Src/motor_control.c ****     return (int16_t)(motor->gravity_gain * cosf(angle_rad));
 367              		.loc 1 35 5 view .LVU96
  35:App/Src/motor_control.c ****     return (int16_t)(motor->gravity_gain * cosf(angle_rad));
 368              		.loc 1 35 23 is_stmt 0 view .LVU97
 369 001e 07EE903A 		vmov	s15, r3	@ int
 370 0022 F8EEE77A 		vcvt.f32.s32	s15, s15
 371              	.LVL18:
  36:App/Src/motor_control.c **** }
 372              		.loc 1 36 5 is_stmt 1 view .LVU98
  36:App/Src/motor_control.c **** }
 373              		.loc 1 36 27 is_stmt 0 view .LVU99
 374 0026 90ED3C8A 		vldr.32	s16, [r0, #240]
  36:App/Src/motor_control.c **** }
 375              		.loc 1 36 44 view .LVU100
 376 002a 9FED160A 		vldr.32	s0, .L41
 377 002e 27EE800A 		vmul.f32	s0, s15, s0
 378              	.LVL19:
  36:App/Src/motor_control.c **** }
 379              		.loc 1 36 44 view .LVU101
 380 0032 FFF7FEFF 		bl	cosf
 381              	.LVL20:
  36:App/Src/motor_control.c **** }
 382              		.loc 1 36 42 discriminator 1 view .LVU102
 383 0036 28EE008A 		vmul.f32	s16, s16, s0
  36:App/Src/motor_control.c **** }
 384              		.loc 1 36 12 discriminator 1 view .LVU103
 385 003a BDEEC88A 		vcvt.s32.f32	s16, s16
 386 003e 18EE103A 		vmov	r3, s16	@ int
 387 0042 18B2     		sxth	r0, r3
 388              	.LVL21:
 389              	.L36:
  37:App/Src/motor_control.c **** 
 390              		.loc 1 37 1 view .LVU104
 391 0044 BDEC028B 		vldm	sp!, {d8}
 392              	.LCFI3:
 393              		.cfi_remember_state
 394              		.cfi_restore 80
 395              		.cfi_restore 81
 396              		.cfi_def_cfa_offset 8
 397 0048 08BD     		pop	{r3, pc}
 398              	.LVL22:
 399              	.L40:
 400              	.LCFI4:
 401              		.cfi_restore_state
 402              	.LBB2:
  26:App/Src/motor_control.c ****         return (int16_t)(PITCH_GRAVITY_GAIN * sinf(motor->total_angle * PI / 180.0f));
 403              		.loc 1 26 9 is_stmt 1 view .LVU105
  27:App/Src/motor_control.c ****     }
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 10


 404              		.loc 1 27 9 view .LVU106
  27:App/Src/motor_control.c ****     }
 405              		.loc 1 27 57 is_stmt 0 view .LVU107
 406 004a D0ED047A 		vldr.32	s15, [r0, #16]
  27:App/Src/motor_control.c ****     }
 407              		.loc 1 27 71 view .LVU108
 408 004e 9FED0E7A 		vldr.32	s14, .L41+4
 409 0052 67EE877A 		vmul.f32	s15, s15, s14
  27:App/Src/motor_control.c ****     }
 410              		.loc 1 27 47 view .LVU109
 411 0056 9FED0D0A 		vldr.32	s0, .L41+8
 412 005a 87EE800A 		vdiv.f32	s0, s15, s0
 413 005e FFF7FEFF 		bl	sinf
 414              	.LVL23:
  27:App/Src/motor_control.c ****     }
 415              		.loc 1 27 45 discriminator 1 view .LVU110
 416 0062 DFED0B7A 		vldr.32	s15, .L41+12
 417 0066 20EE270A 		vmul.f32	s0, s0, s15
  27:App/Src/motor_control.c ****     }
 418              		.loc 1 27 16 discriminator 1 view .LVU111
 419 006a BDEEC00A 		vcvt.s32.f32	s0, s0
 420 006e 10EE103A 		vmov	r3, s0	@ int
 421 0072 18B2     		sxth	r0, r3
  27:App/Src/motor_control.c ****     }
 422              		.loc 1 27 16 view .LVU112
 423 0074 E6E7     		b	.L36
 424              	.LVL24:
 425              	.L37:
  27:App/Src/motor_control.c ****     }
 426              		.loc 1 27 16 view .LVU113
 427              	.LBE2:
  33:App/Src/motor_control.c **** 
 428              		.loc 1 33 5 is_stmt 1 view .LVU114
  33:App/Src/motor_control.c **** 
 429              		.loc 1 33 8 is_stmt 0 view .LVU115
 430 0076 13F5805F 		cmn	r3, #4096
 431 007a D0DA     		bge	.L38
  33:App/Src/motor_control.c **** 
 432              		.loc 1 33 27 is_stmt 1 discriminator 1 view .LVU116
  33:App/Src/motor_control.c **** 
 433              		.loc 1 33 36 is_stmt 0 discriminator 1 view .LVU117
 434 007c 03F50053 		add	r3, r3, #8192
 435              	.LVL25:
  33:App/Src/motor_control.c **** 
 436              		.loc 1 33 36 discriminator 1 view .LVU118
 437 0080 CDE7     		b	.L38
 438              	.L42:
 439 0082 00BF     		.align	2
 440              	.L41:
 441 0084 DB0F493A 		.word	977866715
 442 0088 DB0F4940 		.word	1078530011
 443 008c 00003443 		.word	1127481344
 444 0090 00004844 		.word	1145569280
 445              		.cfi_endproc
 446              	.LFE135:
 448              		.section	.text.Motor_Clear_Stall,"ax",%progbits
 449              		.align	1
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 11


 450              		.global	Motor_Clear_Stall
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 455              	Motor_Clear_Stall:
 456              	.LVL26:
 457              	.LFB139:
  79:App/Src/motor_control.c **** 
  80:App/Src/motor_control.c **** // 清除堵转状态 (修复未使用变量警告)
  81:App/Src/motor_control.c **** void Motor_Clear_Stall(uint8_t id) {
 458              		.loc 1 81 36 is_stmt 1 view -0
 459              		.cfi_startproc
 460              		@ args = 0, pretend = 0, frame = 0
 461              		@ frame_needed = 0, uses_anonymous_args = 0
 462              		@ link register save eliminated.
  82:App/Src/motor_control.c ****     if (id < 1 || id > 4) return;
 463              		.loc 1 82 5 view .LVU120
 464              		.loc 1 82 16 is_stmt 0 view .LVU121
 465 0000 431E     		subs	r3, r0, #1
 466 0002 DBB2     		uxtb	r3, r3
 467              		.loc 1 82 8 view .LVU122
 468 0004 032B     		cmp	r3, #3
 469 0006 0FD8     		bhi	.L43
  83:App/Src/motor_control.c ****     // 直接使用数组，不需要中间变量
  84:App/Src/motor_control.c ****     gm6020_motors[id-1].is_stalled = 0;
 470              		.loc 1 84 5 is_stmt 1 view .LVU123
 471              		.loc 1 84 21 is_stmt 0 view .LVU124
 472 0008 0138     		subs	r0, r0, #1
 473              	.LVL27:
 474              		.loc 1 84 36 view .LVU125
 475 000a 084A     		ldr	r2, .L45
 476 000c C0EB4013 		rsb	r3, r0, r0, lsl #5
 477 0010 02EBC303 		add	r3, r2, r3, lsl #3
 478 0014 0021     		movs	r1, #0
 479 0016 83F8EC10 		strb	r1, [r3, #236]
  85:App/Src/motor_control.c ****     gm6020_motors[id-1].stall_cnt = 0;
 480              		.loc 1 85 5 is_stmt 1 view .LVU126
 481              		.loc 1 85 35 is_stmt 0 view .LVU127
 482 001a C3F8E810 		str	r1, [r3, #232]
  86:App/Src/motor_control.c ****     gm6020_motors[id-1].mode = MOTOR_MODE_CURRENT_SPEED;
 483              		.loc 1 86 5 is_stmt 1 view .LVU128
 484              		.loc 1 86 30 is_stmt 0 view .LVU129
 485 001e 0121     		movs	r1, #1
 486 0020 5970     		strb	r1, [r3, #1]
  87:App/Src/motor_control.c ****     gm6020_motors[id-1].target_val = 0;
 487              		.loc 1 87 5 is_stmt 1 view .LVU130
 488              		.loc 1 87 36 is_stmt 0 view .LVU131
 489 0022 1A46     		mov	r2, r3
 490 0024 0023     		movs	r3, #0
 491 0026 5361     		str	r3, [r2, #20]	@ float
 492              	.LVL28:
 493              	.L43:
  88:App/Src/motor_control.c **** }
 494              		.loc 1 88 1 view .LVU132
 495 0028 7047     		bx	lr
 496              	.L46:
 497 002a 00BF     		.align	2
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 12


 498              	.L45:
 499 002c 00000000 		.word	gm6020_motors
 500              		.cfi_endproc
 501              	.LFE139:
 503              		.section	.text.Motor_Init_All,"ax",%progbits
 504              		.align	1
 505              		.global	Motor_Init_All
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 510              	Motor_Init_All:
 511              	.LFB140:
  89:App/Src/motor_control.c **** 
  90:App/Src/motor_control.c **** void Motor_Init_All(void) {
 512              		.loc 1 90 27 is_stmt 1 view -0
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 0
 515              		@ frame_needed = 0, uses_anonymous_args = 0
 516 0000 70B5     		push	{r4, r5, r6, lr}
 517              	.LCFI5:
 518              		.cfi_def_cfa_offset 16
 519              		.cfi_offset 4, -16
 520              		.cfi_offset 5, -12
 521              		.cfi_offset 6, -8
 522              		.cfi_offset 14, -4
 523 0002 2DED028B 		vpush.64	{d8}
 524              	.LCFI6:
 525              		.cfi_def_cfa_offset 24
 526              		.cfi_offset 80, -24
 527              		.cfi_offset 81, -20
  91:App/Src/motor_control.c ****     for (int i = 0; i < 4; i++) {
 528              		.loc 1 91 5 view .LVU134
 529              	.LBB3:
 530              		.loc 1 91 10 view .LVU135
 531              	.LVL29:
 532              		.loc 1 91 14 is_stmt 0 view .LVU136
 533 0006 0024     		movs	r4, #0
 534              		.loc 1 91 5 view .LVU137
 535 0008 3EE0     		b	.L48
 536              	.LVL30:
 537              	.L54:
 538              	.LBB4:
  92:App/Src/motor_control.c ****         gm6020_motors[i].id = i + 1;
  93:App/Src/motor_control.c ****         gm6020_motors[i].mode = MOTOR_MODE_CURRENT_SPEED;
  94:App/Src/motor_control.c ****         gm6020_motors[i].target_val = 0;
  95:App/Src/motor_control.c ****         gm6020_motors[i].round_cnt = 0;
  96:App/Src/motor_control.c ****         gm6020_motors[i].is_stalled = 0;
  97:App/Src/motor_control.c ****         gm6020_motors[i].last_ecd = 0;
  98:App/Src/motor_control.c ****         gm6020_motors[i].feedforward = 0;
  99:App/Src/motor_control.c ****         gm6020_motors[i].horizon_ecd = 4096;
 100:App/Src/motor_control.c ****         
 101:App/Src/motor_control.c ****         // 上电机特殊处理
 102:App/Src/motor_control.c ****         if (i == 3) { // ID=4
 103:App/Src/motor_control.c ****             gm6020_motors[i].gravity_gain = 0.0f;
 539              		.loc 1 103 13 is_stmt 1 view .LVU138
 540              		.loc 1 103 43 is_stmt 0 view .LVU139
 541 000a 0646     		mov	r6, r0
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 13


 542 000c 6501     		lsls	r5, r4, #5
 543 000e C4EB4412 		rsb	r2, r4, r4, lsl #5
 544 0012 D300     		lsls	r3, r2, #3
 545 0014 0344     		add	r3, r3, r0
 546 0016 9FED438A 		vldr.32	s16, .L55
 547 001a 83ED3C8A 		vstr.32	s16, [r3, #240]
 104:App/Src/motor_control.c ****         } else {
 105:App/Src/motor_control.c ****             gm6020_motors[i].gravity_gain = 0.0f;
 106:App/Src/motor_control.c ****         }
 107:App/Src/motor_control.c ****         
 108:App/Src/motor_control.c ****         float speed_dead_zone = 1.0f;
 548              		.loc 1 108 9 is_stmt 1 view .LVU140
 549              	.LVL31:
 109:App/Src/motor_control.c ****         float angle_dead_zone = 0.5f; 
 550              		.loc 1 109 9 view .LVU141
 110:App/Src/motor_control.c ****         
 111:App/Src/motor_control.c ****         // 优化PID参数（上电机）
 112:App/Src/motor_control.c ****         if (i == 3) { // ID=4
 551              		.loc 1 112 9 view .LVU142
 113:App/Src/motor_control.c ****             PID_Init(&gm6020_motors[i].speed_pid, 
 552              		.loc 1 113 13 view .LVU143
 553 001e D000     		lsls	r0, r2, #3
 554 0020 1830     		adds	r0, r0, #24
 555 0022 F7EE002A 		vmov.f32	s5, #1.0e+0
 556 0026 9FED402A 		vldr.32	s4, .L55+4
 557 002a DFED401A 		vldr.32	s3, .L55+8
 558 002e 9FED401A 		vldr.32	s2, .L55+12
 559 0032 F1EE040A 		vmov.f32	s1, #5.0e+0
 560 0036 9FED3F0A 		vldr.32	s0, .L55+16
 561 003a 3044     		add	r0, r0, r6
 562 003c FFF7FEFF 		bl	PID_Init
 563              	.LVL32:
 114:App/Src/motor_control.c ****                      140.0f,   // Kp
 115:App/Src/motor_control.c ****                      5.0f,     // Ki
 116:App/Src/motor_control.c ****                      0.1f,     // Kd
 117:App/Src/motor_control.c ****                      GM6020_MAX_CURRENT,
 118:App/Src/motor_control.c ****                      5000.0f,  // 积分限幅
 119:App/Src/motor_control.c ****                      speed_dead_zone);
 120:App/Src/motor_control.c ****             
 121:App/Src/motor_control.c ****             PID_Init(&gm6020_motors[i].angle_pid, 
 564              		.loc 1 121 13 view .LVU144
 565 0040 2B1B     		subs	r3, r5, r4
 566 0042 D800     		lsls	r0, r3, #3
 567 0044 5830     		adds	r0, r0, #88
 568 0046 3044     		add	r0, r0, r6
 569 0048 F6EE002A 		vmov.f32	s5, #5.0e-1
 570 004c B0EE482A 		vmov.f32	s4, s16
 571 0050 DFED391A 		vldr.32	s3, .L55+20
 572 0054 B0EE481A 		vmov.f32	s2, s16
 573 0058 F0EE480A 		vmov.f32	s1, s16
 574 005c B1EE0C0A 		vmov.f32	s0, #7.0e+0
 575 0060 0430     		adds	r0, r0, #4
 576 0062 FFF7FEFF 		bl	PID_Init
 577              	.LVL33:
 578              	.L50:
 122:App/Src/motor_control.c ****                      7.0f,     // Kp
 123:App/Src/motor_control.c ****                      0.0f,     
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 14


 124:App/Src/motor_control.c ****                      0.0f,
 125:App/Src/motor_control.c ****                      100.0f,   // MaxOut: 限制最大速度
 126:App/Src/motor_control.c ****                      0.0f,
 127:App/Src/motor_control.c ****                      angle_dead_zone);
 128:App/Src/motor_control.c ****         } 
 129:App/Src/motor_control.c ****         // 下电机参数
 130:App/Src/motor_control.c ****         else {
 131:App/Src/motor_control.c ****             PID_Init(&gm6020_motors[i].speed_pid, 
 132:App/Src/motor_control.c ****                      60.0f,    // Kp
 133:App/Src/motor_control.c ****                      2.3f,     // Ki
 134:App/Src/motor_control.c ****                      0.02f,   // Kd
 135:App/Src/motor_control.c ****                      GM6020_MAX_CURRENT, 
 136:App/Src/motor_control.c ****                      5000.0f,  // 积分限幅
 137:App/Src/motor_control.c ****                      1.5f);    // 无死区
 138:App/Src/motor_control.c ****             
 139:App/Src/motor_control.c ****             PID_Init(&gm6020_motors[i].angle_pid, 
 140:App/Src/motor_control.c ****                      5.0f,     // Kp
 141:App/Src/motor_control.c ****                      0.02f,     // Ki
 142:App/Src/motor_control.c ****                      0.002f,     // Kd
 143:App/Src/motor_control.c ****                      GM6020_MAX_SPEED, 
 144:App/Src/motor_control.c ****                      0.0f,     // MaxIOut
 145:App/Src/motor_control.c ****                      1.5f);    // 无死区
 146:App/Src/motor_control.c ****         }
 147:App/Src/motor_control.c ****         
 148:App/Src/motor_control.c ****         // 清除PID状态
 149:App/Src/motor_control.c ****         PID_Clear(&gm6020_motors[i].speed_pid);
 579              		.loc 1 149 9 view .LVU145
 580 0066 6501     		lsls	r5, r4, #5
 581 0068 C4EB4413 		rsb	r3, r4, r4, lsl #5
 582 006c D800     		lsls	r0, r3, #3
 583 006e 1830     		adds	r0, r0, #24
 584 0070 324E     		ldr	r6, .L55+24
 585 0072 3044     		add	r0, r0, r6
 586 0074 FFF7FEFF 		bl	PID_Clear
 587              	.LVL34:
 150:App/Src/motor_control.c ****         PID_Clear(&gm6020_motors[i].angle_pid);
 588              		.loc 1 150 9 view .LVU146
 589 0078 2B1B     		subs	r3, r5, r4
 590 007a D800     		lsls	r0, r3, #3
 591 007c 5830     		adds	r0, r0, #88
 592 007e 3044     		add	r0, r0, r6
 593 0080 0430     		adds	r0, r0, #4
 594 0082 FFF7FEFF 		bl	PID_Clear
 595              	.LVL35:
 596              	.LBE4:
  91:App/Src/motor_control.c ****         gm6020_motors[i].id = i + 1;
 597              		.loc 1 91 29 discriminator 2 view .LVU147
 598 0086 0134     		adds	r4, r4, #1
 599              	.LVL36:
 600              	.L48:
  91:App/Src/motor_control.c ****         gm6020_motors[i].id = i + 1;
 601              		.loc 1 91 23 discriminator 1 view .LVU148
 602 0088 032C     		cmp	r4, #3
 603 008a 48DC     		bgt	.L53
 604              	.LBB5:
  92:App/Src/motor_control.c ****         gm6020_motors[i].mode = MOTOR_MODE_CURRENT_SPEED;
 605              		.loc 1 92 9 view .LVU149
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 15


  92:App/Src/motor_control.c ****         gm6020_motors[i].mode = MOTOR_MODE_CURRENT_SPEED;
 606              		.loc 1 92 33 is_stmt 0 view .LVU150
 607 008c 611C     		adds	r1, r4, #1
  92:App/Src/motor_control.c ****         gm6020_motors[i].mode = MOTOR_MODE_CURRENT_SPEED;
 608              		.loc 1 92 29 view .LVU151
 609 008e 2B48     		ldr	r0, .L55+24
 610 0090 C4EB4413 		rsb	r3, r4, r4, lsl #5
 611 0094 DA00     		lsls	r2, r3, #3
 612 0096 8318     		adds	r3, r0, r2
 613 0098 8154     		strb	r1, [r0, r2]
  93:App/Src/motor_control.c ****         gm6020_motors[i].target_val = 0;
 614              		.loc 1 93 9 is_stmt 1 view .LVU152
  93:App/Src/motor_control.c ****         gm6020_motors[i].target_val = 0;
 615              		.loc 1 93 31 is_stmt 0 view .LVU153
 616 009a 0122     		movs	r2, #1
 617 009c 5A70     		strb	r2, [r3, #1]
  94:App/Src/motor_control.c ****         gm6020_motors[i].round_cnt = 0;
 618              		.loc 1 94 9 is_stmt 1 view .LVU154
  94:App/Src/motor_control.c ****         gm6020_motors[i].round_cnt = 0;
 619              		.loc 1 94 37 is_stmt 0 view .LVU155
 620 009e 0022     		movs	r2, #0
 621 00a0 5A61     		str	r2, [r3, #20]	@ float
  95:App/Src/motor_control.c ****         gm6020_motors[i].is_stalled = 0;
 622              		.loc 1 95 9 is_stmt 1 view .LVU156
  95:App/Src/motor_control.c ****         gm6020_motors[i].is_stalled = 0;
 623              		.loc 1 95 36 is_stmt 0 view .LVU157
 624 00a2 0022     		movs	r2, #0
 625 00a4 DA60     		str	r2, [r3, #12]
  96:App/Src/motor_control.c ****         gm6020_motors[i].last_ecd = 0;
 626              		.loc 1 96 9 is_stmt 1 view .LVU158
  96:App/Src/motor_control.c ****         gm6020_motors[i].last_ecd = 0;
 627              		.loc 1 96 37 is_stmt 0 view .LVU159
 628 00a6 83F8EC20 		strb	r2, [r3, #236]
  97:App/Src/motor_control.c ****         gm6020_motors[i].feedforward = 0;
 629              		.loc 1 97 9 is_stmt 1 view .LVU160
  97:App/Src/motor_control.c ****         gm6020_motors[i].feedforward = 0;
 630              		.loc 1 97 35 is_stmt 0 view .LVU161
 631 00aa 9A80     		strh	r2, [r3, #4]	@ movhi
  98:App/Src/motor_control.c ****         gm6020_motors[i].horizon_ecd = 4096;
 632              		.loc 1 98 9 is_stmt 1 view .LVU162
  98:App/Src/motor_control.c ****         gm6020_motors[i].horizon_ecd = 4096;
 633              		.loc 1 98 38 is_stmt 0 view .LVU163
 634 00ac A3F8F420 		strh	r2, [r3, #244]	@ movhi
  99:App/Src/motor_control.c ****         
 635              		.loc 1 99 9 is_stmt 1 view .LVU164
  99:App/Src/motor_control.c ****         
 636              		.loc 1 99 38 is_stmt 0 view .LVU165
 637 00b0 4FF48052 		mov	r2, #4096
 638 00b4 A3F8EE20 		strh	r2, [r3, #238]	@ movhi
 102:App/Src/motor_control.c ****             gm6020_motors[i].gravity_gain = 0.0f;
 639              		.loc 1 102 9 is_stmt 1 view .LVU166
 102:App/Src/motor_control.c ****             gm6020_motors[i].gravity_gain = 0.0f;
 640              		.loc 1 102 12 is_stmt 0 view .LVU167
 641 00b8 032C     		cmp	r4, #3
 642 00ba A6D0     		beq	.L54
 105:App/Src/motor_control.c ****         }
 643              		.loc 1 105 13 is_stmt 1 view .LVU168
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 16


 105:App/Src/motor_control.c ****         }
 644              		.loc 1 105 43 is_stmt 0 view .LVU169
 645 00bc 1F4E     		ldr	r6, .L55+24
 646 00be 6501     		lsls	r5, r4, #5
 647 00c0 C4EB4412 		rsb	r2, r4, r4, lsl #5
 648 00c4 D300     		lsls	r3, r2, #3
 649 00c6 3344     		add	r3, r3, r6
 650 00c8 DFED168A 		vldr.32	s17, .L55
 651 00cc C3ED3C8A 		vstr.32	s17, [r3, #240]
 108:App/Src/motor_control.c ****         float angle_dead_zone = 0.5f; 
 652              		.loc 1 108 9 is_stmt 1 view .LVU170
 653              	.LVL37:
 109:App/Src/motor_control.c ****         
 654              		.loc 1 109 9 view .LVU171
 112:App/Src/motor_control.c ****             PID_Init(&gm6020_motors[i].speed_pid, 
 655              		.loc 1 112 9 view .LVU172
 131:App/Src/motor_control.c ****                      60.0f,    // Kp
 656              		.loc 1 131 13 view .LVU173
 657 00d0 9FED1B8A 		vldr.32	s16, .L55+28
 658 00d4 D000     		lsls	r0, r2, #3
 659 00d6 1830     		adds	r0, r0, #24
 660 00d8 F7EE082A 		vmov.f32	s5, #1.5e+0
 661 00dc 9FED122A 		vldr.32	s4, .L55+4
 662 00e0 DFED121A 		vldr.32	s3, .L55+8
 663 00e4 B0EE481A 		vmov.f32	s2, s16
 664 00e8 DFED160A 		vldr.32	s1, .L55+32
 665 00ec 9FED160A 		vldr.32	s0, .L55+36
 666 00f0 3044     		add	r0, r0, r6
 667 00f2 FFF7FEFF 		bl	PID_Init
 668              	.LVL38:
 139:App/Src/motor_control.c ****                      5.0f,     // Kp
 669              		.loc 1 139 13 view .LVU174
 670 00f6 2B1B     		subs	r3, r5, r4
 671 00f8 D800     		lsls	r0, r3, #3
 672 00fa 5830     		adds	r0, r0, #88
 673 00fc 3044     		add	r0, r0, r6
 674 00fe F7EE082A 		vmov.f32	s5, #1.5e+0
 675 0102 B0EE682A 		vmov.f32	s4, s17
 676 0106 DFED111A 		vldr.32	s3, .L55+40
 677 010a 9FED111A 		vldr.32	s2, .L55+44
 678 010e F0EE480A 		vmov.f32	s1, s16
 679 0112 B1EE040A 		vmov.f32	s0, #5.0e+0
 680 0116 0430     		adds	r0, r0, #4
 681 0118 FFF7FEFF 		bl	PID_Init
 682              	.LVL39:
 683 011c A3E7     		b	.L50
 684              	.LVL40:
 685              	.L53:
 139:App/Src/motor_control.c ****                      5.0f,     // Kp
 686              		.loc 1 139 13 is_stmt 0 view .LVU175
 687              	.LBE5:
 688              	.LBE3:
 151:App/Src/motor_control.c ****     }
 152:App/Src/motor_control.c **** }
 689              		.loc 1 152 1 view .LVU176
 690 011e BDEC028B 		vldm	sp!, {d8}
 691              	.LCFI7:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 17


 692              		.cfi_restore 80
 693              		.cfi_restore 81
 694              		.cfi_def_cfa_offset 16
 695 0122 70BD     		pop	{r4, r5, r6, pc}
 696              	.LVL41:
 697              	.L56:
 698              		.loc 1 152 1 view .LVU177
 699              		.align	2
 700              	.L55:
 701 0124 00000000 		.word	0
 702 0128 00409C45 		.word	1167867904
 703 012c 00008046 		.word	1182793728
 704 0130 CDCCCC3D 		.word	1036831949
 705 0134 00000C43 		.word	1124859904
 706 0138 0000C842 		.word	1120403456
 707 013c 00000000 		.word	gm6020_motors
 708 0140 0AD7A33C 		.word	1017370378
 709 0144 33331340 		.word	1075000115
 710 0148 00007042 		.word	1114636288
 711 014c 0000A043 		.word	1134559232
 712 0150 6F12033B 		.word	990057071
 713              		.cfi_endproc
 714              	.LFE140:
 716              		.section	.text.Motor_Update_Feedback,"ax",%progbits
 717              		.align	1
 718              		.global	Motor_Update_Feedback
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 723              	Motor_Update_Feedback:
 724              	.LVL42:
 725              	.LFB141:
 153:App/Src/motor_control.c **** 
 154:App/Src/motor_control.c **** void Motor_Update_Feedback(uint8_t id, uint8_t *rx_data) {
 726              		.loc 1 154 58 is_stmt 1 view -0
 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 0
 729              		@ frame_needed = 0, uses_anonymous_args = 0
 730              		.loc 1 154 58 is_stmt 0 view .LVU179
 731 0000 08B5     		push	{r3, lr}
 732              	.LCFI8:
 733              		.cfi_def_cfa_offset 8
 734              		.cfi_offset 3, -8
 735              		.cfi_offset 14, -4
 155:App/Src/motor_control.c ****     if (id < 1 || id > 4) return;
 736              		.loc 1 155 5 is_stmt 1 view .LVU180
 737              		.loc 1 155 16 is_stmt 0 view .LVU181
 738 0002 431E     		subs	r3, r0, #1
 739 0004 DBB2     		uxtb	r3, r3
 740              		.loc 1 155 8 view .LVU182
 741 0006 032B     		cmp	r3, #3
 742 0008 00D9     		bls	.L60
 743              	.LVL43:
 744              	.L57:
 156:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 157:App/Src/motor_control.c ****     
 158:App/Src/motor_control.c ****     motor->ecd_raw = (rx_data[0] << 8) | rx_data[1];
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 18


 159:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 160:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 161:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 162:App/Src/motor_control.c ****     
 163:App/Src/motor_control.c ****     Motor_Process_Angle(motor);
 164:App/Src/motor_control.c **** }
 745              		.loc 1 164 1 view .LVU183
 746 000a 08BD     		pop	{r3, pc}
 747              	.LVL44:
 748              	.L60:
 156:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 749              		.loc 1 156 5 is_stmt 1 view .LVU184
 156:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 750              		.loc 1 156 47 is_stmt 0 view .LVU185
 751 000c 431E     		subs	r3, r0, #1
 156:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 752              		.loc 1 156 21 view .LVU186
 753 000e C3EB4310 		rsb	r0, r3, r3, lsl #5
 754              	.LVL45:
 156:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 755              		.loc 1 156 21 view .LVU187
 756 0012 104A     		ldr	r2, .L61
 757 0014 02EBC000 		add	r0, r2, r0, lsl #3
 758              	.LVL46:
 158:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 759              		.loc 1 158 5 is_stmt 1 view .LVU188
 158:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 760              		.loc 1 158 30 is_stmt 0 view .LVU189
 761 0018 91F800E0 		ldrb	lr, [r1]	@ zero_extendqisi2
 158:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 762              		.loc 1 158 49 view .LVU190
 763 001c 91F801C0 		ldrb	ip, [r1, #1]	@ zero_extendqisi2
 158:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 764              		.loc 1 158 40 view .LVU191
 765 0020 4CEA0E2C 		orr	ip, ip, lr, lsl #8
 158:App/Src/motor_control.c ****     motor->speed_rpm = (int16_t)((rx_data[2] << 8) | rx_data[3]);
 766              		.loc 1 158 20 view .LVU192
 767 0024 A0F802C0 		strh	ip, [r0, #2]	@ movhi
 159:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 768              		.loc 1 159 5 is_stmt 1 view .LVU193
 159:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 769              		.loc 1 159 42 is_stmt 0 view .LVU194
 770 0028 91F802E0 		ldrb	lr, [r1, #2]	@ zero_extendqisi2
 159:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 771              		.loc 1 159 61 view .LVU195
 772 002c 91F803C0 		ldrb	ip, [r1, #3]	@ zero_extendqisi2
 159:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 773              		.loc 1 159 24 view .LVU196
 774 0030 4CEA0E2C 		orr	ip, ip, lr, lsl #8
 159:App/Src/motor_control.c ****     motor->current_raw = (int16_t)((rx_data[4] << 8) | rx_data[5]);
 775              		.loc 1 159 22 view .LVU197
 776 0034 A0F806C0 		strh	ip, [r0, #6]	@ movhi
 160:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 777              		.loc 1 160 5 is_stmt 1 view .LVU198
 160:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 778              		.loc 1 160 44 is_stmt 0 view .LVU199
 779 0038 91F804E0 		ldrb	lr, [r1, #4]	@ zero_extendqisi2
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 19


 160:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 780              		.loc 1 160 63 view .LVU200
 781 003c 91F805C0 		ldrb	ip, [r1, #5]	@ zero_extendqisi2
 160:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 782              		.loc 1 160 26 view .LVU201
 783 0040 4CEA0E2C 		orr	ip, ip, lr, lsl #8
 160:App/Src/motor_control.c ****     motor->temp = rx_data[6];
 784              		.loc 1 160 24 view .LVU202
 785 0044 A0F808C0 		strh	ip, [r0, #8]	@ movhi
 161:App/Src/motor_control.c ****     
 786              		.loc 1 161 5 is_stmt 1 view .LVU203
 161:App/Src/motor_control.c ****     
 787              		.loc 1 161 17 is_stmt 0 view .LVU204
 788 0048 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 789              	.LVL47:
 161:App/Src/motor_control.c ****     
 790              		.loc 1 161 17 view .LVU205
 791 004a 8172     		strb	r1, [r0, #10]
 163:App/Src/motor_control.c **** }
 792              		.loc 1 163 5 is_stmt 1 view .LVU206
 793 004c FFF7FEFF 		bl	Motor_Process_Angle
 794              	.LVL48:
 163:App/Src/motor_control.c **** }
 795              		.loc 1 163 5 is_stmt 0 view .LVU207
 796 0050 DBE7     		b	.L57
 797              	.L62:
 798 0052 00BF     		.align	2
 799              	.L61:
 800 0054 00000000 		.word	gm6020_motors
 801              		.cfi_endproc
 802              	.LFE141:
 804              		.section	.text.Motor_Set_Target,"ax",%progbits
 805              		.align	1
 806              		.global	Motor_Set_Target
 807              		.syntax unified
 808              		.thumb
 809              		.thumb_func
 811              	Motor_Set_Target:
 812              	.LVL49:
 813              	.LFB142:
 165:App/Src/motor_control.c **** 
 166:App/Src/motor_control.c **** void Motor_Set_Target(uint8_t id, Motor_Mode_e mode, float target) {
 814              		.loc 1 166 68 is_stmt 1 view -0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 0
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 167:App/Src/motor_control.c ****     if (id < 1 || id > 4) return;
 818              		.loc 1 167 5 view .LVU209
 819              		.loc 1 167 16 is_stmt 0 view .LVU210
 820 0000 431E     		subs	r3, r0, #1
 821 0002 DBB2     		uxtb	r3, r3
 822              		.loc 1 167 8 view .LVU211
 823 0004 032B     		cmp	r3, #3
 824 0006 24D8     		bhi	.L66
 166:App/Src/motor_control.c ****     if (id < 1 || id > 4) return;
 825              		.loc 1 166 68 view .LVU212
 826 0008 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 20


 827              	.LCFI9:
 828              		.cfi_def_cfa_offset 16
 829              		.cfi_offset 4, -16
 830              		.cfi_offset 5, -12
 831              		.cfi_offset 6, -8
 832              		.cfi_offset 14, -4
 168:App/Src/motor_control.c ****     GM6020_TypeDef *motor = &gm6020_motors[id - 1];
 833              		.loc 1 168 5 is_stmt 1 view .LVU213
 834              		.loc 1 168 47 is_stmt 0 view .LVU214
 835 000a 441E     		subs	r4, r0, #1
 836              	.LVL50:
 169:App/Src/motor_control.c ****     
 170:App/Src/motor_control.c ****     // 启用堵转保护
 171:App/Src/motor_control.c ****     if (motor->is_stalled) {
 837              		.loc 1 171 5 is_stmt 1 view .LVU215
 838              		.loc 1 171 14 is_stmt 0 view .LVU216
 839 000c C4EB4412 		rsb	r2, r4, r4, lsl #5
 840 0010 104B     		ldr	r3, .L70
 841 0012 03EBC203 		add	r3, r3, r2, lsl #3
 842 0016 93F8EC30 		ldrb	r3, [r3, #236]	@ zero_extendqisi2
 843              		.loc 1 171 8 view .LVU217
 844 001a 43B9     		cbnz	r3, .L63
 172:App/Src/motor_control.c ****         return;
 173:App/Src/motor_control.c ****     }
 174:App/Src/motor_control.c ****     
 175:App/Src/motor_control.c ****     Motor_Mode_e old_mode = motor->mode;
 845              		.loc 1 175 5 is_stmt 1 view .LVU218
 846              		.loc 1 175 18 is_stmt 0 view .LVU219
 847 001c 0D4B     		ldr	r3, .L70
 848 001e 03EBC203 		add	r3, r3, r2, lsl #3
 849 0022 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 850              	.LVL51:
 176:App/Src/motor_control.c ****     motor->mode = mode;
 851              		.loc 1 176 5 is_stmt 1 view .LVU220
 852              		.loc 1 176 17 is_stmt 0 view .LVU221
 853 0024 5970     		strb	r1, [r3, #1]
 854              	.LVL52:
 177:App/Src/motor_control.c ****     motor->target_val = target;
 855              		.loc 1 177 5 is_stmt 1 view .LVU222
 856              		.loc 1 177 23 is_stmt 0 view .LVU223
 857 0026 83ED050A 		vstr.32	s0, [r3, #20]
 178:App/Src/motor_control.c ****     
 179:App/Src/motor_control.c ****     // 切换模式时清除 PID 积分
 180:App/Src/motor_control.c ****     if (old_mode != mode) {
 858              		.loc 1 180 5 is_stmt 1 view .LVU224
 859              		.loc 1 180 8 is_stmt 0 view .LVU225
 860 002a 8A42     		cmp	r2, r1
 861 002c 00D1     		bne	.L69
 862              	.LVL53:
 863              	.L63:
 181:App/Src/motor_control.c ****         PID_Clear(&motor->speed_pid);
 182:App/Src/motor_control.c ****         PID_Clear(&motor->angle_pid);
 183:App/Src/motor_control.c ****     }
 184:App/Src/motor_control.c **** }
 864              		.loc 1 184 1 view .LVU226
 865 002e 70BD     		pop	{r4, r5, r6, pc}
 866              	.LVL54:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 21


 867              	.L69:
 181:App/Src/motor_control.c ****         PID_Clear(&motor->speed_pid);
 868              		.loc 1 181 9 is_stmt 1 view .LVU227
 869 0030 6501     		lsls	r5, r4, #5
 870 0032 C4EB4410 		rsb	r0, r4, r4, lsl #5
 871              	.LVL55:
 181:App/Src/motor_control.c ****         PID_Clear(&motor->speed_pid);
 872              		.loc 1 181 9 is_stmt 0 view .LVU228
 873 0036 C000     		lsls	r0, r0, #3
 874 0038 1830     		adds	r0, r0, #24
 875 003a 064E     		ldr	r6, .L70
 876 003c 3044     		add	r0, r0, r6
 877 003e FFF7FEFF 		bl	PID_Clear
 878              	.LVL56:
 182:App/Src/motor_control.c ****     }
 879              		.loc 1 182 9 is_stmt 1 view .LVU229
 880 0042 281B     		subs	r0, r5, r4
 881 0044 C000     		lsls	r0, r0, #3
 882 0046 5830     		adds	r0, r0, #88
 883 0048 3044     		add	r0, r0, r6
 884 004a 0430     		adds	r0, r0, #4
 885 004c FFF7FEFF 		bl	PID_Clear
 886              	.LVL57:
 887 0050 EDE7     		b	.L63
 888              	.LVL58:
 889              	.L66:
 890              	.LCFI10:
 891              		.cfi_def_cfa_offset 0
 892              		.cfi_restore 4
 893              		.cfi_restore 5
 894              		.cfi_restore 6
 895              		.cfi_restore 14
 182:App/Src/motor_control.c ****     }
 896              		.loc 1 182 9 is_stmt 0 view .LVU230
 897 0052 7047     		bx	lr
 898              	.L71:
 899              		.align	2
 900              	.L70:
 901 0054 00000000 		.word	gm6020_motors
 902              		.cfi_endproc
 903              	.LFE142:
 905              		.section	.text.Motor_Control_Loop,"ax",%progbits
 906              		.align	1
 907              		.global	Motor_Control_Loop
 908              		.syntax unified
 909              		.thumb
 910              		.thumb_func
 912              	Motor_Control_Loop:
 913              	.LFB143:
 185:App/Src/motor_control.c **** 
 186:App/Src/motor_control.c **** void Motor_Control_Loop(void) {
 914              		.loc 1 186 31 is_stmt 1 view -0
 915              		.cfi_startproc
 916              		@ args = 0, pretend = 0, frame = 8
 917              		@ frame_needed = 0, uses_anonymous_args = 0
 918 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 919              	.LCFI11:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 22


 920              		.cfi_def_cfa_offset 24
 921              		.cfi_offset 4, -24
 922              		.cfi_offset 5, -20
 923              		.cfi_offset 6, -16
 924              		.cfi_offset 7, -12
 925              		.cfi_offset 8, -8
 926              		.cfi_offset 14, -4
 927 0004 82B0     		sub	sp, sp, #8
 928              	.LCFI12:
 929              		.cfi_def_cfa_offset 32
 187:App/Src/motor_control.c ****     for (int i = 0; i < 4; i++) {
 930              		.loc 1 187 5 view .LVU232
 931              	.LBB6:
 932              		.loc 1 187 10 view .LVU233
 933              	.LVL59:
 934              		.loc 1 187 14 is_stmt 0 view .LVU234
 935 0006 0024     		movs	r4, #0
 936              		.loc 1 187 5 view .LVU235
 937 0008 4BE0     		b	.L73
 938              	.LVL60:
 939              	.L74:
 940              	.LBB7:
 188:App/Src/motor_control.c ****         GM6020_TypeDef *motor = &gm6020_motors[i];
 189:App/Src/motor_control.c ****         float speed_target = 0;
 190:App/Src/motor_control.c ****         float current_target = 0;
 191:App/Src/motor_control.c ****         
 192:App/Src/motor_control.c ****         // 堵转保护
 193:App/Src/motor_control.c ****         if (motor->is_stalled || motor->mode == MOTOR_MODE_STOP) {
 194:App/Src/motor_control.c ****             motor->output_current = 0;
 941              		.loc 1 194 13 is_stmt 1 view .LVU236
 942              		.loc 1 194 35 is_stmt 0 view .LVU237
 943 000a C4EB4412 		rsb	r2, r4, r4, lsl #5
 944 000e 564B     		ldr	r3, .L89
 945 0010 03EBC203 		add	r3, r3, r2, lsl #3
 946 0014 0022     		movs	r2, #0
 947 0016 A3F8E420 		strh	r2, [r3, #228]	@ movhi
 195:App/Src/motor_control.c ****             motor_current_send_buf[i] = 0;
 948              		.loc 1 195 13 is_stmt 1 view .LVU238
 949              		.loc 1 195 39 is_stmt 0 view .LVU239
 950 001a 544B     		ldr	r3, .L89+4
 951 001c 23F81420 		strh	r2, [r3, r4, lsl #1]	@ movhi
 196:App/Src/motor_control.c ****             continue;
 952              		.loc 1 196 13 is_stmt 1 view .LVU240
 953 0020 3EE0     		b	.L76
 954              	.LVL61:
 955              	.L88:
 197:App/Src/motor_control.c ****         }
 198:App/Src/motor_control.c **** 
 199:App/Src/motor_control.c ****          if (fabsf(motor->target_val) < 1.0f && 
 956              		.loc 1 199 46 is_stmt 0 discriminator 1 view .LVU241
 957 0022 012B     		cmp	r3, #1
 958 0024 5DD1     		bne	.L77
 200:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_SPEED) {
 201:App/Src/motor_control.c ****             Handle_Static_Motor(motor, &current_target);
 959              		.loc 1 201 13 is_stmt 1 view .LVU242
 960 0026 01A9     		add	r1, sp, #4
 961 0028 2846     		mov	r0, r5
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 23


 962 002a FFF7FEFF 		bl	Handle_Static_Motor
 963              	.LVL62:
 964              		.loc 1 201 13 is_stmt 0 view .LVU243
 965 002e 13E0     		b	.L79
 966              	.LVL63:
 967              	.L80:
 968              	.LBB8:
 202:App/Src/motor_control.c ****         } else {
 203:App/Src/motor_control.c ****             switch (motor->mode) {
 204:App/Src/motor_control.c ****                 case MOTOR_MODE_CURRENT_OPEN:
 205:App/Src/motor_control.c ****                     current_target = motor->target_val;
 206:App/Src/motor_control.c ****                     break;
 207:App/Src/motor_control.c ****                     
 208:App/Src/motor_control.c ****                 case MOTOR_MODE_CURRENT_SPEED:
 209:App/Src/motor_control.c ****                     current_target = PID_Calc(&motor->speed_pid, motor->target_val, motor->speed_rp
 969              		.loc 1 209 21 is_stmt 1 view .LVU244
 970              		.loc 1 209 90 is_stmt 0 view .LVU245
 971 0030 4D48     		ldr	r0, .L89
 972 0032 C4EB4413 		rsb	r3, r4, r4, lsl #5
 973 0036 00EBC303 		add	r3, r0, r3, lsl #3
 974 003a B3F90630 		ldrsh	r3, [r3, #6]
 975 003e 00EE903A 		vmov	s1, r3	@ int
 976              		.loc 1 209 38 view .LVU246
 977 0042 C4EB4413 		rsb	r3, r4, r4, lsl #5
 978 0046 DB00     		lsls	r3, r3, #3
 979 0048 1833     		adds	r3, r3, #24
 980 004a F8EEE00A 		vcvt.f32.s32	s1, s1
 981 004e 1844     		add	r0, r0, r3
 982 0050 FFF7FEFF 		bl	PID_Calc
 983              	.LVL64:
 984              		.loc 1 209 36 discriminator 1 view .LVU247
 985 0054 8DED010A 		vstr.32	s0, [sp, #4]
 210:App/Src/motor_control.c ****                     break;
 986              		.loc 1 210 21 is_stmt 1 view .LVU248
 987              	.L79:
 988              		.loc 1 210 21 is_stmt 0 view .LVU249
 989              	.LBE8:
 211:App/Src/motor_control.c ****                     
 212:App/Src/motor_control.c ****                 case MOTOR_MODE_CURRENT_POS_CASCADE:
 213:App/Src/motor_control.c ****                     float speed_target = PID_Calc(&motor->angle_pid, motor->target_val, motor->tota
 214:App/Src/motor_control.c ****                     current_target = PID_Calc(&motor->speed_pid, speed_target, motor->speed_rpm);
 215:App/Src/motor_control.c ****                     break;
 216:App/Src/motor_control.c ****                     
 217:App/Src/motor_control.c ****                 default:
 218:App/Src/motor_control.c ****                     current_target = 0;
 219:App/Src/motor_control.c ****                     break;
 220:App/Src/motor_control.c ****             }
 221:App/Src/motor_control.c ****         }
 222:App/Src/motor_control.c **** 
 223:App/Src/motor_control.c ****         if (motor->id != 4 && (motor->mode == MOTOR_MODE_CURRENT_SPEED || 
 990              		.loc 1 223 9 is_stmt 1 view .LVU250
 991              		.loc 1 223 18 is_stmt 0 view .LVU251
 992 0058 C4EB4413 		rsb	r3, r4, r4, lsl #5
 993 005c 424A     		ldr	r2, .L89
 994 005e 12F83330 		ldrb	r3, [r2, r3, lsl #3]	@ zero_extendqisi2
 995              		.loc 1 223 12 view .LVU252
 996 0062 042B     		cmp	r3, #4
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 24


 997 0064 09D0     		beq	.L82
 998              		.loc 1 223 37 discriminator 1 view .LVU253
 999 0066 C4EB4412 		rsb	r2, r4, r4, lsl #5
 1000 006a 3F4B     		ldr	r3, .L89
 1001 006c 03EBC203 		add	r3, r3, r2, lsl #3
 1002 0070 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1003              		.loc 1 223 72 discriminator 1 view .LVU254
 1004 0072 013B     		subs	r3, r3, #1
 1005 0074 DBB2     		uxtb	r3, r3
 1006              		.loc 1 223 28 discriminator 1 view .LVU255
 1007 0076 012B     		cmp	r3, #1
 1008 0078 5BD9     		bls	.L86
 1009              	.L82:
 224:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_POS_CASCADE)) {
 225:App/Src/motor_control.c ****             
 226:App/Src/motor_control.c ****             motor->feedforward = Motor_Calc_Gravity_FF(motor);
 227:App/Src/motor_control.c ****             current_target += motor->feedforward;
 228:App/Src/motor_control.c ****         }
 229:App/Src/motor_control.c **** 
 230:App/Src/motor_control.c ****         // 限制电流范围
 231:App/Src/motor_control.c ****         motor->output_current = limit_current(current_target);
 1010              		.loc 1 231 9 is_stmt 1 view .LVU256
 1011              		.loc 1 231 33 is_stmt 0 view .LVU257
 1012 007a 9DED010A 		vldr.32	s0, [sp, #4]
 1013 007e FFF7FEFF 		bl	limit_current
 1014              	.LVL65:
 1015              		.loc 1 231 31 discriminator 1 view .LVU258
 1016 0082 C4EB4413 		rsb	r3, r4, r4, lsl #5
 1017 0086 384E     		ldr	r6, .L89
 1018 0088 06EBC306 		add	r6, r6, r3, lsl #3
 1019 008c A6F8E400 		strh	r0, [r6, #228]	@ movhi
 232:App/Src/motor_control.c ****         
 233:App/Src/motor_control.c ****         // 执行堵转检测
 234:App/Src/motor_control.c ****         Motor_Check_Stall(motor);
 1020              		.loc 1 234 9 is_stmt 1 view .LVU259
 1021 0090 2846     		mov	r0, r5
 1022 0092 FFF7FEFF 		bl	Motor_Check_Stall
 1023              	.LVL66:
 235:App/Src/motor_control.c ****         
 236:App/Src/motor_control.c ****         // 填入发送缓冲区
 237:App/Src/motor_control.c ****         motor_current_send_buf[i] = motor->output_current;
 1024              		.loc 1 237 9 view .LVU260
 1025              		.loc 1 237 42 is_stmt 0 view .LVU261
 1026 0096 B6F9E420 		ldrsh	r2, [r6, #228]
 1027              		.loc 1 237 35 view .LVU262
 1028 009a 344B     		ldr	r3, .L89+4
 1029 009c 23F81420 		strh	r2, [r3, r4, lsl #1]	@ movhi
 1030              	.L76:
 1031              		.loc 1 237 35 view .LVU263
 1032              	.LBE7:
 187:App/Src/motor_control.c ****         GM6020_TypeDef *motor = &gm6020_motors[i];
 1033              		.loc 1 187 29 is_stmt 1 discriminator 2 view .LVU264
 1034 00a0 0134     		adds	r4, r4, #1
 1035              	.LVL67:
 1036              	.L73:
 187:App/Src/motor_control.c ****         GM6020_TypeDef *motor = &gm6020_motors[i];
 1037              		.loc 1 187 23 discriminator 1 view .LVU265
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 25


 1038 00a2 032C     		cmp	r4, #3
 1039 00a4 5ADC     		bgt	.L87
 1040              	.LBB10:
 188:App/Src/motor_control.c ****         float speed_target = 0;
 1041              		.loc 1 188 9 view .LVU266
 188:App/Src/motor_control.c ****         float speed_target = 0;
 1042              		.loc 1 188 25 is_stmt 0 view .LVU267
 1043 00a6 C4EB4413 		rsb	r3, r4, r4, lsl #5
 1044 00aa 2F4D     		ldr	r5, .L89
 1045 00ac 05EBC305 		add	r5, r5, r3, lsl #3
 1046              	.LVL68:
 189:App/Src/motor_control.c ****         float current_target = 0;
 1047              		.loc 1 189 9 is_stmt 1 view .LVU268
 190:App/Src/motor_control.c ****         
 1048              		.loc 1 190 9 view .LVU269
 190:App/Src/motor_control.c ****         
 1049              		.loc 1 190 15 is_stmt 0 view .LVU270
 1050 00b0 0023     		movs	r3, #0
 1051 00b2 0193     		str	r3, [sp, #4]	@ float
 193:App/Src/motor_control.c ****             motor->output_current = 0;
 1052              		.loc 1 193 9 is_stmt 1 view .LVU271
 193:App/Src/motor_control.c ****             motor->output_current = 0;
 1053              		.loc 1 193 18 is_stmt 0 view .LVU272
 1054 00b4 95F8EC30 		ldrb	r3, [r5, #236]	@ zero_extendqisi2
 193:App/Src/motor_control.c ****             motor->output_current = 0;
 1055              		.loc 1 193 12 view .LVU273
 1056 00b8 002B     		cmp	r3, #0
 1057 00ba A6D1     		bne	.L74
 193:App/Src/motor_control.c ****             motor->output_current = 0;
 1058              		.loc 1 193 39 discriminator 2 view .LVU274
 1059 00bc 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 193:App/Src/motor_control.c ****             motor->output_current = 0;
 1060              		.loc 1 193 31 discriminator 2 view .LVU275
 1061 00be 032B     		cmp	r3, #3
 1062 00c0 A3D0     		beq	.L74
 199:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_SPEED) {
 1063              		.loc 1 199 10 is_stmt 1 view .LVU276
 199:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_SPEED) {
 1064              		.loc 1 199 25 is_stmt 0 view .LVU277
 1065 00c2 C4EB4411 		rsb	r1, r4, r4, lsl #5
 1066 00c6 284A     		ldr	r2, .L89
 1067 00c8 02EBC102 		add	r2, r2, r1, lsl #3
 1068 00cc 92ED050A 		vldr.32	s0, [r2, #20]
 199:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_SPEED) {
 1069              		.loc 1 199 14 view .LVU278
 1070 00d0 B0EEC07A 		vabs.f32	s14, s0
 199:App/Src/motor_control.c ****             motor->mode == MOTOR_MODE_CURRENT_SPEED) {
 1071              		.loc 1 199 13 view .LVU279
 1072 00d4 F7EE007A 		vmov.f32	s15, #1.0e+0
 1073 00d8 B4EEE77A 		vcmpe.f32	s14, s15
 1074 00dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1075 00e0 9FD4     		bmi	.L88
 1076              	.L77:
 203:App/Src/motor_control.c ****                 case MOTOR_MODE_CURRENT_OPEN:
 1077              		.loc 1 203 13 is_stmt 1 view .LVU280
 1078 00e2 012B     		cmp	r3, #1
 1079 00e4 A4D0     		beq	.L80
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 26


 1080 00e6 022B     		cmp	r3, #2
 1081 00e8 04D0     		beq	.L81
 1082 00ea 002B     		cmp	r3, #0
 1083 00ec B4D1     		bne	.L79
 1084              	.LBB9:
 205:App/Src/motor_control.c ****                     break;
 1085              		.loc 1 205 21 view .LVU281
 205:App/Src/motor_control.c ****                     break;
 1086              		.loc 1 205 36 is_stmt 0 view .LVU282
 1087 00ee 8DED010A 		vstr.32	s0, [sp, #4]
 206:App/Src/motor_control.c ****                     
 1088              		.loc 1 206 21 is_stmt 1 view .LVU283
 1089 00f2 B1E7     		b	.L79
 1090              	.L81:
 213:App/Src/motor_control.c ****                     current_target = PID_Calc(&motor->speed_pid, speed_target, motor->speed_rpm);
 1091              		.loc 1 213 21 view .LVU284
 213:App/Src/motor_control.c ****                     current_target = PID_Calc(&motor->speed_pid, speed_target, motor->speed_rpm);
 1092              		.loc 1 213 42 is_stmt 0 view .LVU285
 1093 00f4 1C4F     		ldr	r7, .L89
 1094 00f6 6601     		lsls	r6, r4, #5
 1095 00f8 C4EB4418 		rsb	r8, r4, r4, lsl #5
 1096 00fc 07EBC808 		add	r8, r7, r8, lsl #3
 1097 0100 C4EB4410 		rsb	r0, r4, r4, lsl #5
 1098 0104 C000     		lsls	r0, r0, #3
 1099 0106 5830     		adds	r0, r0, #88
 1100 0108 3844     		add	r0, r0, r7
 1101 010a D8ED040A 		vldr.32	s1, [r8, #16]
 1102 010e 0430     		adds	r0, r0, #4
 1103 0110 FFF7FEFF 		bl	PID_Calc
 1104              	.LVL69:
 214:App/Src/motor_control.c ****                     break;
 1105              		.loc 1 214 21 is_stmt 1 view .LVU286
 214:App/Src/motor_control.c ****                     break;
 1106              		.loc 1 214 85 is_stmt 0 view .LVU287
 1107 0114 B8F90630 		ldrsh	r3, [r8, #6]
 1108 0118 00EE903A 		vmov	s1, r3	@ int
 214:App/Src/motor_control.c ****                     break;
 1109              		.loc 1 214 38 view .LVU288
 1110 011c 301B     		subs	r0, r6, r4
 1111 011e C000     		lsls	r0, r0, #3
 1112 0120 1830     		adds	r0, r0, #24
 1113 0122 F8EEE00A 		vcvt.f32.s32	s1, s1
 1114 0126 3844     		add	r0, r0, r7
 1115 0128 FFF7FEFF 		bl	PID_Calc
 1116              	.LVL70:
 214:App/Src/motor_control.c ****                     break;
 1117              		.loc 1 214 36 discriminator 1 view .LVU289
 1118 012c 8DED010A 		vstr.32	s0, [sp, #4]
 215:App/Src/motor_control.c ****                     
 1119              		.loc 1 215 21 is_stmt 1 view .LVU290
 1120 0130 92E7     		b	.L79
 1121              	.LVL71:
 1122              	.L86:
 215:App/Src/motor_control.c ****                     
 1123              		.loc 1 215 21 is_stmt 0 view .LVU291
 1124              	.LBE9:
 226:App/Src/motor_control.c ****             current_target += motor->feedforward;
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 27


 1125              		.loc 1 226 13 is_stmt 1 view .LVU292
 226:App/Src/motor_control.c ****             current_target += motor->feedforward;
 1126              		.loc 1 226 34 is_stmt 0 view .LVU293
 1127 0132 2846     		mov	r0, r5
 1128 0134 FFF7FEFF 		bl	Motor_Calc_Gravity_FF
 1129              	.LVL72:
 226:App/Src/motor_control.c ****             current_target += motor->feedforward;
 1130              		.loc 1 226 32 discriminator 1 view .LVU294
 1131 0138 C4EB4412 		rsb	r2, r4, r4, lsl #5
 1132 013c 0A4B     		ldr	r3, .L89
 1133 013e 03EBC203 		add	r3, r3, r2, lsl #3
 1134 0142 A3F8F400 		strh	r0, [r3, #244]	@ movhi
 227:App/Src/motor_control.c ****         }
 1135              		.loc 1 227 13 is_stmt 1 view .LVU295
 227:App/Src/motor_control.c ****         }
 1136              		.loc 1 227 28 is_stmt 0 view .LVU296
 1137 0146 07EE900A 		vmov	s15, r0	@ int
 1138 014a F8EEE77A 		vcvt.f32.s32	s15, s15
 1139 014e 9DED017A 		vldr.32	s14, [sp, #4]
 1140 0152 77EE277A 		vadd.f32	s15, s14, s15
 1141 0156 CDED017A 		vstr.32	s15, [sp, #4]
 1142 015a 8EE7     		b	.L82
 1143              	.LVL73:
 1144              	.L87:
 227:App/Src/motor_control.c ****         }
 1145              		.loc 1 227 28 view .LVU297
 1146              	.LBE10:
 1147              	.LBE6:
 238:App/Src/motor_control.c ****     }
 239:App/Src/motor_control.c ****     
 240:App/Src/motor_control.c ****     // ✅ 修复函数名拼写错误
 241:App/Src/motor_control.c ****     BSP_CAN_Send_Current_Cmd(); // 注意是 'Sned' 不是 'Send'
 1148              		.loc 1 241 5 is_stmt 1 view .LVU298
 1149 015c FFF7FEFF 		bl	BSP_CAN_Send_Current_Cmd
 1150              	.LVL74:
 242:App/Src/motor_control.c **** }
 1151              		.loc 1 242 1 is_stmt 0 view .LVU299
 1152 0160 02B0     		add	sp, sp, #8
 1153              	.LCFI13:
 1154              		.cfi_def_cfa_offset 24
 1155              		@ sp needed
 1156 0162 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1157              	.LVL75:
 1158              	.L90:
 1159              		.loc 1 242 1 view .LVU300
 1160 0166 00BF     		.align	2
 1161              	.L89:
 1162 0168 00000000 		.word	gm6020_motors
 1163 016c 00000000 		.word	motor_current_send_buf
 1164              		.cfi_endproc
 1165              	.LFE143:
 1167              		.section	.text.Motor_Set_Dual_Target,"ax",%progbits
 1168              		.align	1
 1169              		.global	Motor_Set_Dual_Target
 1170              		.syntax unified
 1171              		.thumb
 1172              		.thumb_func
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 28


 1174              	Motor_Set_Dual_Target:
 1175              	.LVL76:
 1176              	.LFB144:
 243:App/Src/motor_control.c **** 
 244:App/Src/motor_control.c **** void Motor_Set_Dual_Target(uint8_t id1, Motor_Mode_e mode1, float target1,
 245:App/Src/motor_control.c ****                            uint8_t id2, Motor_Mode_e mode2, float target2) {
 1177              		.loc 1 245 76 is_stmt 1 view -0
 1178              		.cfi_startproc
 1179              		@ args = 0, pretend = 0, frame = 0
 1180              		@ frame_needed = 0, uses_anonymous_args = 0
 1181              		.loc 1 245 76 is_stmt 0 view .LVU302
 1182 0000 38B5     		push	{r3, r4, r5, lr}
 1183              	.LCFI14:
 1184              		.cfi_def_cfa_offset 16
 1185              		.cfi_offset 3, -16
 1186              		.cfi_offset 4, -12
 1187              		.cfi_offset 5, -8
 1188              		.cfi_offset 14, -4
 1189 0002 2DED028B 		vpush.64	{d8}
 1190              	.LCFI15:
 1191              		.cfi_def_cfa_offset 24
 1192              		.cfi_offset 80, -24
 1193              		.cfi_offset 81, -20
 1194 0006 1446     		mov	r4, r2
 1195 0008 1D46     		mov	r5, r3
 1196 000a B0EE608A 		vmov.f32	s16, s1
 246:App/Src/motor_control.c ****     Motor_Set_Target(id1, mode1, target1);
 1197              		.loc 1 246 5 is_stmt 1 view .LVU303
 1198 000e FFF7FEFF 		bl	Motor_Set_Target
 1199              	.LVL77:
 247:App/Src/motor_control.c ****     Motor_Set_Target(id2, mode2, target2);
 1200              		.loc 1 247 5 view .LVU304
 1201 0012 B0EE480A 		vmov.f32	s0, s16
 1202 0016 2946     		mov	r1, r5
 1203 0018 2046     		mov	r0, r4
 1204 001a FFF7FEFF 		bl	Motor_Set_Target
 1205              	.LVL78:
 248:App/Src/motor_control.c **** }...
 1206              		.loc 1 248 1 is_stmt 0 view .LVU305
 1207 001e BDEC028B 		vldm	sp!, {d8}
 1208              	.LCFI16:
 1209              		.cfi_restore 80
 1210              		.cfi_restore 81
 1211              		.cfi_def_cfa_offset 16
 1212              	.LVL79:
 1213              		.loc 1 248 1 view .LVU306
 1214 0022 38BD     		pop	{r3, r4, r5, pc}
 1215              		.loc 1 248 1 view .LVU307
 1216              		.cfi_endproc
 1217              	.LFE144:
 1219              		.global	gm6020_motors
 1220              		.section	.bss.gm6020_motors,"aw",%nobits
 1221              		.align	2
 1224              	gm6020_motors:
 1225 0000 00000000 		.space	992
 1225      00000000 
 1225      00000000 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 29


 1225      00000000 
 1225      00000000 
 1226              		.text
 1227              	.Letext0:
 1228              		.file 2 "C:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1229              		.file 3 "C:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1230              		.file 4 "App/Inc/pid.h"
 1231              		.file 5 "App/Inc/motor_control.h"
 1232              		.file 6 "C:/msys64/mingw64/arm-none-eabi/include/math.h"
 1233              		.file 7 "App/Inc/can_bsp.h"
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 motor_control.c
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:21     .text.Motor_Process_Angle:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:26     .text.Motor_Process_Angle:00000000 Motor_Process_Angle
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:94     .text.Motor_Process_Angle:00000050 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:100    .text.limit_current:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:105    .text.limit_current:00000000 limit_current
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:146    .text.limit_current:00000034 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:153    .text.Motor_Check_Stall:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:158    .text.Motor_Check_Stall:00000000 Motor_Check_Stall
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:230    .text.Motor_Check_Stall:00000070 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:236    .text.Handle_Static_Motor:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:241    .text.Handle_Static_Motor:00000000 Handle_Static_Motor
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:312    .text.Handle_Static_Motor:00000064 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:319    .text.Motor_Calc_Gravity_FF:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:324    .text.Motor_Calc_Gravity_FF:00000000 Motor_Calc_Gravity_FF
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:441    .text.Motor_Calc_Gravity_FF:00000084 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:449    .text.Motor_Clear_Stall:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:455    .text.Motor_Clear_Stall:00000000 Motor_Clear_Stall
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:499    .text.Motor_Clear_Stall:0000002c $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:1224   .bss.gm6020_motors:00000000 gm6020_motors
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:504    .text.Motor_Init_All:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:510    .text.Motor_Init_All:00000000 Motor_Init_All
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:701    .text.Motor_Init_All:00000124 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:717    .text.Motor_Update_Feedback:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:723    .text.Motor_Update_Feedback:00000000 Motor_Update_Feedback
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:800    .text.Motor_Update_Feedback:00000054 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:805    .text.Motor_Set_Target:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:811    .text.Motor_Set_Target:00000000 Motor_Set_Target
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:901    .text.Motor_Set_Target:00000054 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:906    .text.Motor_Control_Loop:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:912    .text.Motor_Control_Loop:00000000 Motor_Control_Loop
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:1162   .text.Motor_Control_Loop:00000168 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:1168   .text.Motor_Set_Dual_Target:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:1174   .text.Motor_Set_Dual_Target:00000000 Motor_Set_Dual_Target
C:\Users\wxwsyzh\AppData\Local\Temp\ccYyaEgr.s:1221   .bss.gm6020_motors:00000000 $d

UNDEFINED SYMBOLS
PID_Calc
cosf
sinf
PID_Init
PID_Clear
BSP_CAN_Send_Current_Cmd
motor_current_send_buf
