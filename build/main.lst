ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.global	__aeabi_f2d
  21              		.section	.rodata.Return_Lower_Motor_To_Initial_Position.str1.4,"aMS",%progbits,1
  22              		.align	2
  23              	.LC0:
  24 0000 52657475 		.ascii	"Returning lower motor to initial position: %.1f\302"
  24      726E696E 
  24      67206C6F 
  24      77657220 
  24      6D6F746F 
  25 0030 B00A00   		.ascii	"\260\012\000"
  26              		.section	.text.Return_Lower_Motor_To_Initial_Position,"ax",%progbits
  27              		.align	1
  28              		.global	Return_Lower_Motor_To_Initial_Position
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	Return_Lower_Motor_To_Initial_Position:
  34              	.LFB137:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2026 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 2


  21:Core/Src/main.c **** #include "can.h"
  22:Core/Src/main.c **** #include "gpio.h"
  23:Core/Src/main.c **** #include "pid.h"
  24:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  25:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  26:Core/Src/main.c **** #include "can_bsp.h"
  27:Core/Src/main.c **** #include "motor_control.h"
  28:Core/Src/main.c **** #include <math.h>
  29:Core/Src/main.c **** #include <stdio.h>
  30:Core/Src/main.c **** /* USER CODE END Includes */
  31:Core/Src/main.c **** 
  32:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  33:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  34:Core/Src/main.c **** 
  35:Core/Src/main.c **** /* USER CODE END PTD */
  36:Core/Src/main.c **** 
  37:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  38:Core/Src/main.c **** /* USER CODE BEGIN PD */
  39:Core/Src/main.c **** #define LOWER_MOTOR_ID    3
  40:Core/Src/main.c **** #define UPPER_MOTOR_ID    4
  41:Core/Src/main.c **** /* USER CODE END PD */
  42:Core/Src/main.c **** 
  43:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  44:Core/Src/main.c **** /* USER CODE BEGIN PM */
  45:Core/Src/main.c **** #define ANGLE_ACCUMULATION_THRESHOLD 2340.0f  // ç´¯è®¡è§’åº¦é˜ˆå€¼ (6.5åœˆ)
  46:Core/Src/main.c **** #define LOWER_MOTOR_SPEED  180.0f    // æ’å®šè½¬é€Ÿ (RPM)ä¸‹é¢ç”µæœºçš„ç§»åŠ¨é€Ÿåº¦ï¼Œå»ºè®®æ˜¯18
  47:Core/Src/main.c **** #define SMOOTH_TRANSITION_TIME 500   // å¹³æ»‘è¿‡æ¸¡æ—¶é—´ (ms)
  48:Core/Src/main.c **** #define UPPER_MOTOR_SPEED 37.0f   // ä¸Šç”µæœºç›®æ ‡é€Ÿåº¦(è¿™é‡Œè¦ä¹ˆç»™0è¦ä¹ˆç»™37)
  49:Core/Src/main.c **** #define KEY_DEBOUNCE_TIME  50       // æŒ‰é”®æ¶ˆæŠ–æ—¶é—´ (ms)
  50:Core/Src/main.c **** #define POSITION_RETURN_SPEED 120.0f // å½’ä½é€Ÿåº¦ (RPM)
  51:Core/Src/main.c **** /* USER CODE END PM */
  52:Core/Src/main.c **** 
  53:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  54:Core/Src/main.c **** 
  55:Core/Src/main.c **** extern GM6020_TypeDef gm6020_motors[4];
  56:Core/Src/main.c **** /* USER CODE BEGIN PV */
  57:Core/Src/main.c **** 
  58:Core/Src/main.c **** // æŒ‰é”®å¼•è„šå®šä¹‰ (æ ¹æ®å®žé™…ç¡¬ä»¶ä¿®æ”¹)
  59:Core/Src/main.c **** #define KEY_MODE_PIN GPIO_PIN_2    // PB2
  60:Core/Src/main.c **** #define KEY_MODE_GPIO GPIOB 
  61:Core/Src/main.c **** 
  62:Core/Src/main.c **** // æŽ§åˆ¶æ¨¡å¼æžšä¸¾
  63:Core/Src/main.c **** typedef enum {
  64:Core/Src/main.c ****     MODE_BOTH_MOVING,     // 0: ä¸ŠåŠ¨ä¸‹åŠ¨
  65:Core/Src/main.c ****     MODE_UPPER_MOVING,    // 1: ä¸ŠåŠ¨ä¸‹ä¸åŠ¨ (ä¸‹ç”µæœºå½’ä½)
  66:Core/Src/main.c ****     MODE_LOWER_MOVING,    // 2: ä¸Šä¸åŠ¨ä¸‹åŠ¨
  67:Core/Src/main.c ****     MODE_BOTH_STOPPED     // 3: ä¸Šä¸‹éƒ½ä¸åŠ¨
  68:Core/Src/main.c **** } ControlMode;
  69:Core/Src/main.c **** 
  70:Core/Src/main.c **** // ç”µæœºçŠ¶æ€æžšä¸¾
  71:Core/Src/main.c **** typedef enum {
  72:Core/Src/main.c ****     STATE_NORMAL,         // æ­£å¸¸è¿è¡Œ
  73:Core/Src/main.c ****     STATE_RETURNING       // è¿”å›žåˆå§‹ä½ç½®ä¸­
  74:Core/Src/main.c **** } MotorState;
  75:Core/Src/main.c **** 
  76:Core/Src/main.c **** // ç³»ç»ŸçŠ¶æ€
  77:Core/Src/main.c **** ControlMode current_mode = MODE_BOTH_MOVING; // åˆå§‹æ¨¡å¼
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 3


  78:Core/Src/main.c **** ControlMode target_mode = MODE_BOTH_MOVING;  // ç›®æ ‡æ¨¡å¼
  79:Core/Src/main.c **** uint8_t last_mode = MODE_BOTH_MOVING;        // ä¸Šæ¬¡æ¨¡å¼
  80:Core/Src/main.c **** uint32_t last_key_press = 0;                  // ä¸Šæ¬¡æŒ‰é”®æ—¶é—´
  81:Core/Src/main.c **** uint32_t mode_transition_start = 0;          // æ¨¡å¼åˆ‡æ¢å¼€å§‹æ—¶é—´
  82:Core/Src/main.c **** const uint32_t MODE_TRANSITION_TIME = 200;   // 200mså¹³æ»‘è¿‡æ¸¡
  83:Core/Src/main.c **** MotorState lower_motor_state = STATE_NORMAL; // ä¸‹ç”µæœºçŠ¶æ€
  84:Core/Src/main.c **** void Check_Key_Inputs(void);
  85:Core/Src/main.c **** void Prepare_Mode_Transition(ControlMode new_mode);
  86:Core/Src/main.c **** void Process_Mode_Transition(void);
  87:Core/Src/main.c **** void Configure_Motors_For_Mode(ControlMode mode);
  88:Core/Src/main.c **** void Update_Lower_Motor_Control(void);
  89:Core/Src/main.c **** void Return_Lower_Motor_To_Initial_Position(void);
  90:Core/Src/main.c **** void Brake_Upper_Motor(void);
  91:Core/Src/main.c **** void Reset_Upper_Motor_Position(void);
  92:Core/Src/main.c **** // ä½ç½®æŽ§åˆ¶
  93:Core/Src/main.c **** float lower_motor_initial_angle = 0.0f;      // ä¸‹ç”µæœºåˆå§‹è§’åº¦
  94:Core/Src/main.c **** float lower_motor_target_angle = 0.0f;       // ä¸‹ç”µæœºç›®æ ‡è§’åº¦
  95:Core/Src/main.c **** float lower_motor_speed = LOWER_MOTOR_SPEED; // ä¸‹ç”µæœºé€Ÿåº¦
  96:Core/Src/main.c **** 
  97:Core/Src/main.c **** // çŠ¶æ€æœºå˜é‡ (ä¸‹ç”µæœºè§’åº¦ç´¯è®¡)
  98:Core/Src/main.c **** typedef enum {
  99:Core/Src/main.c ****     ACCUM_POS,     // æ­£å‘ç´¯è®¡
 100:Core/Src/main.c ****     TRANS_NEG,     // è¿‡æ¸¡åˆ°è´Ÿå‘
 101:Core/Src/main.c ****     ACCUM_NEG,     // è´Ÿå‘ç´¯è®¡
 102:Core/Src/main.c ****     TRANS_POS      // è¿‡æ¸¡åˆ°æ­£å‘
 103:Core/Src/main.c **** } LowerMotorState;
 104:Core/Src/main.c **** LowerMotorState lower_state = ACCUM_POS;
 105:Core/Src/main.c **** float accumulated_angle = 0.0f;
 106:Core/Src/main.c **** uint32_t transition_start_time = 0;
 107:Core/Src/main.c **** /* USER CODE END PV */
 108:Core/Src/main.c **** 
 109:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
 110:Core/Src/main.c **** void SystemClock_Config(void);
 111:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 112:Core/Src/main.c **** void Update_Lower_Motor_Control(void);
 113:Core/Src/main.c **** void Check_Key_Inputs(void);
 114:Core/Src/main.c **** void Return_Lower_Motor_To_Initial_Position(void);
 115:Core/Src/main.c **** void Brake_Upper_Motor(void);
 116:Core/Src/main.c **** /* USER CODE END PFP */
 117:Core/Src/main.c **** 
 118:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 119:Core/Src/main.c **** /**
 120:Core/Src/main.c ****   * @brief åˆå§‹åŒ–æŒ‰é”®GPIO
 121:Core/Src/main.c ****   */
 122:Core/Src/main.c **** 
 123:Core/Src/main.c **** 
 124:Core/Src/main.c **** /**
 125:Core/Src/main.c ****   * @brief æ£€æµ‹æŒ‰é”®è¾“å…¥
 126:Core/Src/main.c ****   */
 127:Core/Src/main.c **** /**
 128:Core/Src/main.c ****   * @brief ä¸‹ç”µæœºè¿”å›žåˆå§‹ä½ç½®
 129:Core/Src/main.c ****   */
 130:Core/Src/main.c **** void Return_Lower_Motor_To_Initial_Position(void) {
  35              		.loc 1 130 51 view -0
  36              		.cfi_startproc
  37              		@ args = 0, pretend = 0, frame = 0
  38              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 4


 131:Core/Src/main.c ****     if (lower_motor_state == STATE_NORMAL) {
  39              		.loc 1 131 5 view .LVU1
  40              		.loc 1 131 27 is_stmt 0 view .LVU2
  41 0000 0E4B     		ldr	r3, .L8
  42 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  43              		.loc 1 131 8 view .LVU3
  44 0004 03B1     		cbz	r3, .L7
  45 0006 7047     		bx	lr
  46              	.L7:
 130:Core/Src/main.c ****     if (lower_motor_state == STATE_NORMAL) {
  47              		.loc 1 130 51 view .LVU4
  48 0008 10B5     		push	{r4, lr}
  49              	.LCFI0:
  50              		.cfi_def_cfa_offset 8
  51              		.cfi_offset 4, -8
  52              		.cfi_offset 14, -4
  53              	.LBB4:
 132:Core/Src/main.c ****         lower_motor_state = STATE_RETURNING;
  54              		.loc 1 132 9 is_stmt 1 view .LVU5
  55              		.loc 1 132 27 is_stmt 0 view .LVU6
  56 000a 0C4B     		ldr	r3, .L8
  57 000c 0122     		movs	r2, #1
  58 000e 1A70     		strb	r2, [r3]
 133:Core/Src/main.c ****         lower_motor_target_angle = lower_motor_initial_angle;
  59              		.loc 1 133 9 is_stmt 1 view .LVU7
  60              		.loc 1 133 34 is_stmt 0 view .LVU8
  61 0010 0B4C     		ldr	r4, .L8+4
  62 0012 94ED000A 		vldr.32	s0, [r4]
  63 0016 0B4B     		ldr	r3, .L8+8
  64 0018 83ED000A 		vstr.32	s0, [r3]
 134:Core/Src/main.c ****         
 135:Core/Src/main.c ****         //å¯ç”¨ä½ç½®æŽ§åˆ¶æ¨¡å¼ï¼ˆè€Œä¸æ˜¯é€Ÿåº¦æ¨¡å¼ï¼‰
 136:Core/Src/main.c ****         Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_POS_CASCADE, lower_motor_target_angle);
  65              		.loc 1 136 9 is_stmt 1 view .LVU9
  66 001c 0221     		movs	r1, #2
  67 001e 0320     		movs	r0, #3
  68 0020 FFF7FEFF 		bl	Motor_Set_Target
  69              	.LVL0:
 137:Core/Src/main.c ****         
 138:Core/Src/main.c ****         printf("Returning lower motor to initial position: %.1fÂ°\n", lower_motor_initial_angle);
  70              		.loc 1 138 9 view .LVU10
  71 0024 2068     		ldr	r0, [r4]	@ float
  72 0026 FFF7FEFF 		bl	__aeabi_f2d
  73              	.LVL1:
  74 002a 0246     		mov	r2, r0
  75 002c 0B46     		mov	r3, r1
  76 002e 0648     		ldr	r0, .L8+12
  77 0030 FFF7FEFF 		bl	printf
  78              	.LVL2:
 139:Core/Src/main.c ****         
 140:Core/Src/main.c ****         //é‡ç½®PIDçŠ¶æ€ï¼Œé˜²æ­¢ç§¯åˆ†é¥±å’Œ
 141:Core/Src/main.c ****         GM6020_TypeDef *motor = &gm6020_motors[LOWER_MOTOR_ID-1];
  79              		.loc 1 141 9 view .LVU11
 142:Core/Src/main.c ****         PID_Clear(&motor->angle_pid);
  80              		.loc 1 142 9 view .LVU12
  81 0034 0548     		ldr	r0, .L8+16
  82 0036 FFF7FEFF 		bl	PID_Clear
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 5


  83              	.LVL3:
  84              	.LBE4:
 143:Core/Src/main.c ****     }
 144:Core/Src/main.c **** }
  85              		.loc 1 144 1 is_stmt 0 view .LVU13
  86 003a 10BD     		pop	{r4, pc}
  87              	.L9:
  88              		.align	2
  89              	.L8:
  90 003c 00000000 		.word	lower_motor_state
  91 0040 00000000 		.word	lower_motor_initial_angle
  92 0044 00000000 		.word	lower_motor_target_angle
  93 0048 00000000 		.word	.LC0
  94 004c 4C020000 		.word	gm6020_motors+588
  95              		.cfi_endproc
  96              	.LFE137:
  98              		.section	.rodata.Reset_Upper_Motor_Position.str1.4,"aMS",%progbits,1
  99              		.align	2
 100              	.LC1:
 101 0000 55707065 		.ascii	"Upper motor reset position saved: %.1f\302\260\012\000"
 101      72206D6F 
 101      746F7220 
 101      72657365 
 101      7420706F 
 102 002a 0000     		.align	2
 103              	.LC2:
 104 002c 5B557070 		.ascii	"[Upper] RESET MODE: Target=%.1f\302\260, Current=%."
 104      65725D20 
 104      52455345 
 104      54204D4F 
 104      44453A20 
 105 0059 3166C2B0 		.ascii	"1f\302\260, Error=%.1f\302\260\012\000"
 105      2C204572 
 105      726F723D 
 105      252E3166 
 105      C2B00A00 
 106              		.section	.text.Reset_Upper_Motor_Position,"ax",%progbits
 107              		.align	1
 108              		.global	Reset_Upper_Motor_Position
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 113              	Reset_Upper_Motor_Position:
 114              	.LFB142:
 145:Core/Src/main.c **** /* USER CODE BEGIN PD */
 146:Core/Src/main.c **** #define UPPER_MOTOR_RETURN_POSITION 0.0f    // ä¸Šç”µæœºå½’ä½è§’åº¦ (å¯æ ¹æ®å®žé™…è°ƒæ•´)
 147:Core/Src/main.c **** #define UPPER_MOTOR_POS_KP 8.0f             // ä½ç½®çŽ¯På‚æ•° (å¢žå¼ºæŠ—å¹²æ‰°)
 148:Core/Src/main.c **** #define UPPER_MOTOR_POS_KI 0.0f
 149:Core/Src/main.c **** #define UPPER_MOTOR_POS_KD 0.0f
 150:Core/Src/main.c **** #define UPPER_MOTOR_POS_MAX_SPEED 100.0f    // ä½ç½®çŽ¯æœ€å¤§é€Ÿåº¦
 151:Core/Src/main.c **** /* USER CODE END PD */
 152:Core/Src/main.c **** 
 153:Core/Src/main.c **** /* USER CODE BEGIN PV */
 154:Core/Src/main.c **** // æ–°å¢žä¸Šç”µæœºçŠ¶æ€
 155:Core/Src/main.c **** float upper_motor_target_angle = 0.0f;     // ä¸Šç”µæœºç›®æ ‡è§’åº¦
 156:Core/Src/main.c **** uint8_t upper_motor_needs_reset = 0;       // æ˜¯å¦éœ€è¦å¤ä½æ ‡å¿—
 157:Core/Src/main.c **** /* USER CODE END PV */
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 6


 158:Core/Src/main.c **** // å…¨å±€çŠ¶æ€å˜é‡
 159:Core/Src/main.c **** 
 160:Core/Src/main.c **** void Check_Key_Inputs(void) {
 161:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 162:Core/Src/main.c ****     
 163:Core/Src/main.c ****     if (HAL_GPIO_ReadPin(KEY_MODE_GPIO, KEY_MODE_PIN) == GPIO_PIN_SET) {
 164:Core/Src/main.c ****         if (current_time - last_key_press > KEY_DEBOUNCE_TIME) {
 165:Core/Src/main.c ****             last_key_press = current_time;
 166:Core/Src/main.c ****             
 167:Core/Src/main.c ****             // ä»…åœ¨çŠ¶æ€ç¨³å®šæ—¶æŽ¥å—æ–°æŒ‡ä»¤
 168:Core/Src/main.c ****             if (current_mode == target_mode) {
 169:Core/Src/main.c ****                 target_mode = (ControlMode)((current_mode + 1) % 4);
 170:Core/Src/main.c ****                 mode_transition_start = current_time;
 171:Core/Src/main.c ****                 printf("=== REQUESTING MODE CHANGE: %d ===\n", target_mode);
 172:Core/Src/main.c ****                 
 173:Core/Src/main.c ****                 // å‡†å¤‡æ¨¡å¼åˆ‡æ¢
 174:Core/Src/main.c ****                 Prepare_Mode_Transition(target_mode);
 175:Core/Src/main.c ****             }
 176:Core/Src/main.c ****         }
 177:Core/Src/main.c ****     }
 178:Core/Src/main.c **** }
 179:Core/Src/main.c **** 
 180:Core/Src/main.c **** void Prepare_Mode_Transition(ControlMode new_mode) {
 181:Core/Src/main.c ****     GM6020_TypeDef *lower_motor = &gm6020_motors[LOWER_MOTOR_ID-1];
 182:Core/Src/main.c ****     GM6020_TypeDef *upper_motor = &gm6020_motors[UPPER_MOTOR_ID-1];
 183:Core/Src/main.c ****     
 184:Core/Src/main.c ****     switch (new_mode) {
 185:Core/Src/main.c ****         case MODE_BOTH_MOVING:
 186:Core/Src/main.c ****             // ç¡®ä¿ä¸¤ç”µæœºéƒ½åœ¨é€Ÿåº¦æ¨¡å¼
 187:Core/Src/main.c ****             if (lower_motor_state == STATE_RETURNING) {
 188:Core/Src/main.c ****                 lower_motor_state = STATE_NORMAL;
 189:Core/Src/main.c ****             }
 190:Core/Src/main.c ****             upper_motor_needs_reset = 1;
 191:Core/Src/main.c ****             break;
 192:Core/Src/main.c ****             
 193:Core/Src/main.c ****         case MODE_UPPER_MOVING:
 194:Core/Src/main.c ****             // ä¸‹ç”µæœºå½’ä½ï¼Œä¸Šç”µæœºé€Ÿåº¦æŽ§åˆ¶
 195:Core/Src/main.c ****             if (lower_motor_state != STATE_RETURNING) {
 196:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 197:Core/Src/main.c ****             }
 198:Core/Src/main.c ****             Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, UPPER_MOTOR_SPEED);
 199:Core/Src/main.c ****             break;
 200:Core/Src/main.c ****             
 201:Core/Src/main.c ****         case MODE_LOWER_MOVING:
 202:Core/Src/main.c ****             // ä¸Šç”µæœºåˆ¶åŠ¨ï¼Œä¸‹ç”µæœºé€Ÿåº¦æŽ§åˆ¶
 203:Core/Src/main.c ****             Brake_Upper_Motor();
 204:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 205:Core/Src/main.c ****             break;
 206:Core/Src/main.c ****             
 207:Core/Src/main.c ****         case MODE_BOTH_STOPPED:
 208:Core/Src/main.c ****             // ä¸¤ç”µæœºéƒ½è¿›å…¥ä¿æŒæ¨¡å¼
 209:Core/Src/main.c ****             Brake_Upper_Motor();
 210:Core/Src/main.c ****             if (lower_motor_state != STATE_RETURNING) {
 211:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 212:Core/Src/main.c ****             }
 213:Core/Src/main.c ****             break;
 214:Core/Src/main.c ****     }
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 7


 215:Core/Src/main.c **** }
 216:Core/Src/main.c **** 
 217:Core/Src/main.c **** // åœ¨ä¸»å¾ªçŽ¯ä¸­è°ƒç”¨
 218:Core/Src/main.c **** void Process_Mode_Transition(void) {
 219:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 220:Core/Src/main.c ****     
 221:Core/Src/main.c ****     if (current_mode != target_mode && 
 222:Core/Src/main.c ****         current_time - mode_transition_start > MODE_TRANSITION_TIME) {
 223:Core/Src/main.c ****         
 224:Core/Src/main.c ****         // ç¡®è®¤æ¨¡å¼åˆ‡æ¢
 225:Core/Src/main.c ****         current_mode = target_mode;
 226:Core/Src/main.c ****         printf("=== MODE TRANSITION COMPLETE: %d ===\n", current_mode);
 227:Core/Src/main.c ****         
 228:Core/Src/main.c ****         // æ ¹æ®æ¨¡å¼è®¾ç½®ç”µæœºæŽ§åˆ¶
 229:Core/Src/main.c ****         Configure_Motors_For_Mode(current_mode);
 230:Core/Src/main.c ****     }
 231:Core/Src/main.c **** }
 232:Core/Src/main.c **** 
 233:Core/Src/main.c **** void Configure_Motors_For_Mode(ControlMode mode) {
 234:Core/Src/main.c ****     switch (mode) {
 235:Core/Src/main.c ****         case MODE_BOTH_MOVING:
 236:Core/Src/main.c ****             Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, UPPER_MOTOR_SPEED);
 237:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 238:Core/Src/main.c ****             break;
 239:Core/Src/main.c ****             
 240:Core/Src/main.c ****         case MODE_UPPER_MOVING:
 241:Core/Src/main.c ****             // ä¸‹ç”µæœºåˆ¶åŠ¨ä¿æŒä½ç½®
 242:Core/Src/main.c ****             if (lower_motor_state == STATE_NORMAL) {
 243:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 244:Core/Src/main.c ****             }
 245:Core/Src/main.c ****             Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, UPPER_MOTOR_SPEED);
 246:Core/Src/main.c ****             break;
 247:Core/Src/main.c ****             
 248:Core/Src/main.c ****         case MODE_LOWER_MOVING:
 249:Core/Src/main.c ****             // ä¸Šç”µæœºè¿›å…¥ä½ç½®ä¿æŒæ¨¡å¼
 250:Core/Src/main.c ****             Reset_Upper_Motor_Position();
 251:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 252:Core/Src/main.c ****             break;
 253:Core/Src/main.c ****             
 254:Core/Src/main.c ****         case MODE_BOTH_STOPPED:
 255:Core/Src/main.c ****             Reset_Upper_Motor_Position();
 256:Core/Src/main.c ****             if (lower_motor_state == STATE_NORMAL) {
 257:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 258:Core/Src/main.c ****             }
 259:Core/Src/main.c ****             break;
 260:Core/Src/main.c ****     }
 261:Core/Src/main.c **** }
 262:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 263:Core/Src/main.c **** void Reset_Upper_Motor_Position(void);
 264:Core/Src/main.c **** /* USER CODE END PFP */
 265:Core/Src/main.c **** 
 266:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 267:Core/Src/main.c **** /**
 268:Core/Src/main.c ****   * @brief ä¸Šç”µæœºä½ç½®å¤ä½ (ä¼˜åŒ–ç‰ˆ)
 269:Core/Src/main.c ****   * å½“ç»™0é€Ÿåº¦æ—¶ï¼Œä½¿ç”¨ä½ç½®é—­çŽ¯æŽ§åˆ¶ï¼Œå³ä½¿è¢«æ‰“ä¸­ä¹Ÿä¼šè‡ªåŠ¨å›žåˆ°ç›®æ ‡ä½ç½®
 270:Core/Src/main.c ****   */
 271:Core/Src/main.c ****  
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 8


 272:Core/Src/main.c **** void Reset_Upper_Motor_Position(void) {
 115              		.loc 1 272 39 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119 0000 30B5     		push	{r4, r5, lr}
 120              	.LCFI1:
 121              		.cfi_def_cfa_offset 12
 122              		.cfi_offset 4, -12
 123              		.cfi_offset 5, -8
 124              		.cfi_offset 14, -4
 125 0002 2DED028B 		vpush.64	{d8}
 126              	.LCFI2:
 127              		.cfi_def_cfa_offset 20
 128              		.cfi_offset 80, -20
 129              		.cfi_offset 81, -16
 130 0006 85B0     		sub	sp, sp, #20
 131              	.LCFI3:
 132              		.cfi_def_cfa_offset 40
 273:Core/Src/main.c ****     GM6020_TypeDef *upper_motor = &gm6020_motors[UPPER_MOTOR_ID-1];
 133              		.loc 1 273 5 view .LVU15
 134              	.LVL4:
 274:Core/Src/main.c ****     
 275:Core/Src/main.c ****     // ä¿å­˜å½“å‰è§’åº¦ä½œä¸ºç›®æ ‡ä½ç½® (åªåœ¨ç¬¬ä¸€æ¬¡è¿›å…¥æ—¶ä¿å­˜)
 276:Core/Src/main.c ****     if (upper_motor_needs_reset) {
 135              		.loc 1 276 5 view .LVU16
 136              		.loc 1 276 9 is_stmt 0 view .LVU17
 137 0008 384B     		ldr	r3, .L22
 138 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 139              		.loc 1 276 8 view .LVU18
 140 000c FBB9     		cbnz	r3, .L19
 141              	.L11:
 277:Core/Src/main.c ****         upper_motor_target_angle = upper_motor->total_angle;
 278:Core/Src/main.c ****         upper_motor_needs_reset = 0;
 279:Core/Src/main.c ****         printf("Upper motor reset position saved: %.1fÂ°\n", upper_motor_target_angle);
 280:Core/Src/main.c ****         
 281:Core/Src/main.c ****     // ä½ç½®çŽ¯PIDå‚æ•°ä¼˜åŒ– (å¢žå¼ºæŠ—å¹²æ‰°èƒ½åŠ›)
 282:Core/Src/main.c ****     PID_Init(&upper_motor->angle_pid, 
 283:Core/Src/main.c ****             3.0f,    // âœ… Kpä»Ž8.0â†’3.0ï¼Œå‡å°‘è¶…è°ƒ
 284:Core/Src/main.c ****             0.02f,   // âœ… Kiä»Ž0.0â†’0.02ï¼Œæ¶ˆé™¤é™å·®
 285:Core/Src/main.c ****             0.1f,    // âœ… Kd=0.1ï¼ŒæŠ‘åˆ¶æŒ¯è¡
 286:Core/Src/main.c ****             50.0f,   // âœ… MaxSpeedä»Ž100â†’50ï¼Œé™åˆ¶æœ€å¤§é€Ÿåº¦
 287:Core/Src/main.c ****             1000.0f, // âœ… ç§¯åˆ†é™å¹…
 288:Core/Src/main.c ****             2.0f); // 0.5Â°æ­»åŒº
 289:Core/Src/main.c ****     }
 290:Core/Src/main.c ****     
 291:Core/Src/main.c ****      // âœ… æ™ºèƒ½æ­»åŒºå¤„ç†
 292:Core/Src/main.c ****     float angle_error = upper_motor_target_angle - upper_motor->total_angle;
 142              		.loc 1 292 5 is_stmt 1 view .LVU19
 143              		.loc 1 292 50 is_stmt 0 view .LVU20
 144 000e 384B     		ldr	r3, .L22+4
 145 0010 93ED000A 		vldr.32	s0, [r3]
 146              		.loc 1 292 63 view .LVU21
 147 0014 374B     		ldr	r3, .L22+8
 148 0016 D3EDBE7A 		vldr.32	s15, [r3, #760]
 149              		.loc 1 292 11 view .LVU22
 150 001a 70EE677A 		vsub.f32	s15, s0, s15
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 9


 151              	.LVL5:
 293:Core/Src/main.c ****     if (fabsf(angle_error) < 2.0f) {
 152              		.loc 1 293 5 is_stmt 1 view .LVU23
 153              		.loc 1 293 9 is_stmt 0 view .LVU24
 154 001e F0EEE77A 		vabs.f32	s15, s15
 155              	.LVL6:
 156              		.loc 1 293 8 view .LVU25
 157 0022 B0EE007A 		vmov.f32	s14, #2.0e+0
 158 0026 F4EEC77A 		vcmpe.f32	s15, s14
 159 002a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 160 002e 35D5     		bpl	.L17
 294:Core/Src/main.c ****         // åœ¨æ­»åŒºå†…ï¼Œä½¿ç”¨å°ç”µæµä¿æŒä½ç½®
 295:Core/Src/main.c ****         if (upper_motor->mode != MOTOR_MODE_CURRENT_OPEN) {
 161              		.loc 1 295 9 is_stmt 1 view .LVU26
 162              		.loc 1 295 24 is_stmt 0 view .LVU27
 163 0030 93F8E932 		ldrb	r3, [r3, #745]	@ zero_extendqisi2
 164              	.LVL7:
 165              		.loc 1 295 12 view .LVU28
 166 0034 5BBB     		cbnz	r3, .L20
 167              	.LVL8:
 168              	.L14:
 296:Core/Src/main.c ****             // é€æ¸é™ä½Žåˆ°ä¿æŒç”µæµ
 297:Core/Src/main.c ****             static float brake_current = 200.0f; // 200mAä¿æŒåŠ›
 298:Core/Src/main.c ****             Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, brake_current);
 299:Core/Src/main.c ****         }
 300:Core/Src/main.c ****     } else {
 301:Core/Src/main.c ****         // ä½¿ç”¨ä½ç½®é—­çŽ¯æŽ§åˆ¶
 302:Core/Src/main.c ****         Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_POS_CASCADE, upper_motor_target_angle);
 303:Core/Src/main.c ****     }
 304:Core/Src/main.c ****     static uint32_t last_debug = 0;
 169              		.loc 1 304 5 is_stmt 1 view .LVU29
 305:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 170              		.loc 1 305 5 view .LVU30
 171              		.loc 1 305 29 is_stmt 0 view .LVU31
 172 0036 FFF7FEFF 		bl	HAL_GetTick
 173              	.LVL9:
 306:Core/Src/main.c ****     if (current_time - last_debug > 500) {
 174              		.loc 1 306 5 is_stmt 1 view .LVU32
 175              		.loc 1 306 22 is_stmt 0 view .LVU33
 176 003a 2F4B     		ldr	r3, .L22+12
 177 003c 1B68     		ldr	r3, [r3]
 178 003e C31A     		subs	r3, r0, r3
 179              		.loc 1 306 8 view .LVU34
 180 0040 B3F5FA7F 		cmp	r3, #500
 181 0044 2FD8     		bhi	.L21
 182              	.LVL10:
 183              	.L10:
 307:Core/Src/main.c ****         last_debug = current_time;
 308:Core/Src/main.c ****         float angle_error = upper_motor_target_angle - upper_motor->total_angle;
 309:Core/Src/main.c ****         printf("[Upper] RESET MODE: Target=%.1fÂ°, Current=%.1fÂ°, Error=%.1fÂ°\n",
 310:Core/Src/main.c ****                upper_motor_target_angle, upper_motor->total_angle, angle_error);
 311:Core/Src/main.c ****     }
 312:Core/Src/main.c **** }
 184              		.loc 1 312 1 view .LVU35
 185 0046 05B0     		add	sp, sp, #20
 186              	.LCFI4:
 187              		.cfi_remember_state
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 10


 188              		.cfi_def_cfa_offset 20
 189              		@ sp needed
 190 0048 BDEC028B 		vldm	sp!, {d8}
 191              	.LCFI5:
 192              		.cfi_restore 80
 193              		.cfi_restore 81
 194              		.cfi_def_cfa_offset 12
 195 004c 30BD     		pop	{r4, r5, pc}
 196              	.LVL11:
 197              	.L19:
 198              	.LCFI6:
 199              		.cfi_restore_state
 277:Core/Src/main.c ****         upper_motor_needs_reset = 0;
 200              		.loc 1 277 9 is_stmt 1 view .LVU36
 277:Core/Src/main.c ****         upper_motor_needs_reset = 0;
 201              		.loc 1 277 47 is_stmt 0 view .LVU37
 202 004e 294C     		ldr	r4, .L22+8
 203 0050 D4F8F802 		ldr	r0, [r4, #760]	@ float
 277:Core/Src/main.c ****         upper_motor_needs_reset = 0;
 204              		.loc 1 277 34 view .LVU38
 205 0054 264B     		ldr	r3, .L22+4
 206 0056 1860     		str	r0, [r3]	@ float
 278:Core/Src/main.c ****         printf("Upper motor reset position saved: %.1fÂ°\n", upper_motor_target_angle);
 207              		.loc 1 278 9 is_stmt 1 view .LVU39
 278:Core/Src/main.c ****         printf("Upper motor reset position saved: %.1fÂ°\n", upper_motor_target_angle);
 208              		.loc 1 278 33 is_stmt 0 view .LVU40
 209 0058 244B     		ldr	r3, .L22
 210 005a 0022     		movs	r2, #0
 211 005c 1A70     		strb	r2, [r3]
 279:Core/Src/main.c ****         
 212              		.loc 1 279 9 is_stmt 1 view .LVU41
 213 005e FFF7FEFF 		bl	__aeabi_f2d
 214              	.LVL12:
 215 0062 0246     		mov	r2, r0
 216 0064 0B46     		mov	r3, r1
 217 0066 2548     		ldr	r0, .L22+16
 218 0068 FFF7FEFF 		bl	printf
 219              	.LVL13:
 282:Core/Src/main.c ****             3.0f,    // âœ… Kpä»Ž8.0â†’3.0ï¼Œå‡å°‘è¶…è°ƒ
 220              		.loc 1 282 5 view .LVU42
 221 006c F0EE002A 		vmov.f32	s5, #2.0e+0
 222 0070 9FED232A 		vldr.32	s4, .L22+20
 223 0074 DFED231A 		vldr.32	s3, .L22+24
 224 0078 9FED231A 		vldr.32	s2, .L22+28
 225 007c DFED230A 		vldr.32	s1, .L22+32
 226 0080 B0EE080A 		vmov.f32	s0, #3.0e+0
 227 0084 04F55170 		add	r0, r4, #836
 228 0088 FFF7FEFF 		bl	PID_Init
 229              	.LVL14:
 230 008c BFE7     		b	.L11
 231              	.LVL15:
 232              	.L20:
 233              	.LBB5:
 297:Core/Src/main.c ****             Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, brake_current);
 234              		.loc 1 297 13 view .LVU43
 298:Core/Src/main.c ****         }
 235              		.loc 1 298 13 view .LVU44
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 11


 236 008e 9FED200A 		vldr.32	s0, .L22+36
 237              	.LVL16:
 298:Core/Src/main.c ****         }
 238              		.loc 1 298 13 is_stmt 0 view .LVU45
 239 0092 0021     		movs	r1, #0
 240 0094 0420     		movs	r0, #4
 241 0096 FFF7FEFF 		bl	Motor_Set_Target
 242              	.LVL17:
 298:Core/Src/main.c ****         }
 243              		.loc 1 298 13 view .LVU46
 244 009a CCE7     		b	.L14
 245              	.LVL18:
 246              	.L17:
 298:Core/Src/main.c ****         }
 247              		.loc 1 298 13 view .LVU47
 248              	.LBE5:
 302:Core/Src/main.c ****     }
 249              		.loc 1 302 9 is_stmt 1 view .LVU48
 250 009c 0221     		movs	r1, #2
 251 009e 0420     		movs	r0, #4
 252 00a0 FFF7FEFF 		bl	Motor_Set_Target
 253              	.LVL19:
 302:Core/Src/main.c ****     }
 254              		.loc 1 302 9 is_stmt 0 view .LVU49
 255 00a4 C7E7     		b	.L14
 256              	.LVL20:
 257              	.L21:
 258              	.LBB6:
 307:Core/Src/main.c ****         float angle_error = upper_motor_target_angle - upper_motor->total_angle;
 259              		.loc 1 307 9 is_stmt 1 view .LVU50
 307:Core/Src/main.c ****         float angle_error = upper_motor_target_angle - upper_motor->total_angle;
 260              		.loc 1 307 20 is_stmt 0 view .LVU51
 261 00a6 144B     		ldr	r3, .L22+12
 262 00a8 1860     		str	r0, [r3]
 308:Core/Src/main.c ****         printf("[Upper] RESET MODE: Target=%.1fÂ°, Current=%.1fÂ°, Error=%.1fÂ°\n",
 263              		.loc 1 308 9 is_stmt 1 view .LVU52
 308:Core/Src/main.c ****         printf("[Upper] RESET MODE: Target=%.1fÂ°, Current=%.1fÂ°, Error=%.1fÂ°\n",
 264              		.loc 1 308 54 is_stmt 0 view .LVU53
 265 00aa 114B     		ldr	r3, .L22+4
 266 00ac D3ED007A 		vldr.32	s15, [r3]
 308:Core/Src/main.c ****         printf("[Upper] RESET MODE: Target=%.1fÂ°, Current=%.1fÂ°, Error=%.1fÂ°\n",
 267              		.loc 1 308 67 view .LVU54
 268 00b0 104B     		ldr	r3, .L22+8
 269 00b2 93EDBE8A 		vldr.32	s16, [r3, #760]
 308:Core/Src/main.c ****         printf("[Upper] RESET MODE: Target=%.1fÂ°, Current=%.1fÂ°, Error=%.1fÂ°\n",
 270              		.loc 1 308 15 view .LVU55
 271 00b6 77EEC88A 		vsub.f32	s17, s15, s16
 272              	.LVL21:
 309:Core/Src/main.c ****                upper_motor_target_angle, upper_motor->total_angle, angle_error);
 273              		.loc 1 309 9 is_stmt 1 view .LVU56
 274 00ba 17EE900A 		vmov	r0, s15
 275              	.LVL22:
 309:Core/Src/main.c ****                upper_motor_target_angle, upper_motor->total_angle, angle_error);
 276              		.loc 1 309 9 is_stmt 0 view .LVU57
 277 00be FFF7FEFF 		bl	__aeabi_f2d
 278              	.LVL23:
 309:Core/Src/main.c ****                upper_motor_target_angle, upper_motor->total_angle, angle_error);
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 12


 279              		.loc 1 309 9 view .LVU58
 280 00c2 0446     		mov	r4, r0
 281 00c4 0D46     		mov	r5, r1
 282 00c6 18EE900A 		vmov	r0, s17
 283 00ca FFF7FEFF 		bl	__aeabi_f2d
 284              	.LVL24:
 285 00ce CDE90201 		strd	r0, [sp, #8]
 286 00d2 18EE100A 		vmov	r0, s16
 287 00d6 FFF7FEFF 		bl	__aeabi_f2d
 288              	.LVL25:
 289 00da CDE90001 		strd	r0, [sp]
 290 00de 2246     		mov	r2, r4
 291 00e0 2B46     		mov	r3, r5
 292 00e2 0C48     		ldr	r0, .L22+40
 293 00e4 FFF7FEFF 		bl	printf
 294              	.LVL26:
 295              	.LBE6:
 296              		.loc 1 312 1 view .LVU59
 297 00e8 ADE7     		b	.L10
 298              	.L23:
 299 00ea 00BF     		.align	2
 300              	.L22:
 301 00ec 00000000 		.word	upper_motor_needs_reset
 302 00f0 00000000 		.word	upper_motor_target_angle
 303 00f4 00000000 		.word	gm6020_motors
 304 00f8 00000000 		.word	last_debug.2
 305 00fc 00000000 		.word	.LC1
 306 0100 00007A44 		.word	1148846080
 307 0104 00004842 		.word	1112014848
 308 0108 CDCCCC3D 		.word	1036831949
 309 010c 0AD7A33C 		.word	1017370378
 310 0110 00004843 		.word	1128792064
 311 0114 2C000000 		.word	.LC2
 312              		.cfi_endproc
 313              	.LFE142:
 315              		.section	.text.Configure_Motors_For_Mode,"ax",%progbits
 316              		.align	1
 317              		.global	Configure_Motors_For_Mode
 318              		.syntax unified
 319              		.thumb
 320              		.thumb_func
 322              	Configure_Motors_For_Mode:
 323              	.LVL27:
 324              	.LFB141:
 233:Core/Src/main.c ****     switch (mode) {
 325              		.loc 1 233 50 is_stmt 1 view -0
 326              		.cfi_startproc
 327              		@ args = 0, pretend = 0, frame = 0
 328              		@ frame_needed = 0, uses_anonymous_args = 0
 233:Core/Src/main.c ****     switch (mode) {
 329              		.loc 1 233 50 is_stmt 0 view .LVU61
 330 0000 08B5     		push	{r3, lr}
 331              	.LCFI7:
 332              		.cfi_def_cfa_offset 8
 333              		.cfi_offset 3, -8
 334              		.cfi_offset 14, -4
 234:Core/Src/main.c ****         case MODE_BOTH_MOVING:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 13


 335              		.loc 1 234 5 is_stmt 1 view .LVU62
 336 0002 0328     		cmp	r0, #3
 337 0004 0FD8     		bhi	.L24
 338 0006 DFE800F0 		tbb	[pc, r0]
 339              	.L27:
 340 000a 02       		.byte	(.L30-.L27)/2
 341 000b 0F       		.byte	(.L29-.L27)/2
 342 000c 20       		.byte	(.L28-.L27)/2
 343 000d 29       		.byte	(.L26-.L27)/2
 344              		.p2align 1
 345              	.L30:
 236:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 346              		.loc 1 236 13 view .LVU63
 347 000e 9FED1A0A 		vldr.32	s0, .L35
 348 0012 0121     		movs	r1, #1
 349 0014 0420     		movs	r0, #4
 350              	.LVL28:
 236:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 351              		.loc 1 236 13 is_stmt 0 view .LVU64
 352 0016 FFF7FEFF 		bl	Motor_Set_Target
 353              	.LVL29:
 237:Core/Src/main.c ****             break;
 354              		.loc 1 237 13 is_stmt 1 view .LVU65
 355 001a 9FED180A 		vldr.32	s0, .L35+4
 356 001e 0121     		movs	r1, #1
 357 0020 0320     		movs	r0, #3
 358 0022 FFF7FEFF 		bl	Motor_Set_Target
 359              	.LVL30:
 238:Core/Src/main.c ****             
 360              		.loc 1 238 13 view .LVU66
 361              	.L24:
 261:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 362              		.loc 1 261 1 is_stmt 0 view .LVU67
 363 0026 08BD     		pop	{r3, pc}
 364              	.LVL31:
 365              	.L29:
 242:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 366              		.loc 1 242 13 is_stmt 1 view .LVU68
 242:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 367              		.loc 1 242 35 is_stmt 0 view .LVU69
 368 0028 154B     		ldr	r3, .L35+8
 369 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 242:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 370              		.loc 1 242 16 view .LVU70
 371 002c 33B1     		cbz	r3, .L34
 372              	.LVL32:
 373              	.L31:
 245:Core/Src/main.c ****             break;
 374              		.loc 1 245 13 is_stmt 1 view .LVU71
 375 002e 9FED120A 		vldr.32	s0, .L35
 376 0032 0121     		movs	r1, #1
 377 0034 0420     		movs	r0, #4
 378 0036 FFF7FEFF 		bl	Motor_Set_Target
 379              	.LVL33:
 246:Core/Src/main.c ****             
 380              		.loc 1 246 13 view .LVU72
 381 003a F4E7     		b	.L24
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 14


 382              	.LVL34:
 383              	.L34:
 243:Core/Src/main.c ****             }
 384              		.loc 1 243 17 view .LVU73
 385 003c 9FED110A 		vldr.32	s0, .L35+12
 386 0040 0021     		movs	r1, #0
 387 0042 0320     		movs	r0, #3
 388              	.LVL35:
 243:Core/Src/main.c ****             }
 389              		.loc 1 243 17 is_stmt 0 view .LVU74
 390 0044 FFF7FEFF 		bl	Motor_Set_Target
 391              	.LVL36:
 392 0048 F1E7     		b	.L31
 393              	.LVL37:
 394              	.L28:
 250:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 395              		.loc 1 250 13 is_stmt 1 view .LVU75
 396 004a FFF7FEFF 		bl	Reset_Upper_Motor_Position
 397              	.LVL38:
 251:Core/Src/main.c ****             break;
 398              		.loc 1 251 13 view .LVU76
 399 004e 9FED0B0A 		vldr.32	s0, .L35+4
 400 0052 0121     		movs	r1, #1
 401 0054 0320     		movs	r0, #3
 402 0056 FFF7FEFF 		bl	Motor_Set_Target
 403              	.LVL39:
 252:Core/Src/main.c ****             
 404              		.loc 1 252 13 view .LVU77
 405 005a E4E7     		b	.L24
 406              	.LVL40:
 407              	.L26:
 255:Core/Src/main.c ****             if (lower_motor_state == STATE_NORMAL) {
 408              		.loc 1 255 13 view .LVU78
 409 005c FFF7FEFF 		bl	Reset_Upper_Motor_Position
 410              	.LVL41:
 256:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 411              		.loc 1 256 13 view .LVU79
 256:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 412              		.loc 1 256 35 is_stmt 0 view .LVU80
 413 0060 074B     		ldr	r3, .L35+8
 414 0062 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 256:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, 400.0f); // 400mAåˆ¶åŠ¨åŠ
 415              		.loc 1 256 16 view .LVU81
 416 0064 002B     		cmp	r3, #0
 417 0066 DED1     		bne	.L24
 257:Core/Src/main.c ****             }
 418              		.loc 1 257 17 is_stmt 1 view .LVU82
 419 0068 9FED060A 		vldr.32	s0, .L35+12
 420 006c 0021     		movs	r1, #0
 421 006e 0320     		movs	r0, #3
 422 0070 FFF7FEFF 		bl	Motor_Set_Target
 423              	.LVL42:
 261:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 424              		.loc 1 261 1 is_stmt 0 view .LVU83
 425 0074 D7E7     		b	.L24
 426              	.L36:
 427 0076 00BF     		.align	2
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 15


 428              	.L35:
 429 0078 00001442 		.word	1108606976
 430 007c 00003443 		.word	1127481344
 431 0080 00000000 		.word	lower_motor_state
 432 0084 0000C843 		.word	1137180672
 433              		.cfi_endproc
 434              	.LFE141:
 436              		.section	.rodata.Process_Mode_Transition.str1.4,"aMS",%progbits,1
 437              		.align	2
 438              	.LC3:
 439 0000 3D3D3D20 		.ascii	"=== MODE TRANSITION COMPLETE: %d ===\012\000"
 439      4D4F4445 
 439      20545241 
 439      4E534954 
 439      494F4E20 
 440              		.section	.text.Process_Mode_Transition,"ax",%progbits
 441              		.align	1
 442              		.global	Process_Mode_Transition
 443              		.syntax unified
 444              		.thumb
 445              		.thumb_func
 447              	Process_Mode_Transition:
 448              	.LFB140:
 218:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 449              		.loc 1 218 36 is_stmt 1 view -0
 450              		.cfi_startproc
 451              		@ args = 0, pretend = 0, frame = 0
 452              		@ frame_needed = 0, uses_anonymous_args = 0
 453 0000 10B5     		push	{r4, lr}
 454              	.LCFI8:
 455              		.cfi_def_cfa_offset 8
 456              		.cfi_offset 4, -8
 457              		.cfi_offset 14, -4
 219:Core/Src/main.c ****     
 458              		.loc 1 219 5 view .LVU85
 219:Core/Src/main.c ****     
 459              		.loc 1 219 29 is_stmt 0 view .LVU86
 460 0002 FFF7FEFF 		bl	HAL_GetTick
 461              	.LVL43:
 221:Core/Src/main.c ****         current_time - mode_transition_start > MODE_TRANSITION_TIME) {
 462              		.loc 1 221 5 is_stmt 1 view .LVU87
 221:Core/Src/main.c ****         current_time - mode_transition_start > MODE_TRANSITION_TIME) {
 463              		.loc 1 221 22 is_stmt 0 view .LVU88
 464 0006 0A4B     		ldr	r3, .L41
 465 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 466 000a 0A4A     		ldr	r2, .L41+4
 467 000c 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 221:Core/Src/main.c ****         current_time - mode_transition_start > MODE_TRANSITION_TIME) {
 468              		.loc 1 221 8 view .LVU89
 469 000e 8B42     		cmp	r3, r1
 470 0010 04D0     		beq	.L37
 222:Core/Src/main.c ****         
 471              		.loc 1 222 22 view .LVU90
 472 0012 094B     		ldr	r3, .L41+8
 473 0014 1B68     		ldr	r3, [r3]
 474 0016 C01A     		subs	r0, r0, r3
 475              	.LVL44:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 16


 221:Core/Src/main.c ****         current_time - mode_transition_start > MODE_TRANSITION_TIME) {
 476              		.loc 1 221 37 discriminator 1 view .LVU91
 477 0018 C828     		cmp	r0, #200
 478 001a 00D8     		bhi	.L40
 479              	.L37:
 231:Core/Src/main.c **** 
 480              		.loc 1 231 1 view .LVU92
 481 001c 10BD     		pop	{r4, pc}
 482              	.L40:
 225:Core/Src/main.c ****         printf("=== MODE TRANSITION COMPLETE: %d ===\n", current_mode);
 483              		.loc 1 225 9 is_stmt 1 view .LVU93
 225:Core/Src/main.c ****         printf("=== MODE TRANSITION COMPLETE: %d ===\n", current_mode);
 484              		.loc 1 225 22 is_stmt 0 view .LVU94
 485 001e 044C     		ldr	r4, .L41
 486 0020 2170     		strb	r1, [r4]
 226:Core/Src/main.c ****         
 487              		.loc 1 226 9 is_stmt 1 view .LVU95
 488 0022 0648     		ldr	r0, .L41+12
 489 0024 FFF7FEFF 		bl	printf
 490              	.LVL45:
 229:Core/Src/main.c ****     }
 491              		.loc 1 229 9 view .LVU96
 492 0028 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 493 002a FFF7FEFF 		bl	Configure_Motors_For_Mode
 494              	.LVL46:
 231:Core/Src/main.c **** 
 495              		.loc 1 231 1 is_stmt 0 view .LVU97
 496 002e F5E7     		b	.L37
 497              	.L42:
 498              		.align	2
 499              	.L41:
 500 0030 00000000 		.word	current_mode
 501 0034 00000000 		.word	target_mode
 502 0038 00000000 		.word	mode_transition_start
 503 003c 00000000 		.word	.LC3
 504              		.cfi_endproc
 505              	.LFE140:
 507              		.section	.rodata.Brake_Upper_Motor.str1.4,"aMS",%progbits,1
 508              		.align	2
 509              	.LC4:
 510 0000 55707065 		.ascii	"Upper motor entering stable brake mode\000"
 510      72206D6F 
 510      746F7220 
 510      656E7465 
 510      72696E67 
 511              		.section	.text.Brake_Upper_Motor,"ax",%progbits
 512              		.align	1
 513              		.global	Brake_Upper_Motor
 514              		.syntax unified
 515              		.thumb
 516              		.thumb_func
 518              	Brake_Upper_Motor:
 519              	.LFB143:
 313:Core/Src/main.c **** 
 314:Core/Src/main.c **** /**
 315:Core/Src/main.c ****   * @brief ä¸Šç”µæœºåˆ¶åŠ¨åœæ­¢ (æ”¹ä¸ºæ™ºèƒ½å¤ä½)
 316:Core/Src/main.c ****   */
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 17


 317:Core/Src/main.c **** void Brake_Upper_Motor(void) {upper_motor_needs_reset = 1;
 520              		.loc 1 317 30 is_stmt 1 view -0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524 0000 08B5     		push	{r3, lr}
 525              	.LCFI9:
 526              		.cfi_def_cfa_offset 8
 527              		.cfi_offset 3, -8
 528              		.cfi_offset 14, -4
 529              		.loc 1 317 31 view .LVU99
 530              		.loc 1 317 55 is_stmt 0 view .LVU100
 531 0002 0A4B     		ldr	r3, .L47
 532 0004 0122     		movs	r2, #1
 533 0006 1A70     		strb	r2, [r3]
 318:Core/Src/main.c ****     printf("Upper motor entering stable brake mode\n");
 534              		.loc 1 318 5 is_stmt 1 view .LVU101
 535 0008 0948     		ldr	r0, .L47+4
 536 000a FFF7FEFF 		bl	puts
 537              	.LVL47:
 319:Core/Src/main.c ****     
 320:Core/Src/main.c ****     GM6020_TypeDef *upper_motor = &gm6020_motors[UPPER_MOTOR_ID-1];
 538              		.loc 1 320 5 view .LVU102
 321:Core/Src/main.c ****     if (upper_motor->mode != MOTOR_MODE_CURRENT_OPEN) {
 539              		.loc 1 321 5 view .LVU103
 540              		.loc 1 321 20 is_stmt 0 view .LVU104
 541 000e 094B     		ldr	r3, .L47+8
 542 0010 93F8E932 		ldrb	r3, [r3, #745]	@ zero_extendqisi2
 543              		.loc 1 321 8 view .LVU105
 544 0014 03B9     		cbnz	r3, .L46
 545              	.L43:
 322:Core/Src/main.c ****         // æ¸è¿›å¼åˆ¶åŠ¨ï¼Œé˜²æ­¢å†²å‡»
 323:Core/Src/main.c ****         float brake_current = 300.0f; // 300mAåˆ¶åŠ¨åŠ›
 324:Core/Src/main.c ****         Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, brake_current);
 325:Core/Src/main.c ****         
 326:Core/Src/main.c ****         PID_Clear(&upper_motor->angle_pid);
 327:Core/Src/main.c ****     }
 328:Core/Src/main.c **** }
 546              		.loc 1 328 1 view .LVU106
 547 0016 08BD     		pop	{r3, pc}
 548              	.L46:
 549              	.LBB7:
 323:Core/Src/main.c ****         Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_OPEN, brake_current);
 550              		.loc 1 323 9 is_stmt 1 view .LVU107
 551              	.LVL48:
 324:Core/Src/main.c ****         
 552              		.loc 1 324 9 view .LVU108
 553 0018 9FED070A 		vldr.32	s0, .L47+12
 554 001c 0021     		movs	r1, #0
 555 001e 0420     		movs	r0, #4
 556 0020 FFF7FEFF 		bl	Motor_Set_Target
 557              	.LVL49:
 326:Core/Src/main.c ****     }
 558              		.loc 1 326 9 view .LVU109
 559 0024 0548     		ldr	r0, .L47+16
 560 0026 FFF7FEFF 		bl	PID_Clear
 561              	.LVL50:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 18


 562              	.LBE7:
 563              		.loc 1 328 1 is_stmt 0 view .LVU110
 564 002a F4E7     		b	.L43
 565              	.L48:
 566              		.align	2
 567              	.L47:
 568 002c 00000000 		.word	upper_motor_needs_reset
 569 0030 00000000 		.word	.LC4
 570 0034 00000000 		.word	gm6020_motors
 571 0038 00009643 		.word	1133903872
 572 003c 44030000 		.word	gm6020_motors+836
 573              		.cfi_endproc
 574              	.LFE143:
 576              		.section	.text.Prepare_Mode_Transition,"ax",%progbits
 577              		.align	1
 578              		.global	Prepare_Mode_Transition
 579              		.syntax unified
 580              		.thumb
 581              		.thumb_func
 583              	Prepare_Mode_Transition:
 584              	.LVL51:
 585              	.LFB139:
 180:Core/Src/main.c ****     GM6020_TypeDef *lower_motor = &gm6020_motors[LOWER_MOTOR_ID-1];
 586              		.loc 1 180 52 is_stmt 1 view -0
 587              		.cfi_startproc
 588              		@ args = 0, pretend = 0, frame = 0
 589              		@ frame_needed = 0, uses_anonymous_args = 0
 180:Core/Src/main.c ****     GM6020_TypeDef *lower_motor = &gm6020_motors[LOWER_MOTOR_ID-1];
 590              		.loc 1 180 52 is_stmt 0 view .LVU112
 591 0000 08B5     		push	{r3, lr}
 592              	.LCFI10:
 593              		.cfi_def_cfa_offset 8
 594              		.cfi_offset 3, -8
 595              		.cfi_offset 14, -4
 181:Core/Src/main.c ****     GM6020_TypeDef *upper_motor = &gm6020_motors[UPPER_MOTOR_ID-1];
 596              		.loc 1 181 5 is_stmt 1 view .LVU113
 597              	.LVL52:
 182:Core/Src/main.c ****     
 598              		.loc 1 182 5 view .LVU114
 184:Core/Src/main.c ****         case MODE_BOTH_MOVING:
 599              		.loc 1 184 5 view .LVU115
 600 0002 0328     		cmp	r0, #3
 601 0004 0AD8     		bhi	.L49
 602 0006 DFE800F0 		tbb	[pc, r0]
 603              	.L52:
 604 000a 02       		.byte	(.L55-.L52)/2
 605 000b 0E       		.byte	(.L54-.L52)/2
 606 000c 1C       		.byte	(.L53-.L52)/2
 607 000d 25       		.byte	(.L51-.L52)/2
 608              		.p2align 1
 609              	.L55:
 187:Core/Src/main.c ****                 lower_motor_state = STATE_NORMAL;
 610              		.loc 1 187 13 view .LVU116
 187:Core/Src/main.c ****                 lower_motor_state = STATE_NORMAL;
 611              		.loc 1 187 35 is_stmt 0 view .LVU117
 612 000e 164B     		ldr	r3, .L62
 613 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 19


 187:Core/Src/main.c ****                 lower_motor_state = STATE_NORMAL;
 614              		.loc 1 187 16 view .LVU118
 615 0012 012B     		cmp	r3, #1
 616 0014 03D0     		beq	.L60
 617              	.L56:
 190:Core/Src/main.c ****             break;
 618              		.loc 1 190 13 is_stmt 1 view .LVU119
 190:Core/Src/main.c ****             break;
 619              		.loc 1 190 37 is_stmt 0 view .LVU120
 620 0016 154B     		ldr	r3, .L62+4
 621 0018 0122     		movs	r2, #1
 622 001a 1A70     		strb	r2, [r3]
 191:Core/Src/main.c ****             
 623              		.loc 1 191 13 is_stmt 1 view .LVU121
 624              	.LVL53:
 625              	.L49:
 215:Core/Src/main.c **** 
 626              		.loc 1 215 1 is_stmt 0 view .LVU122
 627 001c 08BD     		pop	{r3, pc}
 628              	.LVL54:
 629              	.L60:
 188:Core/Src/main.c ****             }
 630              		.loc 1 188 17 is_stmt 1 view .LVU123
 188:Core/Src/main.c ****             }
 631              		.loc 1 188 35 is_stmt 0 view .LVU124
 632 001e 124B     		ldr	r3, .L62
 633 0020 0022     		movs	r2, #0
 634 0022 1A70     		strb	r2, [r3]
 635 0024 F7E7     		b	.L56
 636              	.L54:
 195:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 637              		.loc 1 195 13 is_stmt 1 view .LVU125
 195:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 638              		.loc 1 195 35 is_stmt 0 view .LVU126
 639 0026 104B     		ldr	r3, .L62
 640 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 195:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 641              		.loc 1 195 16 view .LVU127
 642 002a 012B     		cmp	r3, #1
 643 002c 06D1     		bne	.L61
 644              	.LVL55:
 645              	.L57:
 198:Core/Src/main.c ****             break;
 646              		.loc 1 198 13 is_stmt 1 view .LVU128
 647 002e 9FED100A 		vldr.32	s0, .L62+8
 648 0032 0121     		movs	r1, #1
 649 0034 0420     		movs	r0, #4
 650 0036 FFF7FEFF 		bl	Motor_Set_Target
 651              	.LVL56:
 199:Core/Src/main.c ****             
 652              		.loc 1 199 13 view .LVU129
 653 003a EFE7     		b	.L49
 654              	.LVL57:
 655              	.L61:
 196:Core/Src/main.c ****             }
 656              		.loc 1 196 17 view .LVU130
 657 003c FFF7FEFF 		bl	Return_Lower_Motor_To_Initial_Position
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 20


 658              	.LVL58:
 196:Core/Src/main.c ****             }
 659              		.loc 1 196 17 is_stmt 0 view .LVU131
 660 0040 F5E7     		b	.L57
 661              	.LVL59:
 662              	.L53:
 203:Core/Src/main.c ****             Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 663              		.loc 1 203 13 is_stmt 1 view .LVU132
 664 0042 FFF7FEFF 		bl	Brake_Upper_Motor
 665              	.LVL60:
 204:Core/Src/main.c ****             break;
 666              		.loc 1 204 13 view .LVU133
 667 0046 9FED0B0A 		vldr.32	s0, .L62+12
 668 004a 0121     		movs	r1, #1
 669 004c 0320     		movs	r0, #3
 670 004e FFF7FEFF 		bl	Motor_Set_Target
 671              	.LVL61:
 205:Core/Src/main.c ****             
 672              		.loc 1 205 13 view .LVU134
 673 0052 E3E7     		b	.L49
 674              	.LVL62:
 675              	.L51:
 209:Core/Src/main.c ****             if (lower_motor_state != STATE_RETURNING) {
 676              		.loc 1 209 13 view .LVU135
 677 0054 FFF7FEFF 		bl	Brake_Upper_Motor
 678              	.LVL63:
 210:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 679              		.loc 1 210 13 view .LVU136
 210:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 680              		.loc 1 210 35 is_stmt 0 view .LVU137
 681 0058 034B     		ldr	r3, .L62
 682 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 210:Core/Src/main.c ****                 Return_Lower_Motor_To_Initial_Position();
 683              		.loc 1 210 16 view .LVU138
 684 005c 012B     		cmp	r3, #1
 685 005e DDD0     		beq	.L49
 211:Core/Src/main.c ****             }
 686              		.loc 1 211 17 is_stmt 1 view .LVU139
 687 0060 FFF7FEFF 		bl	Return_Lower_Motor_To_Initial_Position
 688              	.LVL64:
 215:Core/Src/main.c **** 
 689              		.loc 1 215 1 is_stmt 0 view .LVU140
 690 0064 DAE7     		b	.L49
 691              	.L63:
 692 0066 00BF     		.align	2
 693              	.L62:
 694 0068 00000000 		.word	lower_motor_state
 695 006c 00000000 		.word	upper_motor_needs_reset
 696 0070 00001442 		.word	1108606976
 697 0074 00003443 		.word	1127481344
 698              		.cfi_endproc
 699              	.LFE139:
 701              		.section	.rodata.Check_Key_Inputs.str1.4,"aMS",%progbits,1
 702              		.align	2
 703              	.LC5:
 704 0000 3D3D3D20 		.ascii	"=== REQUESTING MODE CHANGE: %d ===\012\000"
 704      52455155 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 21


 704      45535449 
 704      4E47204D 
 704      4F444520 
 705              		.section	.text.Check_Key_Inputs,"ax",%progbits
 706              		.align	1
 707              		.global	Check_Key_Inputs
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 712              	Check_Key_Inputs:
 713              	.LFB138:
 160:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 714              		.loc 1 160 29 is_stmt 1 view -0
 715              		.cfi_startproc
 716              		@ args = 0, pretend = 0, frame = 0
 717              		@ frame_needed = 0, uses_anonymous_args = 0
 718 0000 38B5     		push	{r3, r4, r5, lr}
 719              	.LCFI11:
 720              		.cfi_def_cfa_offset 16
 721              		.cfi_offset 3, -16
 722              		.cfi_offset 4, -12
 723              		.cfi_offset 5, -8
 724              		.cfi_offset 14, -4
 161:Core/Src/main.c ****     
 725              		.loc 1 161 5 view .LVU142
 161:Core/Src/main.c ****     
 726              		.loc 1 161 29 is_stmt 0 view .LVU143
 727 0002 FFF7FEFF 		bl	HAL_GetTick
 728              	.LVL65:
 729 0006 0446     		mov	r4, r0
 730              	.LVL66:
 163:Core/Src/main.c ****         if (current_time - last_key_press > KEY_DEBOUNCE_TIME) {
 731              		.loc 1 163 5 is_stmt 1 view .LVU144
 163:Core/Src/main.c ****         if (current_time - last_key_press > KEY_DEBOUNCE_TIME) {
 732              		.loc 1 163 9 is_stmt 0 view .LVU145
 733 0008 0421     		movs	r1, #4
 734 000a 1348     		ldr	r0, .L68
 735              	.LVL67:
 163:Core/Src/main.c ****         if (current_time - last_key_press > KEY_DEBOUNCE_TIME) {
 736              		.loc 1 163 9 view .LVU146
 737 000c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 738              	.LVL68:
 163:Core/Src/main.c ****         if (current_time - last_key_press > KEY_DEBOUNCE_TIME) {
 739              		.loc 1 163 8 discriminator 1 view .LVU147
 740 0010 0128     		cmp	r0, #1
 741 0012 00D0     		beq	.L67
 742              	.L64:
 178:Core/Src/main.c **** 
 743              		.loc 1 178 1 view .LVU148
 744 0014 38BD     		pop	{r3, r4, r5, pc}
 745              	.LVL69:
 746              	.L67:
 164:Core/Src/main.c ****             last_key_press = current_time;
 747              		.loc 1 164 9 is_stmt 1 view .LVU149
 164:Core/Src/main.c ****             last_key_press = current_time;
 748              		.loc 1 164 26 is_stmt 0 view .LVU150
 749 0016 114B     		ldr	r3, .L68+4
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 22


 750 0018 1B68     		ldr	r3, [r3]
 751 001a E31A     		subs	r3, r4, r3
 164:Core/Src/main.c ****             last_key_press = current_time;
 752              		.loc 1 164 12 view .LVU151
 753 001c 322B     		cmp	r3, #50
 754 001e F9D9     		bls	.L64
 165:Core/Src/main.c ****             
 755              		.loc 1 165 13 is_stmt 1 view .LVU152
 165:Core/Src/main.c ****             
 756              		.loc 1 165 28 is_stmt 0 view .LVU153
 757 0020 0E4B     		ldr	r3, .L68+4
 758 0022 1C60     		str	r4, [r3]
 168:Core/Src/main.c ****                 target_mode = (ControlMode)((current_mode + 1) % 4);
 759              		.loc 1 168 13 is_stmt 1 view .LVU154
 168:Core/Src/main.c ****                 target_mode = (ControlMode)((current_mode + 1) % 4);
 760              		.loc 1 168 30 is_stmt 0 view .LVU155
 761 0024 0E4B     		ldr	r3, .L68+8
 762 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 763 0028 0E4A     		ldr	r2, .L68+12
 764 002a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 168:Core/Src/main.c ****                 target_mode = (ControlMode)((current_mode + 1) % 4);
 765              		.loc 1 168 16 view .LVU156
 766 002c 9342     		cmp	r3, r2
 767 002e F1D1     		bne	.L64
 169:Core/Src/main.c ****                 mode_transition_start = current_time;
 768              		.loc 1 169 17 is_stmt 1 view .LVU157
 169:Core/Src/main.c ****                 mode_transition_start = current_time;
 769              		.loc 1 169 59 is_stmt 0 view .LVU158
 770 0030 0133     		adds	r3, r3, #1
 169:Core/Src/main.c ****                 mode_transition_start = current_time;
 771              		.loc 1 169 64 view .LVU159
 772 0032 5A42     		rsbs	r2, r3, #0
 773 0034 03F00301 		and	r1, r3, #3
 774 0038 02F00303 		and	r3, r2, #3
 775 003c 58BF     		it	pl
 776 003e 5942     		rsbpl	r1, r3, #0
 169:Core/Src/main.c ****                 mode_transition_start = current_time;
 777              		.loc 1 169 31 view .LVU160
 778 0040 C9B2     		uxtb	r1, r1
 169:Core/Src/main.c ****                 mode_transition_start = current_time;
 779              		.loc 1 169 29 view .LVU161
 780 0042 084D     		ldr	r5, .L68+12
 781 0044 2970     		strb	r1, [r5]
 170:Core/Src/main.c ****                 printf("=== REQUESTING MODE CHANGE: %d ===\n", target_mode);
 782              		.loc 1 170 17 is_stmt 1 view .LVU162
 170:Core/Src/main.c ****                 printf("=== REQUESTING MODE CHANGE: %d ===\n", target_mode);
 783              		.loc 1 170 39 is_stmt 0 view .LVU163
 784 0046 084B     		ldr	r3, .L68+16
 785 0048 1C60     		str	r4, [r3]
 171:Core/Src/main.c ****                 
 786              		.loc 1 171 17 is_stmt 1 view .LVU164
 787 004a 0848     		ldr	r0, .L68+20
 788 004c FFF7FEFF 		bl	printf
 789              	.LVL70:
 174:Core/Src/main.c ****             }
 790              		.loc 1 174 17 view .LVU165
 791 0050 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 23


 792 0052 FFF7FEFF 		bl	Prepare_Mode_Transition
 793              	.LVL71:
 178:Core/Src/main.c **** 
 794              		.loc 1 178 1 is_stmt 0 view .LVU166
 795 0056 DDE7     		b	.L64
 796              	.L69:
 797              		.align	2
 798              	.L68:
 799 0058 00040240 		.word	1073873920
 800 005c 00000000 		.word	last_key_press
 801 0060 00000000 		.word	current_mode
 802 0064 00000000 		.word	target_mode
 803 0068 00000000 		.word	mode_transition_start
 804 006c 00000000 		.word	.LC5
 805              		.cfi_endproc
 806              	.LFE138:
 808              		.section	.rodata.Update_Lower_Motor_Control.str1.4,"aMS",%progbits,1
 809              		.align	2
 810              	.LC6:
 811 0000 3D3D3D20 		.ascii	"=== SWITCHING TO NEGATIVE TRANSITION ===\000"
 811      53574954 
 811      4348494E 
 811      4720544F 
 811      204E4547 
 812 0029 000000   		.align	2
 813              	.LC7:
 814 002c 3D3D3D20 		.ascii	"=== TRANSITION TO NEGATIVE COMPLETE ===\000"
 814      5452414E 
 814      53495449 
 814      4F4E2054 
 814      4F204E45 
 815              		.align	2
 816              	.LC8:
 817 0054 3D3D3D20 		.ascii	"=== SWITCHING TO POSITIVE TRANSITION ===\000"
 817      53574954 
 817      4348494E 
 817      4720544F 
 817      20504F53 
 818 007d 000000   		.align	2
 819              	.LC9:
 820 0080 3D3D3D20 		.ascii	"=== TRANSITION TO POSITIVE COMPLETE ===\000"
 820      5452414E 
 820      53495449 
 820      4F4E2054 
 820      4F20504F 
 821              		.align	2
 822              	.LC10:
 823 00a8 3D3D3D20 		.ascii	"=== RETURN TO INITIAL POSITION COMPLETE ===\000"
 823      52455455 
 823      524E2054 
 823      4F20494E 
 823      49544941 
 824              		.align	2
 825              	.LC11:
 826 00d4 5B4C6F77 		.ascii	"[Lower] Mode=%d, State=%d, Angle=%.1f\302\260, Spee"
 826      65725D20 
 826      4D6F6465 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 24


 826      3D25642C 
 826      20537461 
 827 0101 643D252E 		.ascii	"d=%.1f RPM\012\000"
 827      31662052 
 827      504D0A00 
 828 010d 000000   		.align	2
 829              	.LC12:
 830 0110 5B4C6F77 		.ascii	"[Lower] RETURNING: Current=%.1f\302\260, Target=%.1"
 830      65725D20 
 830      52455455 
 830      524E494E 
 830      473A2043 
 831 013d 66C2B02C 		.ascii	"f\302\260, Error=%.1f\302\260\012\000"
 831      20457272 
 831      6F723D25 
 831      2E3166C2 
 831      B00A00
 832              		.section	.text.Update_Lower_Motor_Control,"ax",%progbits
 833              		.align	1
 834              		.global	Update_Lower_Motor_Control
 835              		.syntax unified
 836              		.thumb
 837              		.thumb_func
 839              	Update_Lower_Motor_Control:
 840              	.LFB144:
 329:Core/Src/main.c **** /* USER CODE END 0 */
 330:Core/Src/main.c **** 
 331:Core/Src/main.c **** /**
 332:Core/Src/main.c ****   * @brief æ›´æ–°ä¸‹ç”µæœºæŽ§åˆ¶
 333:Core/Src/main.c ****   */
 334:Core/Src/main.c **** void Update_Lower_Motor_Control(void) {
 841              		.loc 1 334 39 is_stmt 1 view -0
 842              		.cfi_startproc
 843              		@ args = 0, pretend = 0, frame = 0
 844              		@ frame_needed = 0, uses_anonymous_args = 0
 845 0000 30B5     		push	{r4, r5, lr}
 846              	.LCFI12:
 847              		.cfi_def_cfa_offset 12
 848              		.cfi_offset 4, -12
 849              		.cfi_offset 5, -8
 850              		.cfi_offset 14, -4
 851 0002 2DED048B 		vpush.64	{d8, d9}
 852              	.LCFI13:
 853              		.cfi_def_cfa_offset 28
 854              		.cfi_offset 80, -28
 855              		.cfi_offset 81, -24
 856              		.cfi_offset 82, -20
 857              		.cfi_offset 83, -16
 858 0006 85B0     		sub	sp, sp, #20
 859              	.LCFI14:
 860              		.cfi_def_cfa_offset 48
 335:Core/Src/main.c ****     uint32_t current_time = HAL_GetTick();
 861              		.loc 1 335 5 view .LVU168
 862              		.loc 1 335 29 is_stmt 0 view .LVU169
 863 0008 FFF7FEFF 		bl	HAL_GetTick
 864              	.LVL72:
 865 000c 0446     		mov	r4, r0
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 25


 866              	.LVL73:
 336:Core/Src/main.c ****     GM6020_TypeDef *lower_motor = &gm6020_motors[LOWER_MOTOR_ID-1];
 867              		.loc 1 336 5 is_stmt 1 view .LVU170
 337:Core/Src/main.c ****     float target_speed = 0.0f;
 868              		.loc 1 337 5 view .LVU171
 338:Core/Src/main.c ****     
 339:Core/Src/main.c ****     accumulated_angle = lower_motor->total_angle;
 869              		.loc 1 339 5 view .LVU172
 870              		.loc 1 339 36 is_stmt 0 view .LVU173
 871 000e 9C4B     		ldr	r3, .L114
 872 0010 D3ED800A 		vldr.32	s1, [r3, #512]
 873              		.loc 1 339 23 view .LVU174
 874 0014 9B4B     		ldr	r3, .L114+4
 875 0016 C3ED000A 		vstr.32	s1, [r3]
 340:Core/Src/main.c ****     
 341:Core/Src/main.c ****     // æ ¹æ®çŠ¶æ€æœºæ›´æ–°æŽ§åˆ¶
 342:Core/Src/main.c ****     if (lower_motor_state == STATE_NORMAL) {
 876              		.loc 1 342 5 is_stmt 1 view .LVU175
 877              		.loc 1 342 27 is_stmt 0 view .LVU176
 878 001a 9B4B     		ldr	r3, .L114+8
 879 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 880              		.loc 1 342 8 view .LVU177
 881 001e 002B     		cmp	r3, #0
 882 0020 7CD1     		bne	.L71
 343:Core/Src/main.c ****         switch (lower_state) {
 883              		.loc 1 343 9 is_stmt 1 view .LVU178
 884 0022 9A4B     		ldr	r3, .L114+12
 885 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 886 0026 032B     		cmp	r3, #3
 887 0028 00F2FF80 		bhi	.L94
 888 002c DFE803F0 		tbb	[pc, r3]
 889              	.L74:
 890 0030 02       		.byte	(.L77-.L74)/2
 891 0031 17       		.byte	(.L76-.L74)/2
 892 0032 3C       		.byte	(.L75-.L74)/2
 893 0033 51       		.byte	(.L73-.L74)/2
 894              		.p2align 1
 895              	.L77:
 344:Core/Src/main.c ****             case ACCUM_POS:
 345:Core/Src/main.c ****                 target_speed = LOWER_MOTOR_SPEED;
 896              		.loc 1 345 17 view .LVU179
 897              	.LVL74:
 346:Core/Src/main.c ****                 if (accumulated_angle >= ANGLE_ACCUMULATION_THRESHOLD) {
 898              		.loc 1 346 17 view .LVU180
 899              		.loc 1 346 20 is_stmt 0 view .LVU181
 900 0034 DFED967A 		vldr.32	s15, .L114+16
 901 0038 F4EEE70A 		vcmpe.f32	s1, s15
 902 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 903 0040 02DA     		bge	.L110
 345:Core/Src/main.c ****                 if (accumulated_angle >= ANGLE_ACCUMULATION_THRESHOLD) {
 904              		.loc 1 345 30 view .LVU182
 905 0042 9FED948A 		vldr.32	s16, .L114+20
 906 0046 6DE0     		b	.L72
 907              	.L110:
 347:Core/Src/main.c ****                     lower_state = TRANS_NEG;
 908              		.loc 1 347 21 is_stmt 1 view .LVU183
 909              		.loc 1 347 33 is_stmt 0 view .LVU184
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 26


 910 0048 904B     		ldr	r3, .L114+12
 911 004a 0122     		movs	r2, #1
 912 004c 1A70     		strb	r2, [r3]
 348:Core/Src/main.c ****                     transition_start_time = current_time;
 913              		.loc 1 348 21 is_stmt 1 view .LVU185
 914              		.loc 1 348 43 is_stmt 0 view .LVU186
 915 004e 924B     		ldr	r3, .L114+24
 916 0050 1860     		str	r0, [r3]
 349:Core/Src/main.c ****                     printf("=== SWITCHING TO NEGATIVE TRANSITION ===\n");
 917              		.loc 1 349 21 is_stmt 1 view .LVU187
 918 0052 9248     		ldr	r0, .L114+28
 919              	.LVL75:
 920              		.loc 1 349 21 is_stmt 0 view .LVU188
 921 0054 FFF7FEFF 		bl	puts
 922              	.LVL76:
 345:Core/Src/main.c ****                 if (accumulated_angle >= ANGLE_ACCUMULATION_THRESHOLD) {
 923              		.loc 1 345 30 view .LVU189
 924 0058 9FED8E8A 		vldr.32	s16, .L114+20
 925 005c 62E0     		b	.L72
 926              	.LVL77:
 927              	.L76:
 350:Core/Src/main.c ****                 }
 351:Core/Src/main.c ****                 break;
 352:Core/Src/main.c ****                 
 353:Core/Src/main.c ****             case TRANS_NEG:
 354:Core/Src/main.c ****                 if (current_time - transition_start_time < SMOOTH_TRANSITION_TIME) {
 928              		.loc 1 354 17 is_stmt 1 view .LVU190
 929              		.loc 1 354 34 is_stmt 0 view .LVU191
 930 005e 8E4B     		ldr	r3, .L114+24
 931 0060 1B68     		ldr	r3, [r3]
 932 0062 C31A     		subs	r3, r0, r3
 933              		.loc 1 354 20 view .LVU192
 934 0064 B3F5FA7F 		cmp	r3, #500
 935 0068 12D2     		bcs	.L79
 936              	.LBB8:
 355:Core/Src/main.c ****                     float ratio = (float)(current_time - transition_start_time) / SMOOTH_TRANSITION
 937              		.loc 1 355 21 is_stmt 1 view .LVU193
 938              		.loc 1 355 35 is_stmt 0 view .LVU194
 939 006a 07EE903A 		vmov	s15, r3	@ int
 940 006e F8EE677A 		vcvt.f32.u32	s15, s15
 941              		.loc 1 355 27 view .LVU195
 942 0072 DFED8B6A 		vldr.32	s13, .L114+32
 943 0076 87EEA67A 		vdiv.f32	s14, s15, s13
 944              	.LVL78:
 356:Core/Src/main.c ****                     target_speed = LOWER_MOTOR_SPEED * (1.0f - 2.0f * ratio);
 945              		.loc 1 356 21 is_stmt 1 view .LVU196
 946              		.loc 1 356 69 is_stmt 0 view .LVU197
 947 007a 37EE077A 		vadd.f32	s14, s14, s14
 948              	.LVL79:
 949              		.loc 1 356 62 view .LVU198
 950 007e B7EE008A 		vmov.f32	s16, #1.0e+0
 951 0082 38EE478A 		vsub.f32	s16, s16, s14
 952              		.loc 1 356 34 view .LVU199
 953 0086 DFED837A 		vldr.32	s15, .L114+20
 954              	.LVL80:
 955              		.loc 1 356 34 view .LVU200
 956 008a 28EE278A 		vmul.f32	s16, s16, s15
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 27


 957              	.LVL81:
 958              		.loc 1 356 34 view .LVU201
 959              	.LBE8:
 960 008e 49E0     		b	.L72
 961              	.LVL82:
 962              	.L79:
 357:Core/Src/main.c ****                 } else {
 358:Core/Src/main.c ****                     lower_state = ACCUM_NEG;
 963              		.loc 1 358 21 is_stmt 1 view .LVU202
 964              		.loc 1 358 33 is_stmt 0 view .LVU203
 965 0090 7E4B     		ldr	r3, .L114+12
 966 0092 0222     		movs	r2, #2
 967 0094 1A70     		strb	r2, [r3]
 359:Core/Src/main.c ****                     accumulated_angle = 0.0f;
 968              		.loc 1 359 21 is_stmt 1 view .LVU204
 969              		.loc 1 359 39 is_stmt 0 view .LVU205
 970 0096 9FED838A 		vldr.32	s16, .L114+36
 971 009a 7A4B     		ldr	r3, .L114+4
 972 009c 83ED008A 		vstr.32	s16, [r3]
 360:Core/Src/main.c ****                     printf("=== TRANSITION TO NEGATIVE COMPLETE ===\n");
 973              		.loc 1 360 21 is_stmt 1 view .LVU206
 974 00a0 8148     		ldr	r0, .L114+40
 975              	.LVL83:
 976              		.loc 1 360 21 is_stmt 0 view .LVU207
 977 00a2 FFF7FEFF 		bl	puts
 978              	.LVL84:
 979 00a6 3DE0     		b	.L72
 980              	.LVL85:
 981              	.L75:
 361:Core/Src/main.c ****                 }
 362:Core/Src/main.c ****                 break;
 363:Core/Src/main.c ****                 
 364:Core/Src/main.c ****             case ACCUM_NEG:
 365:Core/Src/main.c ****                 target_speed = -LOWER_MOTOR_SPEED;
 982              		.loc 1 365 17 is_stmt 1 view .LVU208
 366:Core/Src/main.c ****                 if (accumulated_angle <= -ANGLE_ACCUMULATION_THRESHOLD) {
 983              		.loc 1 366 17 view .LVU209
 984              		.loc 1 366 20 is_stmt 0 view .LVU210
 985 00a8 DFED807A 		vldr.32	s15, .L114+44
 986 00ac F4EEE70A 		vcmpe.f32	s1, s15
 987 00b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 988 00b4 02D9     		bls	.L111
 365:Core/Src/main.c ****                 if (accumulated_angle <= -ANGLE_ACCUMULATION_THRESHOLD) {
 989              		.loc 1 365 30 view .LVU211
 990 00b6 9FED7E8A 		vldr.32	s16, .L114+48
 991 00ba 33E0     		b	.L72
 992              	.L111:
 367:Core/Src/main.c ****                     lower_state = TRANS_POS;
 993              		.loc 1 367 21 is_stmt 1 view .LVU212
 994              		.loc 1 367 33 is_stmt 0 view .LVU213
 995 00bc 734B     		ldr	r3, .L114+12
 996 00be 0322     		movs	r2, #3
 997 00c0 1A70     		strb	r2, [r3]
 368:Core/Src/main.c ****                     transition_start_time = current_time;
 998              		.loc 1 368 21 is_stmt 1 view .LVU214
 999              		.loc 1 368 43 is_stmt 0 view .LVU215
 1000 00c2 754B     		ldr	r3, .L114+24
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 28


 1001 00c4 1860     		str	r0, [r3]
 369:Core/Src/main.c ****                     printf("=== SWITCHING TO POSITIVE TRANSITION ===\n");
 1002              		.loc 1 369 21 is_stmt 1 view .LVU216
 1003 00c6 7B48     		ldr	r0, .L114+52
 1004              	.LVL86:
 1005              		.loc 1 369 21 is_stmt 0 view .LVU217
 1006 00c8 FFF7FEFF 		bl	puts
 1007              	.LVL87:
 365:Core/Src/main.c ****                 if (accumulated_angle <= -ANGLE_ACCUMULATION_THRESHOLD) {
 1008              		.loc 1 365 30 view .LVU218
 1009 00cc 9FED788A 		vldr.32	s16, .L114+48
 1010 00d0 28E0     		b	.L72
 1011              	.LVL88:
 1012              	.L73:
 370:Core/Src/main.c ****                 }
 371:Core/Src/main.c ****                 break;
 372:Core/Src/main.c ****                 
 373:Core/Src/main.c ****             case TRANS_POS:
 374:Core/Src/main.c ****                 if (current_time - transition_start_time < SMOOTH_TRANSITION_TIME) {
 1013              		.loc 1 374 17 is_stmt 1 view .LVU219
 1014              		.loc 1 374 34 is_stmt 0 view .LVU220
 1015 00d2 714B     		ldr	r3, .L114+24
 1016 00d4 1B68     		ldr	r3, [r3]
 1017 00d6 C31A     		subs	r3, r0, r3
 1018              		.loc 1 374 20 view .LVU221
 1019 00d8 B3F5FA7F 		cmp	r3, #500
 1020 00dc 12D2     		bcs	.L81
 1021              	.LBB9:
 375:Core/Src/main.c ****                     float ratio = (float)(current_time - transition_start_time) / SMOOTH_TRANSITION
 1022              		.loc 1 375 21 is_stmt 1 view .LVU222
 1023              		.loc 1 375 35 is_stmt 0 view .LVU223
 1024 00de 07EE903A 		vmov	s15, r3	@ int
 1025 00e2 F8EE677A 		vcvt.f32.u32	s15, s15
 1026              		.loc 1 375 27 view .LVU224
 1027 00e6 DFED6E6A 		vldr.32	s13, .L114+32
 1028 00ea 87EEA67A 		vdiv.f32	s14, s15, s13
 1029              	.LVL89:
 376:Core/Src/main.c ****                     target_speed = -LOWER_MOTOR_SPEED * (1.0f - 2.0f * ratio);
 1030              		.loc 1 376 21 is_stmt 1 view .LVU225
 1031              		.loc 1 376 70 is_stmt 0 view .LVU226
 1032 00ee 37EE077A 		vadd.f32	s14, s14, s14
 1033              	.LVL90:
 1034              		.loc 1 376 63 view .LVU227
 1035 00f2 B7EE008A 		vmov.f32	s16, #1.0e+0
 1036 00f6 38EE478A 		vsub.f32	s16, s16, s14
 1037              		.loc 1 376 34 view .LVU228
 1038 00fa DFED6D7A 		vldr.32	s15, .L114+48
 1039              	.LVL91:
 1040              		.loc 1 376 34 view .LVU229
 1041 00fe 28EE278A 		vmul.f32	s16, s16, s15
 1042              	.LVL92:
 1043              		.loc 1 376 34 view .LVU230
 1044              	.LBE9:
 1045 0102 0FE0     		b	.L72
 1046              	.LVL93:
 1047              	.L81:
 377:Core/Src/main.c ****                 } else {
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 29


 378:Core/Src/main.c ****                     lower_state = ACCUM_POS;
 1048              		.loc 1 378 21 is_stmt 1 view .LVU231
 1049              		.loc 1 378 33 is_stmt 0 view .LVU232
 1050 0104 614B     		ldr	r3, .L114+12
 1051 0106 0022     		movs	r2, #0
 1052 0108 1A70     		strb	r2, [r3]
 379:Core/Src/main.c ****                     accumulated_angle = 0.0f;
 1053              		.loc 1 379 21 is_stmt 1 view .LVU233
 1054              		.loc 1 379 39 is_stmt 0 view .LVU234
 1055 010a 9FED668A 		vldr.32	s16, .L114+36
 1056 010e 5D4B     		ldr	r3, .L114+4
 1057 0110 83ED008A 		vstr.32	s16, [r3]
 380:Core/Src/main.c ****                     printf("=== TRANSITION TO POSITIVE COMPLETE ===\n");
 1058              		.loc 1 380 21 is_stmt 1 view .LVU235
 1059 0114 6848     		ldr	r0, .L114+56
 1060              	.LVL94:
 1061              		.loc 1 380 21 is_stmt 0 view .LVU236
 1062 0116 FFF7FEFF 		bl	puts
 1063              	.LVL95:
 1064 011a 03E0     		b	.L72
 1065              	.LVL96:
 1066              	.L71:
 381:Core/Src/main.c ****                 }
 382:Core/Src/main.c ****                 break;
 383:Core/Src/main.c ****         }
 384:Core/Src/main.c ****     } 
 385:Core/Src/main.c ****     // è¿”å›žåˆå§‹ä½ç½®æ¨¡å¼
 386:Core/Src/main.c ****     else if (lower_motor_state == STATE_RETURNING) {
 1067              		.loc 1 386 10 is_stmt 1 view .LVU237
 1068              		.loc 1 386 13 is_stmt 0 view .LVU238
 1069 011c 012B     		cmp	r3, #1
 1070 011e 30D0     		beq	.L112
 337:Core/Src/main.c ****     
 1071              		.loc 1 337 11 view .LVU239
 1072 0120 9FED608A 		vldr.32	s16, .L114+36
 1073              	.LVL97:
 1074              	.L72:
 387:Core/Src/main.c ****         // è®¡ç®—è§’åº¦è¯¯å·®
 388:Core/Src/main.c ****         float angle_error = lower_motor_target_angle - lower_motor->total_angle;
 389:Core/Src/main.c ****         float abs_error = fabsf(angle_error);
 390:Core/Src/main.c ****         
 391:Core/Src/main.c ****         const float DECELERATION_ZONE = 30.0f; // 30Â°å‡é€ŸåŒº
 392:Core/Src/main.c ****         const float STOP_THRESHOLD = 2.0f;    // 2Â°åœæ­¢é˜ˆå€¼
 393:Core/Src/main.c ****         // å¦‚æžœæŽ¥è¿‘ç›®æ ‡ä½ç½®ï¼Œåœæ­¢è¿”å›ž
 394:Core/Src/main.c ****         if (abs_error < STOP_THRESHOLD) {
 395:Core/Src/main.c ****             // âœ… åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œå¹³æ»‘åœæ­¢
 396:Core/Src/main.c ****             lower_motor_state = STATE_NORMAL;
 397:Core/Src/main.c ****             lower_state = ACCUM_POS;
 398:Core/Src/main.c ****             accumulated_angle = 0.0f;
 399:Core/Src/main.c ****             target_speed = 0.0f;
 400:Core/Src/main.c ****             printf("=== RETURN TO INITIAL POSITION COMPLETE ===\n");
 401:Core/Src/main.c ****             
 402:Core/Src/main.c ****             // æ ¹æ®å½“å‰æ¨¡å¼è®¾ç½®ä¸‹ç”µæœºçŠ¶æ€
 403:Core/Src/main.c ****             if (current_mode == MODE_UPPER_MOVING || current_mode == MODE_BOTH_STOPPED) {
 404:Core/Src/main.c ****                 // ç²¾ç¡®ä½ç½®ä¿æŒ
 405:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_POS_CASCADE, lower_motor_target
 406:Core/Src/main.c ****             } else {
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 30


 407:Core/Src/main.c ****                 // æ¢å¤æ­£å¸¸è¿è¡Œ
 408:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 409:Core/Src/main.c ****             }
 410:Core/Src/main.c ****         } 
 411:Core/Src/main.c ****         // å¦åˆ™ï¼Œå‘ç›®æ ‡ä½ç½®ç§»åŠ¨
 412:Core/Src/main.c ****         else {
 413:Core/Src/main.c ****             // âœ… ä½¿ç”¨PIDæŽ§åˆ¶ä»£æ›¿å›ºå®šé€Ÿåº¦
 414:Core/Src/main.c ****             if (abs_error > DECELERATION_ZONE) {
 415:Core/Src/main.c ****                 // è¿œè·ç¦»ï¼šæœ€å¤§é€Ÿåº¦
 416:Core/Src/main.c ****                 target_speed = (angle_error > 0) ? POSITION_RETURN_SPEED : -POSITION_RETURN_SPEED;
 417:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 418:Core/Src/main.c ****             } else {
 419:Core/Src/main.c ****                 // âœ… å‡é€ŸåŒºï¼šä½¿ç”¨ä½ç½®æŽ§åˆ¶
 420:Core/Src/main.c ****                 float speed_target = PID_Calc(&lower_motor->angle_pid, 
 421:Core/Src/main.c ****                                              lower_motor_target_angle, 
 422:Core/Src/main.c ****                                              lower_motor->total_angle);
 423:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, speed_target);
 424:Core/Src/main.c ****             }
 425:Core/Src/main.c ****         }
 426:Core/Src/main.c ****     }
 427:Core/Src/main.c ****     
 428:Core/Src/main.c ****     // å§‹ç»ˆæ˜¾ç¤ºå½“å‰çŠ¶æ€
 429:Core/Src/main.c ****     static uint32_t last_debug = 0;
 1075              		.loc 1 429 5 is_stmt 1 view .LVU240
 430:Core/Src/main.c ****     if (current_time - last_debug > 200) {
 1076              		.loc 1 430 5 view .LVU241
 1077              		.loc 1 430 22 is_stmt 0 view .LVU242
 1078 0124 654B     		ldr	r3, .L114+60
 1079 0126 1B68     		ldr	r3, [r3]
 1080 0128 E31A     		subs	r3, r4, r3
 1081              		.loc 1 430 8 view .LVU243
 1082 012a C82B     		cmp	r3, #200
 1083 012c 1AD9     		bls	.L90
 431:Core/Src/main.c ****         last_debug = current_time;
 1084              		.loc 1 431 9 is_stmt 1 view .LVU244
 1085              		.loc 1 431 20 is_stmt 0 view .LVU245
 1086 012e 634B     		ldr	r3, .L114+60
 1087 0130 1C60     		str	r4, [r3]
 432:Core/Src/main.c ****         if (lower_motor_state == STATE_NORMAL) {
 1088              		.loc 1 432 9 is_stmt 1 view .LVU246
 1089              		.loc 1 432 31 is_stmt 0 view .LVU247
 1090 0132 554B     		ldr	r3, .L114+8
 1091 0134 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1092              		.loc 1 432 12 view .LVU248
 1093 0136 002B     		cmp	r3, #0
 1094 0138 7AD1     		bne	.L91
 433:Core/Src/main.c ****             printf("[Lower] Mode=%d, State=%d, Angle=%.1fÂ°, Speed=%.1f RPM\n",
 1095              		.loc 1 433 13 is_stmt 1 view .LVU249
 1096 013a 544B     		ldr	r3, .L114+12
 1097 013c 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 1098 013e 604B     		ldr	r3, .L114+64
 1099 0140 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1100              	.LVL98:
 1101              		.loc 1 433 13 is_stmt 0 view .LVU250
 1102 0142 18EE100A 		vmov	r0, s16
 1103 0146 FFF7FEFF 		bl	__aeabi_f2d
 1104              	.LVL99:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 31


 1105              		.loc 1 433 13 view .LVU251
 1106 014a CDE90201 		strd	r0, [sp, #8]
 1107 014e 4D4B     		ldr	r3, .L114+4
 1108 0150 1868     		ldr	r0, [r3]	@ float
 1109 0152 FFF7FEFF 		bl	__aeabi_f2d
 1110              	.LVL100:
 1111 0156 CDE90001 		strd	r0, [sp]
 1112 015a 2A46     		mov	r2, r5
 1113 015c 2146     		mov	r1, r4
 1114 015e 5948     		ldr	r0, .L114+68
 1115 0160 FFF7FEFF 		bl	printf
 1116              	.LVL101:
 1117              	.L90:
 434:Core/Src/main.c ****                    current_mode, lower_state, accumulated_angle, target_speed);
 435:Core/Src/main.c ****         } else {
 436:Core/Src/main.c ****             printf("[Lower] RETURNING: Current=%.1fÂ°, Target=%.1fÂ°, Error=%.1fÂ°\n",
 437:Core/Src/main.c ****                    lower_motor->total_angle, lower_motor_target_angle, 
 438:Core/Src/main.c ****                    lower_motor_target_angle - lower_motor->total_angle);
 439:Core/Src/main.c ****         }
 440:Core/Src/main.c ****     }
 441:Core/Src/main.c ****     
 442:Core/Src/main.c ****     // è®¾ç½®ä¸‹ç”µæœºç›®æ ‡
 443:Core/Src/main.c ****     if (lower_motor_state == STATE_NORMAL) {
 1118              		.loc 1 443 5 is_stmt 1 view .LVU252
 1119              		.loc 1 443 27 is_stmt 0 view .LVU253
 1120 0164 484B     		ldr	r3, .L114+8
 1121 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1122              		.loc 1 443 8 view .LVU254
 1123 0168 002B     		cmp	r3, #0
 1124 016a 40F08180 		bne	.L92
 444:Core/Src/main.c ****         Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 1125              		.loc 1 444 9 is_stmt 1 view .LVU255
 1126 016e B0EE480A 		vmov.f32	s0, s16
 1127 0172 0121     		movs	r1, #1
 1128 0174 0320     		movs	r0, #3
 1129 0176 FFF7FEFF 		bl	Motor_Set_Target
 1130              	.LVL102:
 1131              	.L70:
 445:Core/Src/main.c ****     } else {
 446:Core/Src/main.c ****         // ä½ç½®æ¨¡å¼éœ€è¦ä¸²çº§æŽ§åˆ¶
 447:Core/Src/main.c ****         Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_POS_CASCADE, lower_motor_target_angle);
 448:Core/Src/main.c ****     }
 449:Core/Src/main.c **** }
 1132              		.loc 1 449 1 is_stmt 0 view .LVU256
 1133 017a 05B0     		add	sp, sp, #20
 1134              	.LCFI15:
 1135              		.cfi_remember_state
 1136              		.cfi_def_cfa_offset 28
 1137              		@ sp needed
 1138 017c BDEC048B 		vldm	sp!, {d8-d9}
 1139              	.LCFI16:
 1140              		.cfi_restore 82
 1141              		.cfi_restore 83
 1142              		.cfi_restore 80
 1143              		.cfi_restore 81
 1144              		.cfi_def_cfa_offset 12
 1145              	.LVL103:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 32


 1146              		.loc 1 449 1 view .LVU257
 1147 0180 30BD     		pop	{r4, r5, pc}
 1148              	.LVL104:
 1149              	.L112:
 1150              	.LCFI17:
 1151              		.cfi_restore_state
 1152              	.LBB10:
 388:Core/Src/main.c ****         float abs_error = fabsf(angle_error);
 1153              		.loc 1 388 9 is_stmt 1 view .LVU258
 388:Core/Src/main.c ****         float abs_error = fabsf(angle_error);
 1154              		.loc 1 388 54 is_stmt 0 view .LVU259
 1155 0182 514B     		ldr	r3, .L114+72
 1156 0184 93ED000A 		vldr.32	s0, [r3]
 388:Core/Src/main.c ****         float abs_error = fabsf(angle_error);
 1157              		.loc 1 388 15 view .LVU260
 1158 0188 30EE607A 		vsub.f32	s14, s0, s1
 1159              	.LVL105:
 389:Core/Src/main.c ****         
 1160              		.loc 1 389 9 is_stmt 1 view .LVU261
 389:Core/Src/main.c ****         
 1161              		.loc 1 389 15 is_stmt 0 view .LVU262
 1162 018c F0EEC77A 		vabs.f32	s15, s14
 1163              	.LVL106:
 391:Core/Src/main.c ****         const float STOP_THRESHOLD = 2.0f;    // 2Â°åœæ­¢é˜ˆå€¼
 1164              		.loc 1 391 9 is_stmt 1 view .LVU263
 392:Core/Src/main.c ****         // å¦‚æžœæŽ¥è¿‘ç›®æ ‡ä½ç½®ï¼Œåœæ­¢è¿”å›ž
 1165              		.loc 1 392 9 view .LVU264
 394:Core/Src/main.c ****             // âœ… åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œå¹³æ»‘åœæ­¢
 1166              		.loc 1 394 9 view .LVU265
 394:Core/Src/main.c ****             // âœ… åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œå¹³æ»‘åœæ­¢
 1167              		.loc 1 394 12 is_stmt 0 view .LVU266
 1168 0190 F0EE006A 		vmov.f32	s13, #2.0e+0
 1169 0194 F4EEE67A 		vcmpe.f32	s15, s13
 1170 0198 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1171 019c 14D4     		bmi	.L113
 414:Core/Src/main.c ****                 // è¿œè·ç¦»ï¼šæœ€å¤§é€Ÿåº¦
 1172              		.loc 1 414 13 is_stmt 1 view .LVU267
 414:Core/Src/main.c ****                 // è¿œè·ç¦»ï¼šæœ€å¤§é€Ÿåº¦
 1173              		.loc 1 414 16 is_stmt 0 view .LVU268
 1174 019e F3EE0E6A 		vmov.f32	s13, #3.0e+1
 1175 01a2 F4EEE67A 		vcmpe.f32	s15, s13
 1176 01a6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1177 01aa 34DD     		ble	.L107
 416:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 1178              		.loc 1 416 17 is_stmt 1 view .LVU269
 416:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 1179              		.loc 1 416 74 is_stmt 0 view .LVU270
 1180 01ac B5EEC07A 		vcmpe.f32	s14, #0
 1181 01b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1182 01b4 2CDD     		ble	.L108
 416:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 1183              		.loc 1 416 74 discriminator 1 view .LVU271
 1184 01b6 9FED458A 		vldr.32	s16, .L114+76
 1185              	.L88:
 1186              	.LVL107:
 417:Core/Src/main.c ****             } else {
 1187              		.loc 1 417 17 is_stmt 1 view .LVU272
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 33


 1188 01ba B0EE480A 		vmov.f32	s0, s16
 1189 01be 0121     		movs	r1, #1
 1190 01c0 0320     		movs	r0, #3
 1191              	.LVL108:
 417:Core/Src/main.c ****             } else {
 1192              		.loc 1 417 17 is_stmt 0 view .LVU273
 1193 01c2 FFF7FEFF 		bl	Motor_Set_Target
 1194              	.LVL109:
 417:Core/Src/main.c ****             } else {
 1195              		.loc 1 417 17 view .LVU274
 1196 01c6 ADE7     		b	.L72
 1197              	.LVL110:
 1198              	.L113:
 396:Core/Src/main.c ****             lower_state = ACCUM_POS;
 1199              		.loc 1 396 13 is_stmt 1 view .LVU275
 396:Core/Src/main.c ****             lower_state = ACCUM_POS;
 1200              		.loc 1 396 31 is_stmt 0 view .LVU276
 1201 01c8 0023     		movs	r3, #0
 1202 01ca 2F4A     		ldr	r2, .L114+8
 1203 01cc 1370     		strb	r3, [r2]
 397:Core/Src/main.c ****             accumulated_angle = 0.0f;
 1204              		.loc 1 397 13 is_stmt 1 view .LVU277
 397:Core/Src/main.c ****             accumulated_angle = 0.0f;
 1205              		.loc 1 397 25 is_stmt 0 view .LVU278
 1206 01ce 2F4A     		ldr	r2, .L114+12
 1207 01d0 1370     		strb	r3, [r2]
 398:Core/Src/main.c ****             target_speed = 0.0f;
 1208              		.loc 1 398 13 is_stmt 1 view .LVU279
 398:Core/Src/main.c ****             target_speed = 0.0f;
 1209              		.loc 1 398 31 is_stmt 0 view .LVU280
 1210 01d2 2C4B     		ldr	r3, .L114+4
 1211 01d4 0022     		movs	r2, #0
 1212 01d6 1A60     		str	r2, [r3]	@ float
 399:Core/Src/main.c ****             printf("=== RETURN TO INITIAL POSITION COMPLETE ===\n");
 1213              		.loc 1 399 13 is_stmt 1 view .LVU281
 400:Core/Src/main.c ****             
 1214              		.loc 1 400 13 view .LVU282
 1215 01d8 3D48     		ldr	r0, .L114+80
 1216              	.LVL111:
 400:Core/Src/main.c ****             
 1217              		.loc 1 400 13 is_stmt 0 view .LVU283
 1218 01da FFF7FEFF 		bl	puts
 1219              	.LVL112:
 403:Core/Src/main.c ****                 // ç²¾ç¡®ä½ç½®ä¿æŒ
 1220              		.loc 1 403 13 is_stmt 1 view .LVU284
 403:Core/Src/main.c ****                 // ç²¾ç¡®ä½ç½®ä¿æŒ
 1221              		.loc 1 403 30 is_stmt 0 view .LVU285
 1222 01de 384B     		ldr	r3, .L114+64
 1223 01e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 403:Core/Src/main.c ****                 // ç²¾ç¡®ä½ç½®ä¿æŒ
 1224              		.loc 1 403 16 view .LVU286
 1225 01e2 012B     		cmp	r3, #1
 1226 01e4 01D0     		beq	.L84
 403:Core/Src/main.c ****                 // ç²¾ç¡®ä½ç½®ä¿æŒ
 1227              		.loc 1 403 51 discriminator 1 view .LVU287
 1228 01e6 032B     		cmp	r3, #3
 1229 01e8 09D1     		bne	.L85
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 34


 1230              	.L84:
 405:Core/Src/main.c ****             } else {
 1231              		.loc 1 405 17 is_stmt 1 view .LVU288
 1232 01ea 374B     		ldr	r3, .L114+72
 1233 01ec 93ED000A 		vldr.32	s0, [r3]
 1234 01f0 0221     		movs	r1, #2
 1235 01f2 0320     		movs	r0, #3
 1236 01f4 FFF7FEFF 		bl	Motor_Set_Target
 1237              	.LVL113:
 399:Core/Src/main.c ****             printf("=== RETURN TO INITIAL POSITION COMPLETE ===\n");
 1238              		.loc 1 399 26 is_stmt 0 view .LVU289
 1239 01f8 9FED2A8A 		vldr.32	s16, .L114+36
 405:Core/Src/main.c ****             } else {
 1240              		.loc 1 405 17 view .LVU290
 1241 01fc 92E7     		b	.L72
 1242              	.L85:
 408:Core/Src/main.c ****             }
 1243              		.loc 1 408 17 is_stmt 1 view .LVU291
 1244 01fe 9FED250A 		vldr.32	s0, .L114+20
 1245 0202 0121     		movs	r1, #1
 1246 0204 0320     		movs	r0, #3
 1247 0206 FFF7FEFF 		bl	Motor_Set_Target
 1248              	.LVL114:
 399:Core/Src/main.c ****             printf("=== RETURN TO INITIAL POSITION COMPLETE ===\n");
 1249              		.loc 1 399 26 is_stmt 0 view .LVU292
 1250 020a 9FED268A 		vldr.32	s16, .L114+36
 1251 020e 89E7     		b	.L72
 1252              	.LVL115:
 1253              	.L108:
 416:Core/Src/main.c ****                 Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, target_speed);
 1254              		.loc 1 416 74 discriminator 2 view .LVU293
 1255 0210 9FED308A 		vldr.32	s16, .L114+84
 1256 0214 D1E7     		b	.L88
 1257              	.L107:
 1258              	.LBB11:
 420:Core/Src/main.c ****                                              lower_motor_target_angle, 
 1259              		.loc 1 420 17 is_stmt 1 view .LVU294
 420:Core/Src/main.c ****                                              lower_motor_target_angle, 
 1260              		.loc 1 420 38 is_stmt 0 view .LVU295
 1261 0216 3048     		ldr	r0, .L114+88
 1262              	.LVL116:
 420:Core/Src/main.c ****                                              lower_motor_target_angle, 
 1263              		.loc 1 420 38 view .LVU296
 1264 0218 FFF7FEFF 		bl	PID_Calc
 1265              	.LVL117:
 423:Core/Src/main.c ****             }
 1266              		.loc 1 423 17 is_stmt 1 view .LVU297
 1267 021c 0121     		movs	r1, #1
 1268 021e 0320     		movs	r0, #3
 1269 0220 FFF7FEFF 		bl	Motor_Set_Target
 1270              	.LVL118:
 423:Core/Src/main.c ****             }
 1271              		.loc 1 423 17 is_stmt 0 view .LVU298
 1272              	.LBE11:
 1273              	.LBE10:
 337:Core/Src/main.c ****     
 1274              		.loc 1 337 11 view .LVU299
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 35


 1275 0224 9FED1F8A 		vldr.32	s16, .L114+36
 1276 0228 7CE7     		b	.L72
 1277              	.LVL119:
 1278              	.L94:
 343:Core/Src/main.c ****             case ACCUM_POS:
 1279              		.loc 1 343 9 view .LVU300
 1280 022a 9FED1E8A 		vldr.32	s16, .L114+36
 1281 022e 79E7     		b	.L72
 1282              	.LVL120:
 1283              	.L91:
 436:Core/Src/main.c ****                    lower_motor->total_angle, lower_motor_target_angle, 
 1284              		.loc 1 436 13 is_stmt 1 view .LVU301
 437:Core/Src/main.c ****                    lower_motor_target_angle - lower_motor->total_angle);
 1285              		.loc 1 437 31 is_stmt 0 view .LVU302
 1286 0230 134B     		ldr	r3, .L114
 1287 0232 D3ED807A 		vldr.32	s15, [r3, #512]
 436:Core/Src/main.c ****                    lower_motor->total_angle, lower_motor_target_angle, 
 1288              		.loc 1 436 13 view .LVU303
 1289 0236 244B     		ldr	r3, .L114+72
 1290 0238 D3ED008A 		vldr.32	s17, [r3]
 438:Core/Src/main.c ****         }
 1291              		.loc 1 438 45 view .LVU304
 1292 023c 38EEE79A 		vsub.f32	s18, s17, s15
 436:Core/Src/main.c ****                    lower_motor->total_angle, lower_motor_target_angle, 
 1293              		.loc 1 436 13 view .LVU305
 1294 0240 17EE900A 		vmov	r0, s15
 1295 0244 FFF7FEFF 		bl	__aeabi_f2d
 1296              	.LVL121:
 1297 0248 0446     		mov	r4, r0
 1298              	.LVL122:
 436:Core/Src/main.c ****                    lower_motor->total_angle, lower_motor_target_angle, 
 1299              		.loc 1 436 13 view .LVU306
 1300 024a 0D46     		mov	r5, r1
 1301 024c 19EE100A 		vmov	r0, s18
 1302 0250 FFF7FEFF 		bl	__aeabi_f2d
 1303              	.LVL123:
 1304 0254 CDE90201 		strd	r0, [sp, #8]
 1305 0258 18EE900A 		vmov	r0, s17
 1306 025c FFF7FEFF 		bl	__aeabi_f2d
 1307              	.LVL124:
 1308 0260 CDE90001 		strd	r0, [sp]
 1309 0264 2246     		mov	r2, r4
 1310 0266 2B46     		mov	r3, r5
 1311 0268 1C48     		ldr	r0, .L114+92
 1312 026a FFF7FEFF 		bl	printf
 1313              	.LVL125:
 1314 026e 79E7     		b	.L90
 1315              	.L92:
 447:Core/Src/main.c ****     }
 1316              		.loc 1 447 9 is_stmt 1 view .LVU307
 1317 0270 154B     		ldr	r3, .L114+72
 1318 0272 93ED000A 		vldr.32	s0, [r3]
 1319 0276 0221     		movs	r1, #2
 1320 0278 0320     		movs	r0, #3
 1321 027a FFF7FEFF 		bl	Motor_Set_Target
 1322              	.LVL126:
 1323              		.loc 1 449 1 is_stmt 0 view .LVU308
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 36


 1324 027e 7CE7     		b	.L70
 1325              	.L115:
 1326              		.align	2
 1327              	.L114:
 1328 0280 00000000 		.word	gm6020_motors
 1329 0284 00000000 		.word	accumulated_angle
 1330 0288 00000000 		.word	lower_motor_state
 1331 028c 00000000 		.word	lower_state
 1332 0290 00401245 		.word	1158823936
 1333 0294 00003443 		.word	1127481344
 1334 0298 00000000 		.word	transition_start_time
 1335 029c 00000000 		.word	.LC6
 1336 02a0 0000FA43 		.word	1140457472
 1337 02a4 00000000 		.word	0
 1338 02a8 2C000000 		.word	.LC7
 1339 02ac 004012C5 		.word	-988659712
 1340 02b0 000034C3 		.word	-1020002304
 1341 02b4 54000000 		.word	.LC8
 1342 02b8 80000000 		.word	.LC9
 1343 02bc 00000000 		.word	last_debug.1
 1344 02c0 00000000 		.word	current_mode
 1345 02c4 D4000000 		.word	.LC11
 1346 02c8 00000000 		.word	lower_motor_target_angle
 1347 02cc 0000F042 		.word	1123024896
 1348 02d0 A8000000 		.word	.LC10
 1349 02d4 0000F0C2 		.word	-1024458752
 1350 02d8 4C020000 		.word	gm6020_motors+588
 1351 02dc 10010000 		.word	.LC12
 1352              		.cfi_endproc
 1353              	.LFE144:
 1355              		.section	.text.Error_Handler,"ax",%progbits
 1356              		.align	1
 1357              		.global	Error_Handler
 1358              		.syntax unified
 1359              		.thumb
 1360              		.thumb_func
 1362              	Error_Handler:
 1363              	.LFB147:
 450:Core/Src/main.c **** /* USER CODE END 0 */
 451:Core/Src/main.c **** 
 452:Core/Src/main.c **** /**
 453:Core/Src/main.c ****   * @brief  The application entry point.
 454:Core/Src/main.c ****   * @retval int
 455:Core/Src/main.c ****   */
 456:Core/Src/main.c **** int main(void)
 457:Core/Src/main.c **** {
 458:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 459:Core/Src/main.c **** 
 460:Core/Src/main.c ****     /* USER CODE END 1 */
 461:Core/Src/main.c **** 
 462:Core/Src/main.c ****     /* MCU Configuration--------------------------------------------------------*/
 463:Core/Src/main.c ****     HAL_Init();
 464:Core/Src/main.c ****     SystemClock_Config();
 465:Core/Src/main.c ****     MX_GPIO_Init();
 466:Core/Src/main.c ****     MX_CAN1_Init();
 467:Core/Src/main.c ****     
 468:Core/Src/main.c ****     /* USER CODE BEGIN 2 */
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 37


 469:Core/Src/main.c ****     // åˆå§‹åŒ–æŒ‰é”®
 470:Core/Src/main.c ****     
 471:Core/Src/main.c ****     Motor_Init_All();
 472:Core/Src/main.c ****     BSP_CAN_Init();
 473:Core/Src/main.c ****     
 474:Core/Src/main.c ****     // ä¿å­˜ä¸‹ç”µæœºåˆå§‹ä½ç½®
 475:Core/Src/main.c ****     lower_motor_initial_angle = gm6020_motors[LOWER_MOTOR_ID-1].total_angle;
 476:Core/Src/main.c ****     printf("Lower motor initial angle: %.1fÂ°\n", lower_motor_initial_angle);
 477:Core/Src/main.c ****     
 478:Core/Src/main.c ****     // åˆå§‹åŒ–ç”µæœº
 479:Core/Src/main.c ****     Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, UPPER_MOTOR_SPEED);
 480:Core/Src/main.c ****     Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 481:Core/Src/main.c ****     
 482:Core/Src/main.c ****     // é‡åŠ›è¡¥å¿å‚æ•° (ä¸Šç”µæœº)
 483:Core/Src/main.c ****     gm6020_motors[3].horizon_ecd = 4096;
 484:Core/Src/main.c ****     gm6020_motors[3].gravity_gain = 0.0f;
 485:Core/Src/main.c ****     /* USER CODE END 2 */
 486:Core/Src/main.c **** 
 487:Core/Src/main.c ****     /* Infinite loop */
 488:Core/Src/main.c ****     /* USER CODE BEGIN WHILE */
 489:Core/Src/main.c ****     while (1)
 490:Core/Src/main.c ****     {
 491:Core/Src/main.c ****         /* USER CODE END WHILE */
 492:Core/Src/main.c ****         static uint32_t last_update = 0;
 493:Core/Src/main.c ****         if (HAL_GetTick() - last_update >= 5) {
 494:Core/Src/main.c ****             last_update = HAL_GetTick();
 495:Core/Src/main.c ****             
 496:Core/Src/main.c ****             // 1. æ£€æµ‹æŒ‰é”®è¾“å…¥
 497:Core/Src/main.c ****             Check_Key_Inputs();
 498:Core/Src/main.c ****             
 499:Core/Src/main.c ****             // 2. å¤„ç†æ¨¡å¼è¿‡æ¸¡
 500:Core/Src/main.c ****             Process_Mode_Transition();
 501:Core/Src/main.c ****             
 502:Core/Src/main.c ****             // 3. æ›´æ–°ä¸‹ç”µæœºæŽ§åˆ¶
 503:Core/Src/main.c ****             if (current_mode == MODE_BOTH_MOVING || 
 504:Core/Src/main.c ****                 current_mode == MODE_LOWER_MOVING) {
 505:Core/Src/main.c ****                 Update_Lower_Motor_Control();
 506:Core/Src/main.c ****             }
 507:Core/Src/main.c ****             
 508:Core/Src/main.c ****             // 4. æ›´æ–°ä¸Šç”µæœºæŽ§åˆ¶
 509:Core/Src/main.c ****             if (current_mode == MODE_BOTH_MOVING || 
 510:Core/Src/main.c ****                 current_mode == MODE_UPPER_MOVING) {
 511:Core/Src/main.c ****                 Motor_Set_Target(UPPER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, UPPER_MOTOR_SPEED);
 512:Core/Src/main.c ****             } else {
 513:Core/Src/main.c ****                 Reset_Upper_Motor_Position();
 514:Core/Src/main.c ****             }
 515:Core/Src/main.c ****             
 516:Core/Src/main.c ****             // 5. æ‰§è¡Œç”µæœºæŽ§åˆ¶
 517:Core/Src/main.c ****             Motor_Control_Loop();
 518:Core/Src/main.c ****         }
 519:Core/Src/main.c ****         HAL_Delay(1);
 520:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 521:Core/Src/main.c ****     }
 522:Core/Src/main.c ****     /* USER CODE END 3 */
 523:Core/Src/main.c **** }
 524:Core/Src/main.c **** 
 525:Core/Src/main.c **** /**
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 38


 526:Core/Src/main.c ****   * @brief System Clock Configuration
 527:Core/Src/main.c ****   * @retval None
 528:Core/Src/main.c ****   */
 529:Core/Src/main.c **** void SystemClock_Config(void)
 530:Core/Src/main.c **** {
 531:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 532:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 533:Core/Src/main.c **** 
 534:Core/Src/main.c ****     __HAL_RCC_PWR_CLK_ENABLE();
 535:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 536:Core/Src/main.c **** 
 537:Core/Src/main.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 538:Core/Src/main.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 539:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 540:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 541:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLM = 6;
 542:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLN = 168;
 543:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
 544:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLQ = 4;
 545:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 546:Core/Src/main.c ****     {
 547:Core/Src/main.c ****         Error_Handler();
 548:Core/Src/main.c ****     }
 549:Core/Src/main.c **** 
 550:Core/Src/main.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 551:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 552:Core/Src/main.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 553:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 554:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
 555:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;
 556:Core/Src/main.c **** 
 557:Core/Src/main.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_5) != HAL_OK)
 558:Core/Src/main.c ****     {
 559:Core/Src/main.c ****         Error_Handler();
 560:Core/Src/main.c ****     }
 561:Core/Src/main.c **** }
 562:Core/Src/main.c **** 
 563:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 564:Core/Src/main.c **** 
 565:Core/Src/main.c **** /* USER CODE END 4 */
 566:Core/Src/main.c **** 
 567:Core/Src/main.c **** /**
 568:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 569:Core/Src/main.c ****   * @retval None
 570:Core/Src/main.c ****   */
 571:Core/Src/main.c **** void Error_Handler(void)
 572:Core/Src/main.c **** {
 1364              		.loc 1 572 1 is_stmt 1 view -0
 1365              		.cfi_startproc
 1366              		@ Volatile: function does not return.
 1367              		@ args = 0, pretend = 0, frame = 0
 1368              		@ frame_needed = 0, uses_anonymous_args = 0
 1369              		@ link register save eliminated.
 573:Core/Src/main.c ****     /* USER CODE BEGIN Error_Handler_Debug */
 574:Core/Src/main.c ****     __disable_irq();
 1370              		.loc 1 574 5 view .LVU310
 1371              	.LBB12:
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 39


 1372              	.LBI12:
 1373              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.4.1
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     27. May 2021
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2021 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 40


  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 41


 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 120:Drivers/CMSIS/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 122:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****            in the used linker script.
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 130:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 133:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 141:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 146:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 151:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 156:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 157:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 161:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 162:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   _start();
 164:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 165:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 168:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 42


 170:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 177:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 180:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute__((used, section(".vectors")))
 183:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined (__ARM_FEATURE_CMSE) && (__ARM_FEATURE_CMSE == 3U)
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __STACK_SEAL
 187:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __STACK_SEAL              __StackSeal
 188:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 189:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 190:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __TZ_STACK_SEAL_SIZE
 191:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __TZ_STACK_SEAL_SIZE      8U
 192:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 193:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 194:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __TZ_STACK_SEAL_VALUE
 195:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __TZ_STACK_SEAL_VALUE     0xFEF5EDA5FEF5EDA5ULL
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 198:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_STACKSEAL_S (uint32_t* stackTop) {
 200:Drivers/CMSIS/Include/cmsis_gcc.h ****   *((uint64_t *)stackTop) = __TZ_STACK_SEAL_VALUE;
 201:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 202:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 203:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 204:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 205:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ##########################  Core Instruction Access  ######################### */
 206:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \defgroup CMSIS_Core_InstructionInterface CMSIS Core Instruction Interface
 207:Drivers/CMSIS/Include/cmsis_gcc.h ****   Access to dedicated instructions
 208:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** */
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Define macros for porting to both thumb1 and thumb2.
 212:Drivers/CMSIS/Include/cmsis_gcc.h ****  * For thumb1, use low register (r0-r7), specified by constraint "l"
 213:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Otherwise, use general registers, specified by constraint "r" */
 214:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined (__thumb__) && !defined (__thumb2__)
 215:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=l" (r)
 216:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+l" (r)
 217:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "l" (r)
 218:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=r" (r)
 220:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+r" (r)
 221:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "r" (r)
 222:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 223:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 224:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 225:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   No Operation
 226:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details No Operation does nothing. This instruction can be used for code alignment purposes.
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 43


 227:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __NOP()                             __ASM volatile ("nop")
 229:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 230:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Wait For Interrupt
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Wait For Interrupt is a hint instruction that suspends execution until one of a number o
 233:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __WFI()                             __ASM volatile ("wfi":::"memory")
 235:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Wait For Event
 239:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Wait For Event is a hint instruction that permits the processor to enter
 240:Drivers/CMSIS/Include/cmsis_gcc.h ****            a low-power state until one of a number of events occurs.
 241:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __WFE()                             __ASM volatile ("wfe":::"memory")
 243:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 244:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 245:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 246:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Send Event
 247:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Send Event is a hint instruction. It causes an event to be signaled to the CPU.
 248:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 249:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __SEV()                             __ASM volatile ("sev")
 250:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 251:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 252:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 253:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Instruction Synchronization Barrier
 254:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Instruction Synchronization Barrier flushes the pipeline in the processor,
 255:Drivers/CMSIS/Include/cmsis_gcc.h ****            so that all instructions following the ISB are fetched from cache or memory,
 256:Drivers/CMSIS/Include/cmsis_gcc.h ****            after the instruction has been completed.
 257:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 258:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __ISB(void)
 259:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 260:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("isb 0xF":::"memory");
 261:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 262:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 264:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 265:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Data Synchronization Barrier
 266:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Acts as a special kind of Data Memory Barrier.
 267:Drivers/CMSIS/Include/cmsis_gcc.h ****            It completes when all explicit memory accesses before this instruction complete.
 268:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 269:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __DSB(void)
 270:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 271:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("dsb 0xF":::"memory");
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 273:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 274:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 275:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Data Memory Barrier
 277:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Ensures the apparent order of the explicit memory operations before
 278:Drivers/CMSIS/Include/cmsis_gcc.h ****            and after the instruction, without ensuring their completion.
 279:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 280:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __DMB(void)
 281:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 282:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("dmb 0xF":::"memory");
 283:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 44


 284:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 285:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 286:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 287:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Reverse byte order (32 bit)
 288:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Reverses the byte order in unsigned integer value. For example, 0x12345678 becomes 0x785
 289:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 290:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Reversed value
 291:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 292:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __REV(uint32_t value)
 293:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 294:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5)
 295:Drivers/CMSIS/Include/cmsis_gcc.h ****   return __builtin_bswap32(value);
 296:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 297:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 298:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 299:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM ("rev %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 300:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 301:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 302:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 303:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 304:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 305:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 306:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Reverse byte order (16 bit)
 307:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Reverses the byte order within each halfword of a word. For example, 0x12345678 becomes 
 308:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 309:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Reversed value
 310:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 311:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __REV16(uint32_t value)
 312:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 313:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 314:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 315:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM ("rev16 %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 316:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 317:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 318:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 319:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 320:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 321:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Reverse byte order (16 bit)
 322:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Reverses the byte order in a 16-bit value and returns the signed 16-bit result. For exam
 323:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 324:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Reversed value
 325:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 326:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE int16_t __REVSH(int16_t value)
 327:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 328:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 329:Drivers/CMSIS/Include/cmsis_gcc.h ****   return (int16_t)__builtin_bswap16(value);
 330:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 331:Drivers/CMSIS/Include/cmsis_gcc.h ****   int16_t result;
 332:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 333:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM ("revsh %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 334:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 335:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 336:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 337:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 338:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 339:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 340:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Rotate Right in unsigned value (32 bit)
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 45


 341:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Rotate Right (immediate) provides the value of the contents of a register rotated by a v
 342:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    op1  Value to rotate
 343:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    op2  Number of Bits to rotate
 344:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Rotated value
 345:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 346:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __ROR(uint32_t op1, uint32_t op2)
 347:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 348:Drivers/CMSIS/Include/cmsis_gcc.h ****   op2 %= 32U;
 349:Drivers/CMSIS/Include/cmsis_gcc.h ****   if (op2 == 0U)
 350:Drivers/CMSIS/Include/cmsis_gcc.h ****   {
 351:Drivers/CMSIS/Include/cmsis_gcc.h ****     return op1;
 352:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 353:Drivers/CMSIS/Include/cmsis_gcc.h ****   return (op1 >> op2) | (op1 << (32U - op2));
 354:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 355:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 356:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 357:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 358:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Breakpoint
 359:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Causes the processor to enter Debug state.
 360:Drivers/CMSIS/Include/cmsis_gcc.h ****            Debug tools can use this to investigate system state when the instruction at a particula
 361:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  is ignored by the processor.
 362:Drivers/CMSIS/Include/cmsis_gcc.h ****                  If required, a debugger can use it to store additional information about the break
 363:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 364:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __BKPT(value)                       __ASM volatile ("bkpt "#value)
 365:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 366:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 367:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 368:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Reverse bit order of value
 369:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Reverses the bit order of the given value.
 370:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 371:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Reversed value
 372:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 373:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __RBIT(uint32_t value)
 374:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 375:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 376:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 377:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 378:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 379:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 380:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM ("rbit %0, %1" : "=r" (result) : "r" (value) );
 381:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 382:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t s = (4U /*sizeof(v)*/ * 8U) - 1U; /* extra shift needed at end */
 383:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 384:Drivers/CMSIS/Include/cmsis_gcc.h ****   result = value;                      /* r will be reversed bits of v; first get LSB of v */
 385:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (value >>= 1U; value != 0U; value >>= 1U)
 386:Drivers/CMSIS/Include/cmsis_gcc.h ****   {
 387:Drivers/CMSIS/Include/cmsis_gcc.h ****     result <<= 1U;
 388:Drivers/CMSIS/Include/cmsis_gcc.h ****     result |= value & 1U;
 389:Drivers/CMSIS/Include/cmsis_gcc.h ****     s--;
 390:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 391:Drivers/CMSIS/Include/cmsis_gcc.h ****   result <<= s;                        /* shift when v's highest bits are zero */
 392:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 393:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 394:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 395:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 396:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 397:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 46


 398:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Count leading zeros
 399:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Counts the number of leading zeros of a data value.
 400:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to count the leading zeros
 401:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             number of leading zeros in value
 402:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 403:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __CLZ(uint32_t value)
 404:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 405:Drivers/CMSIS/Include/cmsis_gcc.h ****   /* Even though __builtin_clz produces a CLZ instruction on ARM, formally
 406:Drivers/CMSIS/Include/cmsis_gcc.h ****      __builtin_clz(0) is undefined behaviour, so handle this case specially.
 407:Drivers/CMSIS/Include/cmsis_gcc.h ****      This guarantees ARM-compatible results if happening to compile on a non-ARM
 408:Drivers/CMSIS/Include/cmsis_gcc.h ****      target, and ensures the compiler doesn't decide to activate any
 409:Drivers/CMSIS/Include/cmsis_gcc.h ****      optimisations using the logic "value was passed to __builtin_clz, so it
 410:Drivers/CMSIS/Include/cmsis_gcc.h ****      is non-zero".
 411:Drivers/CMSIS/Include/cmsis_gcc.h ****      ARM GCC 7.3 and possibly earlier will optimise this test away, leaving a
 412:Drivers/CMSIS/Include/cmsis_gcc.h ****      single CLZ instruction.
 413:Drivers/CMSIS/Include/cmsis_gcc.h ****    */
 414:Drivers/CMSIS/Include/cmsis_gcc.h ****   if (value == 0U)
 415:Drivers/CMSIS/Include/cmsis_gcc.h ****   {
 416:Drivers/CMSIS/Include/cmsis_gcc.h ****     return 32U;
 417:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 418:Drivers/CMSIS/Include/cmsis_gcc.h ****   return __builtin_clz(value);
 419:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 420:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 421:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 422:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 423:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 424:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 425:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    )
 426:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 427:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDR Exclusive (8 bit)
 428:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 8 bit value.
 429:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 430:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 431:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 432:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDREXB(volatile uint8_t *addr)
 433:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 434:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 435:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 436:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 437:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrexb %0, %1" : "=r" (result) : "Q" (*addr) );
 438:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 439:Drivers/CMSIS/Include/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 440:Drivers/CMSIS/Include/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 441:Drivers/CMSIS/Include/cmsis_gcc.h ****     */
 442:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrexb %0, [%1]" : "=r" (result) : "r" (addr) : "memory" );
 443:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 444:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint8_t) result);    /* Add explicit type cast here */
 445:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 446:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 447:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 448:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 449:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDR Exclusive (16 bit)
 450:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 16 bit values.
 451:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 452:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDREXH(volatile uint16_t *addr)
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 47


 455:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 456:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 457:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 458:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 459:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrexh %0, %1" : "=r" (result) : "Q" (*addr) );
 460:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 461:Drivers/CMSIS/Include/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 462:Drivers/CMSIS/Include/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 463:Drivers/CMSIS/Include/cmsis_gcc.h ****     */
 464:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrexh %0, [%1]" : "=r" (result) : "r" (addr) : "memory" );
 465:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 466:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint16_t) result);    /* Add explicit type cast here */
 467:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 468:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 469:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 470:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 471:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDR Exclusive (32 bit)
 472:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 32 bit values.
 473:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 474:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 475:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 476:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDREXW(volatile uint32_t *addr)
 477:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 478:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 479:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 480:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrex %0, %1" : "=r" (result) : "Q" (*addr) );
 481:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 482:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 483:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 484:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 485:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 486:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STR Exclusive (8 bit)
 487:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 8 bit values.
 488:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 489:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 490:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 491:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 492:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 493:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXB(uint8_t value, volatile uint8_t *addr)
 494:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 495:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 496:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 497:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strexb %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" ((uint32_t)value) );
 498:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 499:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 500:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 501:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 502:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 503:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STR Exclusive (16 bit)
 504:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 16 bit values.
 505:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 506:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 507:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 508:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 509:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 510:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXH(uint16_t value, volatile uint16_t *addr)
 511:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 48


 512:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 513:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 514:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strexh %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" ((uint32_t)value) );
 515:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 516:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 517:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 518:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 519:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 520:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STR Exclusive (32 bit)
 521:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 32 bit values.
 522:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 523:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 524:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 525:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 526:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 527:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXW(uint32_t value, volatile uint32_t *addr)
 528:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 529:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 530:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 531:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strex %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" (value) );
 532:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 533:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 534:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 535:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 536:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 537:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Remove the exclusive lock
 538:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Removes the exclusive lock which is created by LDREX.
 539:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 540:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __CLREX(void)
 541:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 542:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("clrex" ::: "memory");
 543:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 544:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 545:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 546:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 547:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 548:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    ) */
 549:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 550:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 551:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 552:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 553:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 554:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 555:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Signed Saturate
 556:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Saturates a signed value.
 557:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  ARG1  Value to be saturated
 558:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  ARG2  Bit position to saturate to (1..32)
 559:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             Saturated value
 560:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 561:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __SSAT(ARG1, ARG2) \
 562:Drivers/CMSIS/Include/cmsis_gcc.h **** __extension__ \
 563:Drivers/CMSIS/Include/cmsis_gcc.h **** ({                          \
 564:Drivers/CMSIS/Include/cmsis_gcc.h ****   int32_t __RES, __ARG1 = (ARG1); \
 565:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("ssat %0, %1, %2" : "=r" (__RES) :  "I" (ARG2), "r" (__ARG1) : "cc" ); \
 566:Drivers/CMSIS/Include/cmsis_gcc.h ****   __RES; \
 567:Drivers/CMSIS/Include/cmsis_gcc.h ****  })
 568:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 49


 569:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 570:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 571:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Unsigned Saturate
 572:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Saturates an unsigned value.
 573:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  ARG1  Value to be saturated
 574:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  ARG2  Bit position to saturate to (0..31)
 575:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             Saturated value
 576:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 577:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __USAT(ARG1, ARG2) \
 578:Drivers/CMSIS/Include/cmsis_gcc.h **** __extension__ \
 579:Drivers/CMSIS/Include/cmsis_gcc.h **** ({                          \
 580:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t __RES, __ARG1 = (ARG1); \
 581:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("usat %0, %1, %2" : "=r" (__RES) :  "I" (ARG2), "r" (__ARG1) : "cc" ); \
 582:Drivers/CMSIS/Include/cmsis_gcc.h ****   __RES; \
 583:Drivers/CMSIS/Include/cmsis_gcc.h ****  })
 584:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 585:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 586:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 587:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Rotate Right with Extend (32 bit)
 588:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Moves each bit of a bitstring right by one bit.
 589:Drivers/CMSIS/Include/cmsis_gcc.h ****            The carry input is shifted in at the left end of the bitstring.
 590:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    value  Value to rotate
 591:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Rotated value
 592:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 593:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __RRX(uint32_t value)
 594:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 595:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 596:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 597:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("rrx %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 598:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 599:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 600:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 601:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 602:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 603:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDRT Unprivileged (8 bit)
 604:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 8 bit value.
 605:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 606:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 607:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 608:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDRBT(volatile uint8_t *ptr)
 609:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 610:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 611:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 612:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 613:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrbt %0, %1" : "=r" (result) : "Q" (*ptr) );
 614:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 615:Drivers/CMSIS/Include/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 616:Drivers/CMSIS/Include/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 617:Drivers/CMSIS/Include/cmsis_gcc.h ****     */
 618:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrbt %0, [%1]" : "=r" (result) : "r" (ptr) : "memory" );
 619:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 620:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint8_t) result);    /* Add explicit type cast here */
 621:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 622:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 623:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 624:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 625:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDRT Unprivileged (16 bit)
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 50


 626:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 16 bit values.
 627:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 628:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 629:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 630:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDRHT(volatile uint16_t *ptr)
 631:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 632:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 633:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 634:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 635:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrht %0, %1" : "=r" (result) : "Q" (*ptr) );
 636:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 637:Drivers/CMSIS/Include/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 638:Drivers/CMSIS/Include/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 639:Drivers/CMSIS/Include/cmsis_gcc.h ****     */
 640:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrht %0, [%1]" : "=r" (result) : "r" (ptr) : "memory" );
 641:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 642:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint16_t) result);    /* Add explicit type cast here */
 643:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 644:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 645:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 646:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 647:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   LDRT Unprivileged (32 bit)
 648:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 32 bit values.
 649:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 650:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 651:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 652:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDRT(volatile uint32_t *ptr)
 653:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 654:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 655:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 656:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldrt %0, %1" : "=r" (result) : "Q" (*ptr) );
 657:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 658:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 659:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 660:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 661:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 662:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STRT Unprivileged (8 bit)
 663:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 8 bit values.
 664:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 665:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 666:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 667:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRBT(uint8_t value, volatile uint8_t *ptr)
 668:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 669:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strbt %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) );
 670:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 671:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 672:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 673:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 674:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STRT Unprivileged (16 bit)
 675:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 16 bit values.
 676:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 677:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 678:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 679:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRHT(uint16_t value, volatile uint16_t *ptr)
 680:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 681:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strht %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) );
 682:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 51


 683:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 684:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 685:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 686:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   STRT Unprivileged (32 bit)
 687:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 32 bit values.
 688:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 689:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 690:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 691:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRT(uint32_t value, volatile uint32_t *ptr)
 692:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 693:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("strt %1, %0" : "=Q" (*ptr) : "r" (value) );
 694:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 695:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 696:Drivers/CMSIS/Include/cmsis_gcc.h **** #else  /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 697:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 698:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    ) */
 699:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 700:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 701:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Signed Saturate
 702:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Saturates a signed value.
 703:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to be saturated
 704:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    sat  Bit position to saturate to (1..32)
 705:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             Saturated value
 706:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 707:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE int32_t __SSAT(int32_t val, uint32_t sat)
 708:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 709:Drivers/CMSIS/Include/cmsis_gcc.h ****   if ((sat >= 1U) && (sat <= 32U))
 710:Drivers/CMSIS/Include/cmsis_gcc.h ****   {
 711:Drivers/CMSIS/Include/cmsis_gcc.h ****     const int32_t max = (int32_t)((1U << (sat - 1U)) - 1U);
 712:Drivers/CMSIS/Include/cmsis_gcc.h ****     const int32_t min = -1 - max ;
 713:Drivers/CMSIS/Include/cmsis_gcc.h ****     if (val > max)
 714:Drivers/CMSIS/Include/cmsis_gcc.h ****     {
 715:Drivers/CMSIS/Include/cmsis_gcc.h ****       return max;
 716:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 717:Drivers/CMSIS/Include/cmsis_gcc.h ****     else if (val < min)
 718:Drivers/CMSIS/Include/cmsis_gcc.h ****     {
 719:Drivers/CMSIS/Include/cmsis_gcc.h ****       return min;
 720:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 721:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 722:Drivers/CMSIS/Include/cmsis_gcc.h ****   return val;
 723:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 724:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 725:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 726:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Unsigned Saturate
 727:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Saturates an unsigned value.
 728:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to be saturated
 729:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    sat  Bit position to saturate to (0..31)
 730:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             Saturated value
 731:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 732:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __USAT(int32_t val, uint32_t sat)
 733:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 734:Drivers/CMSIS/Include/cmsis_gcc.h ****   if (sat <= 31U)
 735:Drivers/CMSIS/Include/cmsis_gcc.h ****   {
 736:Drivers/CMSIS/Include/cmsis_gcc.h ****     const uint32_t max = ((1U << sat) - 1U);
 737:Drivers/CMSIS/Include/cmsis_gcc.h ****     if (val > (int32_t)max)
 738:Drivers/CMSIS/Include/cmsis_gcc.h ****     {
 739:Drivers/CMSIS/Include/cmsis_gcc.h ****       return max;
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 52


 740:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 741:Drivers/CMSIS/Include/cmsis_gcc.h ****     else if (val < 0)
 742:Drivers/CMSIS/Include/cmsis_gcc.h ****     {
 743:Drivers/CMSIS/Include/cmsis_gcc.h ****       return 0U;
 744:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 745:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 746:Drivers/CMSIS/Include/cmsis_gcc.h ****   return (uint32_t)val;
 747:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 748:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 749:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 750:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 751:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    ) */
 752:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 753:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 754:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 755:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    )
 756:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 757:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire (8 bit)
 758:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDAB instruction for 8 bit value.
 759:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 760:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 761:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 762:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDAB(volatile uint8_t *ptr)
 763:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 764:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 765:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 766:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldab %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 767:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint8_t) result);
 768:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 769:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 770:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 771:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 772:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire (16 bit)
 773:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDAH instruction for 16 bit values.
 774:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 775:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 776:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 777:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDAH(volatile uint16_t *ptr)
 778:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 779:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 780:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 781:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldah %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 782:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint16_t) result);
 783:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 784:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 785:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 786:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 787:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire (32 bit)
 788:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDA instruction for 32 bit values.
 789:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 790:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 791:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 792:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDA(volatile uint32_t *ptr)
 793:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 794:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 795:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 796:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("lda %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 53


 797:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 798:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 799:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 800:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 801:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 802:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release (8 bit)
 803:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STLB instruction for 8 bit values.
 804:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 805:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 806:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 807:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STLB(uint8_t value, volatile uint8_t *ptr)
 808:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 809:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stlb %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 810:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 811:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 812:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 813:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 814:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release (16 bit)
 815:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STLH instruction for 16 bit values.
 816:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 817:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 818:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 819:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STLH(uint16_t value, volatile uint16_t *ptr)
 820:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 821:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stlh %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 822:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 823:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 824:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 825:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 826:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release (32 bit)
 827:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STL instruction for 32 bit values.
 828:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 829:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 830:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 831:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STL(uint32_t value, volatile uint32_t *ptr)
 832:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 833:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stl %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 834:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 835:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 836:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 837:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 838:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (8 bit)
 839:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDAB exclusive instruction for 8 bit value.
 840:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 841:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 842:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 843:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDAEXB(volatile uint8_t *ptr)
 844:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 845:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 846:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 847:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldaexb %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 848:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint8_t) result);
 849:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 850:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 851:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 852:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 853:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (16 bit)
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 54


 854:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDAH exclusive instruction for 16 bit values.
 855:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 856:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 857:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 858:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDAEXH(volatile uint16_t *ptr)
 859:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 860:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 861:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 862:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldaexh %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 863:Drivers/CMSIS/Include/cmsis_gcc.h ****    return ((uint16_t) result);
 864:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 865:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 866:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 867:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 868:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (32 bit)
 869:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a LDA exclusive instruction for 32 bit values.
 870:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 871:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 872:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 873:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDAEX(volatile uint32_t *ptr)
 874:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 875:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t result;
 876:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 877:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("ldaex %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 878:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 879:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 880:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 881:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 882:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 883:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release Exclusive (8 bit)
 884:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STLB exclusive instruction for 8 bit values.
 885:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 886:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 887:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 888:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 889:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 890:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEXB(uint8_t value, volatile uint8_t *ptr)
 891:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 892:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 893:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 894:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stlexb %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "mem
 895:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 896:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 897:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 898:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 899:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 900:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release Exclusive (16 bit)
 901:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STLH exclusive instruction for 16 bit values.
 902:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 903:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 904:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 905:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 906:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 907:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEXH(uint16_t value, volatile uint16_t *ptr)
 908:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 909:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 910:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 55


 911:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stlexh %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "mem
 912:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 913:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 914:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 915:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 916:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 917:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Store-Release Exclusive (32 bit)
 918:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Executes a STL exclusive instruction for 32 bit values.
 919:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]  value  Value to store
 920:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 921:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          0  Function succeeded
 922:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return          1  Function failed
 923:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 924:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEX(uint32_t value, volatile uint32_t *ptr)
 925:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 926:Drivers/CMSIS/Include/cmsis_gcc.h ****    uint32_t result;
 927:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 928:Drivers/CMSIS/Include/cmsis_gcc.h ****    __ASM volatile ("stlex %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "memo
 929:Drivers/CMSIS/Include/cmsis_gcc.h ****    return(result);
 930:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 931:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 932:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 933:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    ) */
 934:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 935:Drivers/CMSIS/Include/cmsis_gcc.h **** /*@}*/ /* end of group CMSIS_Core_InstructionInterface */
 936:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 937:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 938:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 939:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 940:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 941:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 942:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 943:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 944:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 945:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 946:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing special-purpose register PRIMASK.
 947:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 948:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 949:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 950:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 951:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 952:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 953:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 954:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 955:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 956:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 957:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting special-purpose register PRIMASK.
 958:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 959:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 960:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1374              		.loc 2 960 27 view .LVU311
 1375              	.LBB13:
 961:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 962:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1376              		.loc 2 962 3 view .LVU312
 1377              		.syntax unified
 1378              	@ 962 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 56


 1379 0000 72B6     		cpsid i
 1380              	@ 0 "" 2
 1381              		.thumb
 1382              		.syntax unified
 1383              	.L117:
 1384              	.LBE13:
 1385              	.LBE12:
 575:Core/Src/main.c ****     while (1)
 1386              		.loc 1 575 5 view .LVU313
 576:Core/Src/main.c ****     {
 577:Core/Src/main.c ****     }
 1387              		.loc 1 577 5 view .LVU314
 575:Core/Src/main.c ****     while (1)
 1388              		.loc 1 575 11 view .LVU315
 1389 0002 FEE7     		b	.L117
 1390              		.cfi_endproc
 1391              	.LFE147:
 1393              		.section	.text.SystemClock_Config,"ax",%progbits
 1394              		.align	1
 1395              		.global	SystemClock_Config
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1400              	SystemClock_Config:
 1401              	.LFB146:
 530:Core/Src/main.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1402              		.loc 1 530 1 view -0
 1403              		.cfi_startproc
 1404              		@ args = 0, pretend = 0, frame = 80
 1405              		@ frame_needed = 0, uses_anonymous_args = 0
 1406 0000 00B5     		push	{lr}
 1407              	.LCFI18:
 1408              		.cfi_def_cfa_offset 4
 1409              		.cfi_offset 14, -4
 1410 0002 95B0     		sub	sp, sp, #84
 1411              	.LCFI19:
 1412              		.cfi_def_cfa_offset 88
 531:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1413              		.loc 1 531 5 view .LVU317
 531:Core/Src/main.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1414              		.loc 1 531 24 is_stmt 0 view .LVU318
 1415 0004 3022     		movs	r2, #48
 1416 0006 0021     		movs	r1, #0
 1417 0008 08A8     		add	r0, sp, #32
 1418 000a FFF7FEFF 		bl	memset
 1419              	.LVL127:
 532:Core/Src/main.c **** 
 1420              		.loc 1 532 5 is_stmt 1 view .LVU319
 532:Core/Src/main.c **** 
 1421              		.loc 1 532 24 is_stmt 0 view .LVU320
 1422 000e 0023     		movs	r3, #0
 1423 0010 0393     		str	r3, [sp, #12]
 1424 0012 0493     		str	r3, [sp, #16]
 1425 0014 0593     		str	r3, [sp, #20]
 1426 0016 0693     		str	r3, [sp, #24]
 1427 0018 0793     		str	r3, [sp, #28]
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 57


 1428              		.loc 1 534 5 is_stmt 1 view .LVU321
 1429              	.LBB14:
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 1430              		.loc 1 534 5 view .LVU322
 1431 001a 0193     		str	r3, [sp, #4]
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 1432              		.loc 1 534 5 view .LVU323
 1433 001c 204A     		ldr	r2, .L124
 1434 001e 116C     		ldr	r1, [r2, #64]
 1435 0020 41F08051 		orr	r1, r1, #268435456
 1436 0024 1164     		str	r1, [r2, #64]
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 1437              		.loc 1 534 5 view .LVU324
 1438 0026 126C     		ldr	r2, [r2, #64]
 1439 0028 02F08052 		and	r2, r2, #268435456
 1440 002c 0192     		str	r2, [sp, #4]
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 1441              		.loc 1 534 5 view .LVU325
 1442 002e 019A     		ldr	r2, [sp, #4]
 1443              	.LBE14:
 534:Core/Src/main.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
 1444              		.loc 1 534 5 view .LVU326
 535:Core/Src/main.c **** 
 1445              		.loc 1 535 5 view .LVU327
 1446              	.LBB15:
 535:Core/Src/main.c **** 
 1447              		.loc 1 535 5 view .LVU328
 1448 0030 0293     		str	r3, [sp, #8]
 535:Core/Src/main.c **** 
 1449              		.loc 1 535 5 view .LVU329
 1450 0032 1C4B     		ldr	r3, .L124+4
 1451 0034 1A68     		ldr	r2, [r3]
 1452 0036 42F44042 		orr	r2, r2, #49152
 1453 003a 1A60     		str	r2, [r3]
 535:Core/Src/main.c **** 
 1454              		.loc 1 535 5 view .LVU330
 1455 003c 1B68     		ldr	r3, [r3]
 1456 003e 03F44043 		and	r3, r3, #49152
 1457 0042 0293     		str	r3, [sp, #8]
 535:Core/Src/main.c **** 
 1458              		.loc 1 535 5 view .LVU331
 1459 0044 029B     		ldr	r3, [sp, #8]
 1460              	.LBE15:
 535:Core/Src/main.c **** 
 1461              		.loc 1 535 5 view .LVU332
 537:Core/Src/main.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1462              		.loc 1 537 5 view .LVU333
 537:Core/Src/main.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1463              		.loc 1 537 38 is_stmt 0 view .LVU334
 1464 0046 0123     		movs	r3, #1
 1465 0048 0893     		str	r3, [sp, #32]
 538:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1466              		.loc 1 538 5 is_stmt 1 view .LVU335
 538:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1467              		.loc 1 538 32 is_stmt 0 view .LVU336
 1468 004a 4FF48033 		mov	r3, #65536
 1469 004e 0993     		str	r3, [sp, #36]
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 58


 539:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1470              		.loc 1 539 5 is_stmt 1 view .LVU337
 539:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1471              		.loc 1 539 36 is_stmt 0 view .LVU338
 1472 0050 0223     		movs	r3, #2
 1473 0052 0E93     		str	r3, [sp, #56]
 540:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLM = 6;
 1474              		.loc 1 540 5 is_stmt 1 view .LVU339
 540:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLM = 6;
 1475              		.loc 1 540 37 is_stmt 0 view .LVU340
 1476 0054 4FF48002 		mov	r2, #4194304
 1477 0058 0F92     		str	r2, [sp, #60]
 541:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLN = 168;
 1478              		.loc 1 541 5 is_stmt 1 view .LVU341
 541:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLN = 168;
 1479              		.loc 1 541 32 is_stmt 0 view .LVU342
 1480 005a 0622     		movs	r2, #6
 1481 005c 1092     		str	r2, [sp, #64]
 542:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
 1482              		.loc 1 542 5 is_stmt 1 view .LVU343
 542:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
 1483              		.loc 1 542 32 is_stmt 0 view .LVU344
 1484 005e A822     		movs	r2, #168
 1485 0060 1192     		str	r2, [sp, #68]
 543:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLQ = 4;
 1486              		.loc 1 543 5 is_stmt 1 view .LVU345
 543:Core/Src/main.c ****     RCC_OscInitStruct.PLL.PLLQ = 4;
 1487              		.loc 1 543 32 is_stmt 0 view .LVU346
 1488 0062 1293     		str	r3, [sp, #72]
 544:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1489              		.loc 1 544 5 is_stmt 1 view .LVU347
 544:Core/Src/main.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1490              		.loc 1 544 32 is_stmt 0 view .LVU348
 1491 0064 0423     		movs	r3, #4
 1492 0066 1393     		str	r3, [sp, #76]
 545:Core/Src/main.c ****     {
 1493              		.loc 1 545 5 is_stmt 1 view .LVU349
 545:Core/Src/main.c ****     {
 1494              		.loc 1 545 9 is_stmt 0 view .LVU350
 1495 0068 08A8     		add	r0, sp, #32
 1496 006a FFF7FEFF 		bl	HAL_RCC_OscConfig
 1497              	.LVL128:
 545:Core/Src/main.c ****     {
 1498              		.loc 1 545 8 discriminator 1 view .LVU351
 1499 006e 98B9     		cbnz	r0, .L122
 550:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1500              		.loc 1 550 5 is_stmt 1 view .LVU352
 550:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1501              		.loc 1 550 33 is_stmt 0 view .LVU353
 1502 0070 0F23     		movs	r3, #15
 1503 0072 0393     		str	r3, [sp, #12]
 552:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1504              		.loc 1 552 5 is_stmt 1 view .LVU354
 552:Core/Src/main.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1505              		.loc 1 552 36 is_stmt 0 view .LVU355
 1506 0074 0223     		movs	r3, #2
 1507 0076 0493     		str	r3, [sp, #16]
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 59


 553:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
 1508              		.loc 1 553 5 is_stmt 1 view .LVU356
 553:Core/Src/main.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
 1509              		.loc 1 553 37 is_stmt 0 view .LVU357
 1510 0078 0023     		movs	r3, #0
 1511 007a 0593     		str	r3, [sp, #20]
 554:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;
 1512              		.loc 1 554 5 is_stmt 1 view .LVU358
 554:Core/Src/main.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;
 1513              		.loc 1 554 38 is_stmt 0 view .LVU359
 1514 007c 4FF4A053 		mov	r3, #5120
 1515 0080 0693     		str	r3, [sp, #24]
 555:Core/Src/main.c **** 
 1516              		.loc 1 555 5 is_stmt 1 view .LVU360
 555:Core/Src/main.c **** 
 1517              		.loc 1 555 38 is_stmt 0 view .LVU361
 1518 0082 4FF48053 		mov	r3, #4096
 1519 0086 0793     		str	r3, [sp, #28]
 557:Core/Src/main.c ****     {
 1520              		.loc 1 557 5 is_stmt 1 view .LVU362
 557:Core/Src/main.c ****     {
 1521              		.loc 1 557 9 is_stmt 0 view .LVU363
 1522 0088 0521     		movs	r1, #5
 1523 008a 03A8     		add	r0, sp, #12
 1524 008c FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1525              	.LVL129:
 557:Core/Src/main.c ****     {
 1526              		.loc 1 557 8 discriminator 1 view .LVU364
 1527 0090 20B9     		cbnz	r0, .L123
 561:Core/Src/main.c **** 
 1528              		.loc 1 561 1 view .LVU365
 1529 0092 15B0     		add	sp, sp, #84
 1530              	.LCFI20:
 1531              		.cfi_remember_state
 1532              		.cfi_def_cfa_offset 4
 1533              		@ sp needed
 1534 0094 5DF804FB 		ldr	pc, [sp], #4
 1535              	.L122:
 1536              	.LCFI21:
 1537              		.cfi_restore_state
 547:Core/Src/main.c ****     }
 1538              		.loc 1 547 9 is_stmt 1 view .LVU366
 1539 0098 FFF7FEFF 		bl	Error_Handler
 1540              	.LVL130:
 1541              	.L123:
 559:Core/Src/main.c ****     }
 1542              		.loc 1 559 9 view .LVU367
 1543 009c FFF7FEFF 		bl	Error_Handler
 1544              	.LVL131:
 1545              	.L125:
 1546              		.align	2
 1547              	.L124:
 1548 00a0 00380240 		.word	1073887232
 1549 00a4 00700040 		.word	1073770496
 1550              		.cfi_endproc
 1551              	.LFE146:
 1553              		.section	.rodata.main.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 60


 1554              		.align	2
 1555              	.LC13:
 1556 0000 4C6F7765 		.ascii	"Lower motor initial angle: %.1f\302\260\012\000"
 1556      72206D6F 
 1556      746F7220 
 1556      696E6974 
 1556      69616C20 
 1557              		.section	.text.main,"ax",%progbits
 1558              		.align	1
 1559              		.global	main
 1560              		.syntax unified
 1561              		.thumb
 1562              		.thumb_func
 1564              	main:
 1565              	.LFB145:
 457:Core/Src/main.c ****     /* USER CODE BEGIN 1 */
 1566              		.loc 1 457 1 view -0
 1567              		.cfi_startproc
 1568              		@ Volatile: function does not return.
 1569              		@ args = 0, pretend = 0, frame = 0
 1570              		@ frame_needed = 0, uses_anonymous_args = 0
 1571 0000 08B5     		push	{r3, lr}
 1572              	.LCFI22:
 1573              		.cfi_def_cfa_offset 8
 1574              		.cfi_offset 3, -8
 1575              		.cfi_offset 14, -4
 463:Core/Src/main.c ****     SystemClock_Config();
 1576              		.loc 1 463 5 view .LVU369
 1577 0002 FFF7FEFF 		bl	HAL_Init
 1578              	.LVL132:
 464:Core/Src/main.c ****     MX_GPIO_Init();
 1579              		.loc 1 464 5 view .LVU370
 1580 0006 FFF7FEFF 		bl	SystemClock_Config
 1581              	.LVL133:
 465:Core/Src/main.c ****     MX_CAN1_Init();
 1582              		.loc 1 465 5 view .LVU371
 1583 000a FFF7FEFF 		bl	MX_GPIO_Init
 1584              	.LVL134:
 466:Core/Src/main.c ****     
 1585              		.loc 1 466 5 view .LVU372
 1586 000e FFF7FEFF 		bl	MX_CAN1_Init
 1587              	.LVL135:
 471:Core/Src/main.c ****     BSP_CAN_Init();
 1588              		.loc 1 471 5 view .LVU373
 1589 0012 FFF7FEFF 		bl	Motor_Init_All
 1590              	.LVL136:
 472:Core/Src/main.c ****     
 1591              		.loc 1 472 5 view .LVU374
 1592 0016 FFF7FEFF 		bl	BSP_CAN_Init
 1593              	.LVL137:
 475:Core/Src/main.c ****     printf("Lower motor initial angle: %.1fÂ°\n", lower_motor_initial_angle);
 1594              		.loc 1 475 5 view .LVU375
 475:Core/Src/main.c ****     printf("Lower motor initial angle: %.1fÂ°\n", lower_motor_initial_angle);
 1595              		.loc 1 475 64 is_stmt 0 view .LVU376
 1596 001a 254C     		ldr	r4, .L135
 1597 001c D4F80002 		ldr	r0, [r4, #512]	@ float
 475:Core/Src/main.c ****     printf("Lower motor initial angle: %.1fÂ°\n", lower_motor_initial_angle);
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 61


 1598              		.loc 1 475 31 view .LVU377
 1599 0020 244B     		ldr	r3, .L135+4
 1600 0022 1860     		str	r0, [r3]	@ float
 476:Core/Src/main.c ****     
 1601              		.loc 1 476 5 is_stmt 1 view .LVU378
 1602 0024 FFF7FEFF 		bl	__aeabi_f2d
 1603              	.LVL138:
 1604 0028 0246     		mov	r2, r0
 1605 002a 0B46     		mov	r3, r1
 1606 002c 2248     		ldr	r0, .L135+8
 1607 002e FFF7FEFF 		bl	printf
 1608              	.LVL139:
 479:Core/Src/main.c ****     Motor_Set_Target(LOWER_MOTOR_ID, MOTOR_MODE_CURRENT_SPEED, LOWER_MOTOR_SPEED);
 1609              		.loc 1 479 5 view .LVU379
 1610 0032 9FED220A 		vldr.32	s0, .L135+12
 1611 0036 0121     		movs	r1, #1
 1612 0038 0420     		movs	r0, #4
 1613 003a FFF7FEFF 		bl	Motor_Set_Target
 1614              	.LVL140:
 480:Core/Src/main.c ****     
 1615              		.loc 1 480 5 view .LVU380
 1616 003e 9FED200A 		vldr.32	s0, .L135+16
 1617 0042 0121     		movs	r1, #1
 1618 0044 0320     		movs	r0, #3
 1619 0046 FFF7FEFF 		bl	Motor_Set_Target
 1620              	.LVL141:
 483:Core/Src/main.c ****     gm6020_motors[3].gravity_gain = 0.0f;
 1621              		.loc 1 483 5 view .LVU381
 483:Core/Src/main.c ****     gm6020_motors[3].gravity_gain = 0.0f;
 1622              		.loc 1 483 34 is_stmt 0 view .LVU382
 1623 004a 4FF48053 		mov	r3, #4096
 1624 004e A4F8D633 		strh	r3, [r4, #982]	@ movhi
 484:Core/Src/main.c ****     /* USER CODE END 2 */
 1625              		.loc 1 484 5 is_stmt 1 view .LVU383
 484:Core/Src/main.c ****     /* USER CODE END 2 */
 1626              		.loc 1 484 35 is_stmt 0 view .LVU384
 1627 0052 0023     		movs	r3, #0
 1628 0054 C4F8D833 		str	r3, [r4, #984]	@ float
 1629 0058 0CE0     		b	.L132
 1630              	.L128:
 1631              	.LBB16:
 505:Core/Src/main.c ****             }
 1632              		.loc 1 505 17 is_stmt 1 view .LVU385
 1633 005a FFF7FEFF 		bl	Update_Lower_Motor_Control
 1634              	.LVL142:
 1635              	.L129:
 509:Core/Src/main.c ****                 current_mode == MODE_UPPER_MOVING) {
 1636              		.loc 1 509 13 view .LVU386
 509:Core/Src/main.c ****                 current_mode == MODE_UPPER_MOVING) {
 1637              		.loc 1 509 50 is_stmt 0 view .LVU387
 1638 005e 194B     		ldr	r3, .L135+20
 1639 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 509:Core/Src/main.c ****                 current_mode == MODE_UPPER_MOVING) {
 1640              		.loc 1 509 16 view .LVU388
 1641 0062 012B     		cmp	r3, #1
 1642 0064 1CD9     		bls	.L134
 513:Core/Src/main.c ****             }
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 62


 1643              		.loc 1 513 17 is_stmt 1 view .LVU389
 1644 0066 FFF7FEFF 		bl	Reset_Upper_Motor_Position
 1645              	.LVL143:
 1646              	.L131:
 517:Core/Src/main.c ****         }
 1647              		.loc 1 517 13 view .LVU390
 1648 006a FFF7FEFF 		bl	Motor_Control_Loop
 1649              	.LVL144:
 1650              	.L127:
 519:Core/Src/main.c ****         /* USER CODE BEGIN 3 */
 1651              		.loc 1 519 9 view .LVU391
 1652 006e 0120     		movs	r0, #1
 1653 0070 FFF7FEFF 		bl	HAL_Delay
 1654              	.LVL145:
 1655              	.LBE16:
 489:Core/Src/main.c ****     {
 1656              		.loc 1 489 11 view .LVU392
 1657              	.L132:
 489:Core/Src/main.c ****     {
 1658              		.loc 1 489 5 view .LVU393
 1659              	.LBB17:
 492:Core/Src/main.c ****         if (HAL_GetTick() - last_update >= 5) {
 1660              		.loc 1 492 9 view .LVU394
 493:Core/Src/main.c ****             last_update = HAL_GetTick();
 1661              		.loc 1 493 9 view .LVU395
 493:Core/Src/main.c ****             last_update = HAL_GetTick();
 1662              		.loc 1 493 13 is_stmt 0 view .LVU396
 1663 0074 FFF7FEFF 		bl	HAL_GetTick
 1664              	.LVL146:
 493:Core/Src/main.c ****             last_update = HAL_GetTick();
 1665              		.loc 1 493 27 discriminator 1 view .LVU397
 1666 0078 134B     		ldr	r3, .L135+24
 1667 007a 1B68     		ldr	r3, [r3]
 1668 007c C01A     		subs	r0, r0, r3
 493:Core/Src/main.c ****             last_update = HAL_GetTick();
 1669              		.loc 1 493 12 discriminator 1 view .LVU398
 1670 007e 0428     		cmp	r0, #4
 1671 0080 F5D9     		bls	.L127
 494:Core/Src/main.c ****             
 1672              		.loc 1 494 13 is_stmt 1 view .LVU399
 494:Core/Src/main.c ****             
 1673              		.loc 1 494 27 is_stmt 0 view .LVU400
 1674 0082 FFF7FEFF 		bl	HAL_GetTick
 1675              	.LVL147:
 494:Core/Src/main.c ****             
 1676              		.loc 1 494 25 discriminator 1 view .LVU401
 1677 0086 104B     		ldr	r3, .L135+24
 1678 0088 1860     		str	r0, [r3]
 497:Core/Src/main.c ****             
 1679              		.loc 1 497 13 is_stmt 1 view .LVU402
 1680 008a FFF7FEFF 		bl	Check_Key_Inputs
 1681              	.LVL148:
 500:Core/Src/main.c ****             
 1682              		.loc 1 500 13 view .LVU403
 1683 008e FFF7FEFF 		bl	Process_Mode_Transition
 1684              	.LVL149:
 503:Core/Src/main.c ****                 current_mode == MODE_LOWER_MOVING) {
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 63


 1685              		.loc 1 503 13 view .LVU404
 503:Core/Src/main.c ****                 current_mode == MODE_LOWER_MOVING) {
 1686              		.loc 1 503 30 is_stmt 0 view .LVU405
 1687 0092 0C4B     		ldr	r3, .L135+20
 1688 0094 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 503:Core/Src/main.c ****                 current_mode == MODE_LOWER_MOVING) {
 1689              		.loc 1 503 16 view .LVU406
 1690 0096 002B     		cmp	r3, #0
 1691 0098 DFD0     		beq	.L128
 503:Core/Src/main.c ****                 current_mode == MODE_LOWER_MOVING) {
 1692              		.loc 1 503 50 discriminator 1 view .LVU407
 1693 009a 022B     		cmp	r3, #2
 1694 009c DFD1     		bne	.L129
 1695 009e DCE7     		b	.L128
 1696              	.L134:
 511:Core/Src/main.c ****             } else {
 1697              		.loc 1 511 17 is_stmt 1 view .LVU408
 1698 00a0 9FED060A 		vldr.32	s0, .L135+12
 1699 00a4 0121     		movs	r1, #1
 1700 00a6 0420     		movs	r0, #4
 1701 00a8 FFF7FEFF 		bl	Motor_Set_Target
 1702              	.LVL150:
 1703 00ac DDE7     		b	.L131
 1704              	.L136:
 1705 00ae 00BF     		.align	2
 1706              	.L135:
 1707 00b0 00000000 		.word	gm6020_motors
 1708 00b4 00000000 		.word	lower_motor_initial_angle
 1709 00b8 00000000 		.word	.LC13
 1710 00bc 00001442 		.word	1108606976
 1711 00c0 00003443 		.word	1127481344
 1712 00c4 00000000 		.word	current_mode
 1713 00c8 00000000 		.word	last_update.0
 1714              	.LBE17:
 1715              		.cfi_endproc
 1716              	.LFE145:
 1718              		.section	.bss.last_update.0,"aw",%nobits
 1719              		.align	2
 1722              	last_update.0:
 1723 0000 00000000 		.space	4
 1724              		.section	.bss.last_debug.1,"aw",%nobits
 1725              		.align	2
 1728              	last_debug.1:
 1729 0000 00000000 		.space	4
 1730              		.section	.bss.last_debug.2,"aw",%nobits
 1731              		.align	2
 1734              	last_debug.2:
 1735 0000 00000000 		.space	4
 1736              		.global	upper_motor_needs_reset
 1737              		.section	.bss.upper_motor_needs_reset,"aw",%nobits
 1740              	upper_motor_needs_reset:
 1741 0000 00       		.space	1
 1742              		.global	upper_motor_target_angle
 1743              		.section	.bss.upper_motor_target_angle,"aw",%nobits
 1744              		.align	2
 1747              	upper_motor_target_angle:
 1748 0000 00000000 		.space	4
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 64


 1749              		.global	transition_start_time
 1750              		.section	.bss.transition_start_time,"aw",%nobits
 1751              		.align	2
 1754              	transition_start_time:
 1755 0000 00000000 		.space	4
 1756              		.global	accumulated_angle
 1757              		.section	.bss.accumulated_angle,"aw",%nobits
 1758              		.align	2
 1761              	accumulated_angle:
 1762 0000 00000000 		.space	4
 1763              		.global	lower_state
 1764              		.section	.bss.lower_state,"aw",%nobits
 1767              	lower_state:
 1768 0000 00       		.space	1
 1769              		.global	lower_motor_speed
 1770              		.section	.data.lower_motor_speed,"aw"
 1771              		.align	2
 1774              	lower_motor_speed:
 1775 0000 00003443 		.word	1127481344
 1776              		.global	lower_motor_target_angle
 1777              		.section	.bss.lower_motor_target_angle,"aw",%nobits
 1778              		.align	2
 1781              	lower_motor_target_angle:
 1782 0000 00000000 		.space	4
 1783              		.global	lower_motor_initial_angle
 1784              		.section	.bss.lower_motor_initial_angle,"aw",%nobits
 1785              		.align	2
 1788              	lower_motor_initial_angle:
 1789 0000 00000000 		.space	4
 1790              		.global	lower_motor_state
 1791              		.section	.bss.lower_motor_state,"aw",%nobits
 1794              	lower_motor_state:
 1795 0000 00       		.space	1
 1796              		.global	MODE_TRANSITION_TIME
 1797              		.section	.rodata.MODE_TRANSITION_TIME,"a"
 1798              		.align	2
 1801              	MODE_TRANSITION_TIME:
 1802 0000 C8000000 		.word	200
 1803              		.global	mode_transition_start
 1804              		.section	.bss.mode_transition_start,"aw",%nobits
 1805              		.align	2
 1808              	mode_transition_start:
 1809 0000 00000000 		.space	4
 1810              		.global	last_key_press
 1811              		.section	.bss.last_key_press,"aw",%nobits
 1812              		.align	2
 1815              	last_key_press:
 1816 0000 00000000 		.space	4
 1817              		.global	last_mode
 1818              		.section	.bss.last_mode,"aw",%nobits
 1821              	last_mode:
 1822 0000 00       		.space	1
 1823              		.global	target_mode
 1824              		.section	.bss.target_mode,"aw",%nobits
 1827              	target_mode:
 1828 0000 00       		.space	1
 1829              		.global	current_mode
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 65


 1830              		.section	.bss.current_mode,"aw",%nobits
 1833              	current_mode:
 1834 0000 00       		.space	1
 1835              		.text
 1836              	.Letext0:
 1837              		.file 3 "C:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1838              		.file 4 "C:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1839              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f427xx.h"
 1840              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1841              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc_ex.h"
 1842              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc.h"
 1843              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1844              		.file 10 "App/Inc/pid.h"
 1845              		.file 11 "App/Inc/motor_control.h"
 1846              		.file 12 "App/Inc/can_bsp.h"
 1847              		.file 13 "Core/Inc/can.h"
 1848              		.file 14 "Core/Inc/gpio.h"
 1849              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1850              		.file 16 "C:/msys64/mingw64/arm-none-eabi/include/stdio.h"
 1851              		.file 17 "<built-in>"
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 66


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:22     .rodata.Return_Lower_Motor_To_Initial_Position.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:27     .text.Return_Lower_Motor_To_Initial_Position:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:33     .text.Return_Lower_Motor_To_Initial_Position:00000000 Return_Lower_Motor_To_Initial_Position
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:90     .text.Return_Lower_Motor_To_Initial_Position:0000003c $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1794   .bss.lower_motor_state:00000000 lower_motor_state
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1788   .bss.lower_motor_initial_angle:00000000 lower_motor_initial_angle
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1781   .bss.lower_motor_target_angle:00000000 lower_motor_target_angle
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:99     .rodata.Reset_Upper_Motor_Position.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:107    .text.Reset_Upper_Motor_Position:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:113    .text.Reset_Upper_Motor_Position:00000000 Reset_Upper_Motor_Position
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:301    .text.Reset_Upper_Motor_Position:000000ec $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1740   .bss.upper_motor_needs_reset:00000000 upper_motor_needs_reset
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1747   .bss.upper_motor_target_angle:00000000 upper_motor_target_angle
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1734   .bss.last_debug.2:00000000 last_debug.2
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:316    .text.Configure_Motors_For_Mode:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:322    .text.Configure_Motors_For_Mode:00000000 Configure_Motors_For_Mode
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:340    .text.Configure_Motors_For_Mode:0000000a $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:344    .text.Configure_Motors_For_Mode:0000000e $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:429    .text.Configure_Motors_For_Mode:00000078 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:437    .rodata.Process_Mode_Transition.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:441    .text.Process_Mode_Transition:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:447    .text.Process_Mode_Transition:00000000 Process_Mode_Transition
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:500    .text.Process_Mode_Transition:00000030 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1833   .bss.current_mode:00000000 current_mode
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1827   .bss.target_mode:00000000 target_mode
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1808   .bss.mode_transition_start:00000000 mode_transition_start
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:508    .rodata.Brake_Upper_Motor.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:512    .text.Brake_Upper_Motor:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:518    .text.Brake_Upper_Motor:00000000 Brake_Upper_Motor
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:568    .text.Brake_Upper_Motor:0000002c $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:577    .text.Prepare_Mode_Transition:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:583    .text.Prepare_Mode_Transition:00000000 Prepare_Mode_Transition
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:604    .text.Prepare_Mode_Transition:0000000a $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:608    .text.Prepare_Mode_Transition:0000000e $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:694    .text.Prepare_Mode_Transition:00000068 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:702    .rodata.Check_Key_Inputs.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:706    .text.Check_Key_Inputs:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:712    .text.Check_Key_Inputs:00000000 Check_Key_Inputs
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:799    .text.Check_Key_Inputs:00000058 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1815   .bss.last_key_press:00000000 last_key_press
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:809    .rodata.Update_Lower_Motor_Control.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:833    .text.Update_Lower_Motor_Control:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:839    .text.Update_Lower_Motor_Control:00000000 Update_Lower_Motor_Control
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:890    .text.Update_Lower_Motor_Control:00000030 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:894    .text.Update_Lower_Motor_Control:00000034 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1328   .text.Update_Lower_Motor_Control:00000280 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1761   .bss.accumulated_angle:00000000 accumulated_angle
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1767   .bss.lower_state:00000000 lower_state
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1754   .bss.transition_start_time:00000000 transition_start_time
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1728   .bss.last_debug.1:00000000 last_debug.1
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1356   .text.Error_Handler:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1362   .text.Error_Handler:00000000 Error_Handler
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1394   .text.SystemClock_Config:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1400   .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1548   .text.SystemClock_Config:000000a0 $d
ARM GAS  C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s 			page 67


C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1554   .rodata.main.str1.4:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1558   .text.main:00000000 $t
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1564   .text.main:00000000 main
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1707   .text.main:000000b0 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1722   .bss.last_update.0:00000000 last_update.0
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1719   .bss.last_update.0:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1725   .bss.last_debug.1:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1731   .bss.last_debug.2:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1741   .bss.upper_motor_needs_reset:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1744   .bss.upper_motor_target_angle:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1751   .bss.transition_start_time:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1758   .bss.accumulated_angle:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1768   .bss.lower_state:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1774   .data.lower_motor_speed:00000000 lower_motor_speed
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1771   .data.lower_motor_speed:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1778   .bss.lower_motor_target_angle:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1785   .bss.lower_motor_initial_angle:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1795   .bss.lower_motor_state:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1801   .rodata.MODE_TRANSITION_TIME:00000000 MODE_TRANSITION_TIME
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1798   .rodata.MODE_TRANSITION_TIME:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1805   .bss.mode_transition_start:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1812   .bss.last_key_press:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1821   .bss.last_mode:00000000 last_mode
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1822   .bss.last_mode:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1828   .bss.target_mode:00000000 $d
C:\Users\wxwsyzh\AppData\Local\Temp\ccO2WJ2w.s:1834   .bss.current_mode:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
Motor_Set_Target
printf
PID_Clear
gm6020_motors
HAL_GetTick
PID_Init
puts
HAL_GPIO_ReadPin
PID_Calc
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_CAN1_Init
Motor_Init_All
BSP_CAN_Init
Motor_Control_Loop
HAL_Delay
